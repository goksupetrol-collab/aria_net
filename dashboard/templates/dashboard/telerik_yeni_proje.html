{% extends "dashboard/base.html" %}
{% load static %}

{% block title %}Yeni Telerik Projesi{% endblock %}

{% block extra_head %}
  <style>
    *{box-sizing:border-box}
    /* Sadece layout iÃƒÂ§in minimal CSS - Telerik bileÃ…Å¸enleri kendi stillerini kullanacak */
    .container{width:100%;height:auto;min-height:auto;padding:0;margin:0;overflow:visible}
    .header{display:none}
    .menu-container{display:none}
    #top-menu-bar{display:block !important;visibility:visible !important;width:100%;min-height:30px}
    #top-menu-bar .k-menu{display:block !important;width:100% !important;background:#fff !important}
    #top-menu-bar .k-menu-item{display:inline-block !important;visibility:visible !important}
    .content-area{width:100%;height:auto;margin-top:0;display:grid;grid-template-columns:620px 620px 640px;grid-template-rows:448px 438px;gap:5px;padding:0;max-width:100vw;overflow-x:hidden !important}
    .panel{position:relative;display:flex;flex-direction:column;overflow:hidden}
    .panel-content{flex:1;overflow:auto;position:relative}
    .mtr1-section{grid-column:1;grid-row:1}
    .mtr2-section{grid-column:2;grid-row:1}
    .right-section{grid-column:3;grid-row:1 / span 2;display:flex;flex-direction:column;gap:3px}
    .entry-section{grid-column:1;grid-row:2}
    .cars-section{grid-column:2;grid-row:2;display:flex;flex-direction:column;overflow:hidden}
    .right-column{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:600px 20px 25px 1fr;gap:3px;height:100%}
    .tahsilat-area{grid-column:1;grid-row:1}
    .odeme-area{grid-column:2;grid-row:1}
    .tahsilat-total{grid-column:1;grid-row:2;display:flex;align-items:center;justify-content:center;height:20px}
    .odeme-total{grid-column:2;grid-row:2;display:flex;align-items:center;justify-content:center;height:20px}
    .genel-total{grid-column:1 / span 2;grid-row:3;display:flex;align-items:center;justify-content:center;height:25px}
    .limits-area{grid-column:1 / span 2;grid-row:4;display:grid;grid-template-columns:1fr 1fr;gap:3px}
    .content-wrapper{width:100%;height:auto;overflow-x:hidden !important;overflow-y:auto;margin-top:0}
    
    /* Telerik Menu ÃƒÂ¶zelleÃ…Å¸tirmeleri - Resimdeki gibi */
    #top-menu-container{background:#e3f2fd !important}
    #top-menu-bar .k-menu{background:#e3f2fd !important;border:none !important;height:28px !important}
    #top-menu-bar .k-menu-item{background:transparent !important;border-right:1px solid #90caf9 !important;padding:4px 12px !important;height:28px !important;line-height:20px !important}
    #top-menu-bar .k-menu-item:hover{background:#bbdefb !important}
    #top-menu-bar .k-menu-item-text{font-size:11px !important;font-weight:normal !important;color:#000 !important}
    #top-menu-bar .k-menu-group{background:#fff !important;border:1px solid #90caf9 !important;box-shadow:0 2px 4px rgba(0,0,0,.1) !important}
    #top-menu-bar .k-menu-group .k-menu-item{background:#fff !important;border-right:none !important;padding:6px 12px !important;height:auto !important}
    #top-menu-bar .k-menu-group .k-menu-item:hover{background:#f5f5f5 !important}
    
    /* BAÃ…ÂLIK: LOBI - Sadece menÃƒÂ¼ (lobi) ekranÃ„Â±nda gÃƒÂ¶rÃƒÂ¼nÃƒÂ¼r */
    /* BaÃ…Å¸langÃ„Â±ÃƒÂ§ta gÃƒÂ¶rÃƒÂ¼nÃƒÂ¼r (lobi ekranÃ„Â±), JavaScript ile kontrol edilir */
    #title-bar{position:fixed;top:169px;left:0;right:0;z-index:9995;height:40px;background:linear-gradient(to bottom, rgb(60, 80, 100), rgb(40, 60, 80));display:flex;align-items:center;justify-content:center;padding:0;font-family:'Segoe UI',Arial,sans-serif;box-shadow:0 2px 6px rgba(0,0,0,0.2);display:none;}
    #title-bar div{color:#FFFFFF;font-size:18pt;font-weight:600;letter-spacing:1px;text-shadow:1px 1px 2px rgba(0,0,0,0.3);text-align:center;width:100%;}
    
    /* Ã„Â°ÃƒÂ§erik wrapper margin dÃƒÂ¼zeltmesi */
    .content-wrapper{margin-top:0 !important;padding-top:0 !important;}
    
    /* Ã„Â°ÃƒÂ§erik alanÃ„Â± margin ayarÃ„Â± - base.html'deki main-content margin-top:169px var */
    #main-content-firma-tanimlari{margin-top:0 !important;padding-top:0 !important;display:none;}
    #main-content-sube-tanimlari{margin-top:0 !important;padding-top:0 !important;display:none;}
    #main-content-sube-karti{margin-top:0 !important;padding-top:0 !important;display:none;}
    #main-content-menu-cubugu-ayarlari{margin-top:0 !important;padding-top:0 !important;display:none;}
    .container{padding:0 !important;margin:0 !important;}
    
    
    /* Kredi kartÃ„Â± ve banka sayfalarÃ„Â± iÃƒÂ§in overflow kontrolÃƒÂ¼ */
    #kredi-karti-grid, #kredi-karti-grid .k-grid, #kredi-karti-grid .k-grid-content,
    #kredi-karti-grid .k-grid-header, #kredi-karti-grid .k-grid-header-wrap,
    #kredi-karti-grid .k-grid-content-wrap, #kredi-karti-grid table {overflow-x:hidden !important;max-width:100% !important;width:100% !important}
    
    #cari-kart-grid, #cari-kart-grid .k-grid, #cari-kart-grid .k-grid-content,
    #cari-kart-grid .k-grid-header, #cari-kart-grid .k-grid-header-wrap,
    #cari-kart-grid .k-grid-content-wrap, #cari-kart-grid table {overflow-x:hidden !important;max-width:100% !important;width:100% !important}
    
    #firma-tanimlari-grid {
      width: 100%;
      box-sizing: border-box;
    }
    #main-content-firma-tanimlari h1 {
      font-size: 15px !important;
      line-height: 20px !important;
    }
    #firma-tanimlari-grid .k-grid-content {
      overflow-x: auto !important;
      overflow-y: auto !important;
    }
    #firma-tanimlari-grid .k-grid-header-wrap {
      overflow-x: hidden !important;
      padding-right: 0 !important;
    }
    #firma-tanimlari-grid .k-grid-header table,
    #firma-tanimlari-grid .k-grid-content table {
      table-layout: fixed;
    }
    #firma-tanimlari-grid .k-grid-header table,
    #firma-tanimlari-grid .k-grid-content table {
      width: 100% !important;
    }
    #firma-tanimlari-grid .k-grid-content table tr {
      height: 25px !important;
    }
    #firma-tanimlari-grid .k-grid-content table td {
      height: 25px !important;
      line-height: 25px !important;
      padding-top: 0 !important;
      padding-bottom: 0 !important;
    }
    #sube-karti-grid, #sube-karti-grid .k-grid, #sube-karti-grid .k-grid-content,
    #sube-karti-grid .k-grid-header, #sube-karti-grid .k-grid-header-wrap,
    #sube-karti-grid .k-grid-content-wrap, #sube-karti-grid table {overflow-x:hidden !important;max-width:100% !important;width:100% !important}
    #sube-evrak-window {position: relative; z-index: 5000;}
    #sube-evrak-window .k-upload-button {position: relative; z-index: 2; pointer-events: auto;}
    #sube-evrak-window .k-dropzone {display:flex !important; align-items:center; gap:8px;}
    #sube-evrak-window .k-dropzone-hint {display:none !important;}
    #sube-evrak-window input[type="file"] {display:block !important; pointer-events:auto;}

    /* SÃƒÂ¼tun seÃƒÂ§imi menÃƒÂ¼sÃƒÂ¼ ikonu her zaman gÃƒÂ¶rÃƒÂ¼nsÃƒÂ¼n */
    #firma-tanimlari-grid .k-grid-header .k-header .k-grid-column-menu,
    #firma-tanimlari-grid .k-grid-header .k-header .k-column-menu {
      visibility: visible !important;
      opacity: 1 !important;
    }

    /* BaÃ…Å¸lÃ„Â±k imleci ve sÃƒÂ¼tun tutma alanÃ„Â± */
    #firma-tanimlari-grid .k-grid-header .k-header {
      cursor: default;
    }
    #firma-tanimlari-grid .k-resize-handle,
    #firma-tanimlari-grid .k-column-resizer {
      width: 10px !important;
      cursor: col-resize !important;
      pointer-events: auto !important;
      z-index: 5;
    }

    /* Firma TanÃ„Â±mlarÃ„Â± yerleÃ…Å¸imi */
    body.firma-tanimlari-sayfasi-acik #main-content-firma-tanimlari {
      overflow-x: visible !important;
      max-width: none !important;
    }
    .firma-tanimlari-layout {
      display: flex;
      align-items: stretch;
      gap: 16px;
    }
    .firma-tanimlari-grid-area {
      flex: 1;
      min-width: 0;
    }

    /* Firma TanÃ„Â±mlarÃ„Â± saÃ„Å¸ sabit buton paneli */
    #firma-tanimlari-right-buttons {
      width: 190px;
      display: none;
      flex-direction: column;
      gap: 6px;
      padding: 10px;
      background: var(--kendo-color-base);
      border: 1px solid var(--kendo-color-border, #d0d0d0);
      border-radius: 6px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.12);
      position: sticky;
      top: 0;
      height: 800px;
      min-height: 800px;
      z-index: 5;
    }
    body.firma-tanimlari-sayfasi-acik #firma-tanimlari-right-buttons {
      display: flex;
    }
    body.firma-tanimlari-sayfasi-acik #main-content-firma-tanimlari {
      display: block !important;
      min-height: 600px;
    }
    #firma-tanimlari-right-buttons .firma-action-btn {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 8px;
      width: 100%;
      height: 32px;
      padding: 4px 10px;
      border-radius: 4px;
      border: 1px solid var(--kendo-color-border, #cfcfcf);
      background: var(--kendo-color-base, #f5f5f5);
      color: var(--kendo-color-text, #222222);
      transition: background-color 0.12s ease, border-color 0.12s ease, box-shadow 0.12s ease, color 0.12s ease;
    }
    #firma-tanimlari-right-buttons .firma-action-btn:hover,
    #firma-tanimlari-right-buttons .firma-action-btn.k-hover {
      background: var(--kendo-color-base-hover, #ededed);
      border-color: var(--kendo-color-border-emphasis, #bdbdbd);
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.03);
    }
    #firma-tanimlari-right-buttons .firma-action-btn:active,
    #firma-tanimlari-right-buttons .firma-action-btn.k-active,
    #firma-tanimlari-right-buttons .firma-action-btn.k-selected,
    #firma-tanimlari-right-buttons .firma-action-btn.is-selected {
      background: var(--kendo-color-success, #2e7d32);
      border-color: var(--kendo-color-success, #2e7d32);
      color: var(--kendo-color-on-success, #ffffff);
    }
    #firma-tanimlari-right-buttons .firma-action-btn .k-icon {
      font-size: 16px;
      width: 16px;
      height: 16px;
      color: inherit;
    }
    #firma-tanimlari-right-buttons .firma-action-icon {
      font-size: 14px;
      width: 16px;
      min-width: 16px;
      text-align: center;
      color: inherit;
    }
    #firma-tanimlari-right-buttons .firma-action-primary {
      border-color: var(--kendo-color-success, #2e7d32);
    }
    #firma-tanimlari-right-buttons .firma-action-danger {
      border-color: var(--kendo-color-error, #c62828);
      color: var(--kendo-color-error, #c62828);
      background: var(--kendo-color-base, #f5f5f5);
    }
    #firma-tanimlari-right-buttons .firma-action-danger:hover,
    #firma-tanimlari-right-buttons .firma-action-danger.k-hover {
      background: var(--kendo-color-error, #c62828);
      border-color: var(--kendo-color-error, #c62828);
      color: var(--kendo-color-on-error, #ffffff);
    }
    body.firma-tanimlari-sayfasi-acik #firma-tanimlari-grid {
      min-height: 600px;
      border: 1px solid #e0e0e0;
    }
    #firma-tanimlari-right-buttons .k-button {
      width: 100%;
      justify-content: center;
      height: 34px;
      min-height: 34px;
      padding-top: 2px;
      padding-bottom: 2px;
      line-height: 30px;
      font-size: 17px;
    }
    #firma-tanimlari-right-buttons .exit-button {
      margin-top: auto;
    }

    /* Åube TanÄ±mlarÄ± yerleÅŸimi */
    body.sube-tanimlari-sayfasi-acik #main-content-sube-tanimlari {
      overflow-x: visible !important;
      max-width: none !important;
    }
    .sube-tanimlari-layout {
      display: flex;
      align-items: stretch;
      gap: 16px;
    }
    .sube-tanimlari-grid-area {
      flex: 1;
      min-width: 0;
    }
    #sube-tanimlari-grid {
      width: 100%;
      box-sizing: border-box;
    }
    #sube-tanimlari-grid .k-grid-content {
      overflow-x: auto !important;
      overflow-y: auto !important;
    }
    #sube-tanimlari-grid .k-grid-header-wrap {
      overflow-x: hidden !important;
    }
    #sube-tanimlari-grid .k-grid-header table,
    #sube-tanimlari-grid .k-grid-content table {
      table-layout: fixed;
    }
    #sube-tanimlari-grid .k-grid-header .k-header .k-grid-column-menu,
    #sube-tanimlari-grid .k-grid-header .k-header .k-column-menu {
      visibility: visible !important;
      opacity: 1 !important;
    }
    #sube-tanimlari-grid .k-grid-header .k-header {
      cursor: default;
    }
    #sube-tanimlari-grid .k-resize-handle,
    #sube-tanimlari-grid .k-column-resizer {
      width: 10px !important;
      cursor: col-resize !important;
      pointer-events: auto !important;
      z-index: 5;
    }

    /* Åube TanÄ±mlarÄ± saÄŸ sabit buton paneli */
    #sube-tanimlari-right-buttons {
      width: 200px;
      display: none;
      flex-direction: column;
      gap: 6px;
      padding: 10px;
      background: #f7f7f7;
      border: 1px solid #d0d0d0;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      position: sticky;
      top: 160px;
      height: calc(100vh - 220px);
      min-height: 420px;
      z-index: 5;
    }
    body.sube-tanimlari-sayfasi-acik #sube-tanimlari-right-buttons {
      display: flex;
    }
    body.sube-tanimlari-sayfasi-acik #main-content-sube-tanimlari {
      display: block !important;
      min-height: 600px;
    }
    body.sube-tanimlari-sayfasi-acik #sube-tanimlari-grid {
      min-height: 600px;
      border: 1px solid #e0e0e0;
    }
    #sube-tanimlari-right-buttons .k-button {
      width: 100%;
      justify-content: center;
      height: 34px;
      min-height: 34px;
      padding-top: 2px;
      padding-bottom: 2px;
      line-height: 30px;
      font-size: 17px;
    }
    #sube-tanimlari-right-buttons .exit-button {
      margin-top: auto;
    }
    
    #banka-grid, #banka-grid .k-grid, #banka-grid .k-grid-content,
    #banka-grid .k-grid-header, #banka-grid .k-grid-header-wrap,
    #banka-grid .k-grid-content-wrap, #banka-grid table {overflow-x:hidden !important;max-width:100% !important;width:100% !important}
    
    /* GENEL TELERÃ„Â°K GRID BORDER/PADDING SORUNU Ãƒâ€¡Ãƒâ€“ZÃƒÅ“MÃƒÅ“ - TÃƒÂ¼m grid'ler iÃƒÂ§in geÃƒÂ§erli */
    /* Telerik Grid'in border/padding sorununu ÃƒÂ§ÃƒÂ¶zmek iÃƒÂ§in genel CSS kurallarÃ„Â± */
    .k-grid, .k-grid .k-widget {
      box-sizing: border-box !important;
    }
    
    /* Container iÃƒÂ§indeki grid'ler iÃƒÂ§in border kontrolÃƒÂ¼ */
    [id*="-grid"], [id*="-grid"] .k-grid,
    [id*="-grid"] .k-widget,
    [id*="-grid"] table.k-grid-table {
      box-sizing: border-box !important;
    }
    
    /* main-content iÃƒÂ§indeki tÃƒÂ¼m margin/padding sÃ„Â±fÃ„Â±rla */
    #main-content > * {margin-top:0 !important;padding-top:0 !important;}
    #main-content .container {margin-top:0 !important;padding-top:0 !important;}
    #main-content .header {margin:0 !important;padding:0 !important;}
    #main-content .menu-container {margin:0 !important;padding:0 !important;}
    
    /* title-bar JavaScript ile kontrol ediliyor, CSS'de !important kullanmayalÃ„Â±m */
    
    /* PROFESYONEL RENK PALETÃ„Â° - Modern & Temiz */
    
    /* Sayfa Arka PlanÃ„Â± */
    body, .content-wrapper {
      background-color: #fafafa !important;
    }
    
    /* Global Typography - Roboto font ailesi */
    .k-grid {
      font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif !important;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      font-size: 13px !important;
      line-height: 1.5 !important;
      letter-spacing: 0.01em !important;
      background-color: #ffffff !important;
    }
    
    /* Grid Header - AÃƒÂ§Ã„Â±k Mavi Ton, Profesyonel */
    .k-grid .k-grid-header th,
    .k-grid-header th,
    .k-grid-header-wrap th,
    .k-grid-header-wrap table th,
    .k-grid table th.k-header {
      background: linear-gradient(to bottom, #2196f3, #1976d2) !important;
      background-image: linear-gradient(to bottom, #2196f3, #1976d2) !important;
      color: #ffffff !important;
      font-weight: 600 !important;
      font-size: 16px !important;
      letter-spacing: 0.05em !important;
      text-transform: uppercase !important;
      padding: 4px 6px !important;
      border: none !important;
      border-right: 1px solid rgba(255, 255, 255, 0.2) !important;
      border-bottom: 2px solid #1565c0 !important;
      text-align: center !important;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) !important;
      white-space: normal !important;
      overflow-wrap: normal !important;
      word-break: keep-all !important;
      text-overflow: clip !important;
      overflow: visible !important;
      line-height: 16px !important;
      height: auto !important;
    }
    .k-grid .k-grid-header th .k-link,
    .k-grid-header th .k-link,
    .k-grid-header-wrap th .k-link {
      display: block !important;
      white-space: normal !important;
      word-break: keep-all !important;
      overflow-wrap: normal !important;
      text-overflow: clip !important;
      overflow: visible !important;
      text-align: center !important;
      height: auto !important;
    }
    .k-grid .k-grid-header,
    .k-grid-header-wrap {
      height: auto !important;
    }
    .k-grid .k-grid-header table,
    .k-grid-header-wrap table {
      height: auto !important;
    }
    .k-grid .k-grid-header th .k-link .k-column-title,
    .k-grid-header th .k-link .k-column-title,
    .k-grid-header-wrap th .k-link .k-column-title {
      display: inline-block !important;
      white-space: normal !important;
      word-break: keep-all !important;
      overflow-wrap: normal !important;
      text-overflow: clip !important;
      overflow: visible !important;
      max-width: none !important;
    }
    #firma-tanimlari-grid .k-grid-header th,
    #firma-tanimlari-grid .k-grid-header th .k-link,
    #firma-tanimlari-grid .k-grid-header th .k-column-title {
      height: auto !important;
      white-space: normal !important;
      word-break: keep-all !important;
      overflow-wrap: normal !important;
      text-overflow: clip !important;
      overflow: visible !important;
      text-align: center !important;
      vertical-align: middle !important;
    }
    #firma-tanimlari-grid .k-grid-header th {
      overflow: visible !important;
    }
    #firma-tanimlari-grid .k-grid-header th .k-link {
      width: auto !important;
      display: block !important;
    }
    #firma-tanimlari-grid .k-grid-header th .k-column-title {
      width: auto !important;
      display: block !important;
      text-transform: none !important;
    }
    
    .k-grid .k-grid-header th:last-child,
    .k-grid-header th:last-child,
    .k-grid-header-wrap th:last-child {
      border-right: none !important;
    }
    
    /* Telerik'in header background override */
    .k-grid .k-grid-header,
    .k-grid-header-wrap {
      background: transparent !important;
    }
    
    /* Grid Cells - Professional padding, spacing - Ãƒâ€¡OK GÃƒÅ“Ãƒâ€¡LÃƒÅ“ SELECTOR */
    .k-grid td,
    .k-grid tbody td,
    .k-grid-content td,
    .k-grid-content table td {
      padding: 0 6px !important;
      border-right: 1px solid #e0e0e0 !important;
      border-bottom: 1px solid #e0e0e0 !important;
      border-top: none !important;
      font-size: 12px !important;
      line-height: 25px !important;
      height: 25px !important;
      color: #2d3748 !important;
      background-color: inherit !important;
      white-space: nowrap !important;
      overflow: hidden !important;
      text-overflow: ellipsis !important;
      transition: background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    
    .k-grid td:last-child,
    .k-grid tbody td:last-child {
      border-right: none !important;
    }
    
    /* Row hover effect - Subtle, professional - Ãƒâ€¡OK GÃƒÅ“Ãƒâ€¡LÃƒÅ“ */
    .k-grid tbody tr,
    .k-grid-content tbody tr {
      transition: background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    .k-grid tbody tr,
    .k-grid-content tbody tr {
      height: 25px !important;
    }
    
    .k-grid tbody tr:hover,
    .k-grid-content tbody tr:hover {
      background-color: #e3f2fd !important;
    }
    
    /* Telerik'in hover override */
    .k-grid tbody tr:hover td,
    .k-grid-content tbody tr:hover td {
      background-color: #e3f2fd !important;
      border-color: #bbdefb !important;
    }
    
    /* Zebra striping - Temiz renkler */
    .k-grid tbody tr:nth-child(even),
    .k-grid-content tbody tr:nth-child(even) {
      background-color: #fafafa !important;
    }
    
    .k-grid tbody tr:nth-child(odd),
    .k-grid-content tbody tr:nth-child(odd) {
      background-color: #ffffff !important;
    }
    
    /* Telerik'in default background'larÃ„Â±nÃ„Â± override et */
    .k-grid tbody tr.k-alt,
    .k-grid tbody tr.k-state-selected {
      background-color: inherit !important;
    }
    
    /* Grid border radius - Modern look - Ãƒâ€¡OK GÃƒÅ“Ãƒâ€¡LÃƒÅ“ */
    .k-grid,
    #motorin-grid,
    #benzin-grid,
    #tahsilat-grid,
    #odeme-grid,
    #hypco-grid,
    #aygaz-grid,
    #yakit-alimlari-grid,
    #araclar-grid {
      border-radius: 8px !important;
      overflow: hidden !important;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
      border: 1px solid #e0e0e0 !important;
      background-color: #ffffff !important;
    }
    
    /* Grid header border radius */
    .k-grid-header,
    .k-grid .k-grid-header {
      border-radius: 8px 8px 0 0 !important;
    }
    
    /* Focus state - Professional */
    .k-grid td:focus,
    .k-grid td.k-state-focused {
      outline: 2px solid #4299e1 !important;
      outline-offset: -2px !important;
      background-color: #ebf8ff !important;
    }
    
    /* Editable cell styling */
    .k-grid td input {
      font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif !important;
      font-size: 13px !important;
      padding: 8px 12px !important;
      border: 1px solid rgba(0, 0, 0, 0.12) !important;
      border-radius: 4px !important;
      transition: border-color 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    
    .k-grid td input:focus {
      border-color: #4299e1 !important;
      outline: none !important;
      box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1) !important;
    }
    
    /* Special row styling - BaÃ…Å¸lÃ„Â±k satÃ„Â±rlarÃ„Â± (KAPASÃ„Â°TE, ANLIK, SATIÃ…Â, TARÃ„Â°H) - AÃƒÂ§Ã„Â±k & Temiz */
    .k-grid .header-row,
    .k-grid tbody tr.header-row,
    .k-grid-content tbody tr.header-row,
    .k-grid tbody tr.header-row td,
    .k-grid-content tbody tr.header-row td {
      background-color: #e3f2fd !important;
      color: #1565c0 !important;
      font-weight: 600 !important;
      border-top: 2px solid #2196f3 !important;
      border-bottom: 1px solid #bbdefb !important;
    }
    
    .k-grid .header-row td,
    .k-grid tbody tr.header-row td,
    .k-grid-content tbody tr.header-row td {
      color: #1565c0 !important;
      border-right: 1px solid #bbdefb !important;
      background-color: #e3f2fd !important;
    }
    
    /* Telerik override - header-row iÃƒÂ§in */
    .k-grid tbody tr.header-row.k-alt,
    .k-grid tbody tr.header-row:hover {
      background-color: #e3f2fd !important;
    }
    
    .k-grid tbody tr.header-row:hover td {
      background-color: #bbdefb !important;
      color: #0d47a1 !important;
    }
    
    /* Sub-header row styling - Tarih satÃ„Â±rlarÃ„Â± (PerÃ…Å¸embe, Cuma, Cumartesi) - AÃƒÂ§Ã„Â±k & Temiz */
    .k-grid .sub-header-row,
    .k-grid tbody tr.sub-header-row,
    .k-grid-content tbody tr.sub-header-row,
    .k-grid tbody tr.sub-header-row td,
    .k-grid-content tbody tr.sub-header-row td {
      background-color: #f5f5f5 !important;
      color: #424242 !important;
      font-weight: 500 !important;
      border-top: 1px solid #e0e0e0 !important;
      border-bottom: 1px solid #e0e0e0 !important;
    }
    
    .k-grid .sub-header-row td,
    .k-grid tbody tr.sub-header-row td,
    .k-grid-content tbody tr.sub-header-row td {
      color: #424242 !important;
      border-right: 1px solid #e0e0e0 !important;
      background-color: #f5f5f5 !important;
    }
    
    /* Telerik override - sub-header-row iÃƒÂ§in */
    .k-grid tbody tr.sub-header-row.k-alt,
    .k-grid tbody tr.sub-header-row:hover {
      background-color: #f5f5f5 !important;
    }
    
    .k-grid tbody tr.sub-header-row:hover td {
      background-color: #eeeeee !important;
      color: #212121 !important;
    }
    
    /* Number alignment - Right align for numbers */
    .k-grid .number-cell {
      text-align: right !important;
      font-variant-numeric: tabular-nums !important;
    }
    
    /* Center alignment */
    .k-grid .center-cell {
      text-align: center !important;
    }
    
    /* Panel BaÃ…Å¸lÃ„Â±klarÃ„Â± - AÃƒÂ§Ã„Â±k Mavi Gradient */
    #motorin-toolbar > div,
    #benzin-toolbar > div,
    #tahsilat-toolbar > div,
    #odeme-toolbar > div,
    #hypco-toolbar > div,
    #aygaz-toolbar > div,
    #yakit-toolbar > div,
    #nakliye-toolbar > div {
      width: 100% !important;
      height: 36px !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      font-family: 'Roboto', sans-serif !important;
      font-size: 13px !important;
      font-weight: 600 !important;
      letter-spacing: 0.05em !important;
      text-transform: uppercase !important;
      background: linear-gradient(to bottom, #2196f3, #1976d2) !important;
      color: #ffffff !important;
      border-radius: 8px 8px 0 0 !important;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
      border-bottom: 2px solid #1565c0 !important;
    }
    
    /* Toplam ÃƒÂ§ubuklarÃ„Â± */
    #tahsilat-total > div,
    #odeme-total > div,
    #genel-total > div {
      width: 100% !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      font-family: 'Roboto', sans-serif !important;
      font-weight: 600 !important;
      border-radius: 4px !important;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
    }
    
    #tahsilat-total > div {
      height: 24px !important;
      font-size: 12px !important;
      background: linear-gradient(to bottom, #48bb78, #38a169) !important;
      color: #ffffff !important;
    }
    
    #odeme-total > div {
      height: 24px !important;
      font-size: 12px !important;
      background: linear-gradient(to bottom, #f56565, #e53e3e) !important;
      color: #ffffff !important;
    }
    
    #genel-total > div {
      height: 28px !important;
      font-size: 13px !important;
      background: linear-gradient(to bottom, #4299e1, #3182ce) !important;
      color: #ffffff !important;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15) !important;
    }
  </style>
{% endblock %}

{% block content %}
  <!-- BAÃ…ÂLIK: LOBI - Sadece menÃƒÂ¼ (lobi) ekranÃ„Â±nda gÃƒÂ¶rÃƒÂ¼nÃƒÂ¼r -->
  <div id="title-bar">
    <div>LOBI</div>
  </div>
  
  
  
  <!-- MENÃœ Ã‡UBUÄU AYARLARI SAYFASI -->
  <div class="container" id="main-content-menu-cubugu-ayarlari" style="display:none;width:100%;max-width:100vw;">
    <div id="menu-cubugu-ayarlari-window" style="display:none;">
      <div class="k-card" style="margin:0;">
        <div class="k-card-body">
          <div id="menu-ayar-splitter" style="height:520px;">
            <div>
              <div class="k-card" style="margin:8px;">
                <div class="k-card-header">
                  <h4 class="k-card-title">MenÃ¼ler</h4>
                </div>
                <div class="k-card-body">
                  <div id="menu-ayar-tree"></div>
                </div>
              </div>
            </div>
            <div>
              <div class="k-card" style="margin:8px;text-align:center;">
                <div class="k-card-body">
                  <button id="menu-ayar-add" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base" style="margin-bottom:8px;">
                    â†’
                  </button>
                  <button id="menu-ayar-remove" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">
                    â†
                  </button>
                </div>
              </div>
            </div>
            <div>
              <div class="k-card" style="margin:8px;">
                <div class="k-card-header">
                  <h4 class="k-card-title">ALAN 2 SÄ±rasÄ±</h4>
                </div>
                <div class="k-card-body">
                  <div id="menu-ayar-selected-list"></div>
                  <div style="margin-top:8px;display:flex;gap:8px;align-items:center;">
                    <label for="menu-ayar-icon-select" class="k-label">Ä°kon</label>
                    <input id="menu-ayar-icon-select" />
                    <button id="menu-ayar-icon-apply" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Uygula</button>
                  </div>
                  <div style="margin-top:8px;display:flex;gap:8px;">
                    <button id="menu-ayar-up" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">YukarÄ±</button>
                    <button id="menu-ayar-down" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">AÅŸaÄŸÄ±</button>
                  </div>
                  <div style="margin-top:12px;display:flex;gap:8px;">
                    <button id="menu-ayar-save" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary">Kaydet</button>
                    <button id="menu-ayar-exit" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Ã‡Ä±kÄ±ÅŸ</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ZAM/Ä°NDÄ°RÄ°M SAYFASI -->
  <div class="container" id="main-content-zam-indirim" style="display:none;padding:0 10px;width:100%;max-width:100vw;overflow-x:hidden !important;overflow-y:auto;box-sizing:border-box;margin:0;">
    <h1 style="text-align:center;color:#333333;margin:10px 0;font-size:18pt;font-weight:bold;background:#f0f0f0;border:1px solid #d9d9d9;border-radius:6px;padding:6px 10px;">Zam/Ä°ndirim</h1>
    <div id="zam-indirim-system-note" style="margin:8px;">
      <div>ğŸ“Œ SÄ°STEM NOTU</div>
      <div>
        <div>Bu modÃ¼l TÃ¼rkiye akaryakÄ±t zam/indirim sinyalini hesaplar.</div>
        <div>Resmi mantÄ±k:</div>
        <div>- USD/TRY (15:30) TCMBâ€™den alÄ±nÄ±r.</div>
        <div>- ÃœrÃ¼n fiyatÄ± olarak CIF Med benzin/motorin kullanÄ±lÄ±r.</div>
        <div>- Referans = USD/TRY Ã— USD/ton.</div>
        <div>- Son 5 gÃ¼n ortalamasÄ± alÄ±nÄ±r.</div>
        <div>- Â±%3 kuralÄ±: ÃœstÃ¼ â†’ ZAM, AltÄ± â†’ Ä°NDÄ°RÄ°M, ArasÄ± â†’ YOK.</div>
        <div>Åu an Investing verileri GEÃ‡Ä°CÄ°DÄ°R.</div>
        <div>Platts CIF Med Ã¼yeliÄŸi alÄ±ndÄ±ÄŸÄ±nda:</div>
        <div>- Benzin: Gasoline 95 RON CIF Med</div>
        <div>- Motorin: ULSD 10ppm CIF Med</div>
        <div>verileri buraya baÄŸlanacaktÄ±r.</div>
        <div>Bu ekran tahmini sonuÃ§ Ã¼retir, resmi fiyat ilanÄ± deÄŸildir.</div>
      </div>
    </div>
    <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;align-items:start;">
      <div>
        <div class="k-card" style="margin:8px;">
          <div class="k-card-header">
            <h3 class="k-card-title">VERÄ°</h3>
          </div>
          <div class="k-card-body">
            <div id="zam-indirim-veri-info" style="margin-bottom:10px;">
              <div>
                <span class="k-icon k-i-info"></span>
                Bilgi
              </div>
              <div>
                <div>Bu tablo iÅŸin BAÅLANGIÃ‡ noktasÄ±dÄ±r. Her satÄ±r 1 gÃ¼nÃ¼ temsil eder.</div>
                <div>Tarih: Hangi gÃ¼nÃ¼n verisi olduÄŸu.</div>
                <div>USD/TRY (15:30): Devletin (TCMB) o gÃ¼n saat 15:30â€™da aÃ§Ä±kladÄ±ÄŸÄ± dolar kuru. Bu otomatik gelir, sen dokunmazsÄ±n.</div>
                <div>Benzin_USD_TON / Motorin_USD_TON: Benzin ve motorinin dÃ¼nya piyasasÄ±ndaki gÃ¼nlÃ¼k fiyatÄ±dÄ±r. Åimdilik internetten otomatik geliyor, ileride Plattsâ€™tan gelecek.</div>
                <div>Bu satÄ±rdaki bilgiler â€œham veridirâ€. AÅŸaÄŸÄ±daki hesaplar tamamen bu satÄ±rlardan Ã¼retilir.</div>
                <div>Eski gÃ¼nler deÄŸiÅŸmez, her gÃ¼n yeni satÄ±r eklenir.</div>
              </div>
            </div>
            <div class="k-card" style="margin:0 0 10px 0;">
              <div class="k-card-header">
                <h4 class="k-card-title">GÃ¼nlÃ¼k KayÄ±t</h4>
              </div>
              <div class="k-card-body">
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <span style="min-width:150px;">Tarih</span>
                  <span id="zam-indirim-tarih" class="k-badge k-badge-solid k-badge-md k-badge-base">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <span style="min-width:150px;">USD/TRY (15:30)</span>
                  <span id="zam-indirim-usd-kur" class="k-badge k-badge-solid k-badge-lg k-badge-base" style="font-size:18pt;font-weight:700;">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <label class="k-label" for="zam-indirim-benzin-usd-ton" style="min-width:150px;">Benzin_USD_TON</label>
                  <input id="zam-indirim-benzin-usd-ton" style="width:180px;" />
                </div>
                <div style="display:flex;align-items:center;gap:10px;">
                  <label class="k-label" for="zam-indirim-motorin-usd-ton" style="min-width:150px;">Motorin_USD_TON</label>
                  <input id="zam-indirim-motorin-usd-ton" style="width:180px;" />
                </div>
              </div>
            </div>
            <div class="k-card" style="margin:0;">
              <div class="k-card-header">
                <h4 class="k-card-title">Son 10 GÃ¼n KayÄ±tlarÄ±</h4>
              </div>
              <div class="k-card-body">
                <div id="zam-indirim-veri-grid" style="height:240px;"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div>
        <div class="k-card" style="margin:8px;">
          <div class="k-card-header">
            <h3 class="k-card-title">HESAP</h3>
          </div>
          <div class="k-card-body">
            <div id="zam-indirim-hesap-info" style="margin-bottom:10px;">
              <div>
                <span class="k-icon k-i-info"></span>
                Bilgi
              </div>
              <div>
                <div>Burada matematik yapÄ±lÄ±r.</div>
                <div>Referans Fiyat: Dolar kuru ile Ã¼rÃ¼n fiyatÄ± Ã§arpÄ±lÄ±r. (Yani: dÃ¼nyadaki fiyat Ã— TÃ¼rkiyeâ€™deki dolar)</div>
                <div>5 GÃ¼nlÃ¼k Ortalama: Son 5 gÃ¼nÃ¼n referans fiyatlarÄ±nÄ±n ortalamasÄ±dÄ±r. Devlet ani deÄŸiÅŸime bakmaz, bu ortalamaya bakar.</div>
                <div>%3 KuralÄ±: BugÃ¼nkÃ¼ fiyat, bu ortalamanÄ±n %3 Ã¼stÃ¼ne Ã§Ä±karsa â†’ ZAM, %3 altÄ±na dÃ¼ÅŸerse â†’ Ä°NDÄ°RÄ°M, aradaysa â†’ YOK.</div>
                <div>Burada Ã§Ä±kan sonuÃ§ otomatik hesaplanÄ±r, elle mÃ¼dahale edilmez.</div>
              </div>
            </div>
            <div class="k-card" style="margin:0 0 10px 0;">
              <div class="k-card-header">
                <h4 class="k-card-title">Hesap SonuÃ§larÄ±</h4>
              </div>
              <div class="k-card-body">
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <span style="min-width:160px;">Benzin_Referans</span>
                  <span id="zam-indirim-benzin-ref" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <span style="min-width:160px;">Benzin_Ort5</span>
                  <span id="zam-indirim-benzin-ort5" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:12px;">
                  <span style="min-width:160px;">Benzin_Sinyal</span>
                  <span id="zam-indirim-benzin-sinyal" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <span style="min-width:160px;">Motorin_Referans</span>
                  <span id="zam-indirim-motorin-ref" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <span style="min-width:160px;">Motorin_Ort5</span>
                  <span id="zam-indirim-motorin-ort5" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;">
                  <span style="min-width:160px;">Motorin_Sinyal</span>
                  <span id="zam-indirim-motorin-sinyal" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                </div>
              </div>
            </div>
            <div style="display:flex;gap:10px;flex-wrap:wrap;">
              <div class="k-card" style="margin:0;flex:1;min-width:240px;">
                <div class="k-card-header">
                  <h4 class="k-card-title">Benzin Ort5</h4>
                </div>
                <div class="k-card-body">
                  <div id="zam-indirim-benzin-ort5-grid" style="height:180px;"></div>
                </div>
              </div>
              <div class="k-card" style="margin:0;flex:1;min-width:240px;">
                <div class="k-card-header">
                  <h4 class="k-card-title">Motorin Ort5</h4>
                </div>
                <div class="k-card-body">
                  <div id="zam-indirim-motorin-ort5-grid" style="height:180px;"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div>
        <div class="k-card" style="margin:8px;">
          <div class="k-card-header">
            <h3 class="k-card-title">PANEL</h3>
          </div>
          <div class="k-card-body">
            <div id="zam-indirim-panel-info" style="margin-bottom:10px;">
              <div>
                <span class="k-icon k-i-info"></span>
                Bilgi
              </div>
              <div>
                <div>Bu bÃ¶lÃ¼m Ã¶zet ekranÄ±dÄ±r. â€œBugÃ¼n ne oluyor?â€ sorusunun cevabÄ±dÄ±r.</div>
                <div>- BugÃ¼nkÃ¼ dolar kuru</div>
                <div>- BugÃ¼nkÃ¼ referans fiyat</div>
                <div>- 5 gÃ¼nlÃ¼k ortalama</div>
                <div>- ZAM / Ä°NDÄ°RÄ°M / YOK sonucu</div>
                <div>- â€œZamâ€™a kalan %â€: %3 sÄ±nÄ±rÄ±na ne kadar yaklaÅŸtÄ±ÄŸÄ±mÄ±zÄ± gÃ¶sterir</div>
                <div>Bu ekran tahmin ekranÄ±dÄ±r. Resmi fiyat deÄŸildir ama piyasada konuÅŸulan rakamlarÄ±n nasÄ±l oluÅŸtuÄŸunu birebir gÃ¶sterir.</div>
              </div>
            </div>
            <div class="k-card" style="margin:0;">
              <div class="k-card-header">
                <h4 class="k-card-title">Panel Ã–zeti</h4>
              </div>
              <div class="k-card-body">
                <div style="display:flex;gap:8px;align-items:center;margin-bottom:10px;">
                  <button id="zam-indirim-whatsapp-copy" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary">WhatsApp MesajÄ± Kopyala</button>
                </div>
                <div id="zam-indirim-anlik" style="margin-bottom:12px;border:1px dashed #d32f2f;border-radius:6px;padding:8px;">
                  <div style="display:flex;align-items:center;gap:8px;margin-bottom:6px;">
                    <span id="zam-indirim-anlik-badge" class="k-badge k-badge-solid k-badge-md k-badge-error">ğŸ‘‘ AnlÄ±k Tahmin (KapanÄ±ÅŸ Beklemeden)</span>
                  </div>
                  <div id="zam-indirim-anlik-benzin-text" style="margin-bottom:4px;"></div>
                  <div id="zam-indirim-anlik-motorin-text"></div>
                  <div style="margin-top:6px;color:#666;">Tahminidir, kapanÄ±ÅŸla deÄŸiÅŸebilir.</div>
                </div>
                <div id="zam-indirim-panel-ort5-uyari" class="k-messagebox k-messagebox-warning" style="display:none;margin-bottom:10px;">
                  En az 5 gÃ¼n veri oluÅŸmadan zam/indirim sinyali hesaplanmaz.
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <span style="min-width:160px;">BugÃ¼nkÃ¼ USD/TRY</span>
                  <span id="zam-indirim-panel-usd" class="k-badge k-badge-solid k-badge-lg k-badge-base" style="font-size:17pt;font-weight:700;">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <span style="min-width:160px;">Benzin_Referans</span>
                  <span id="zam-indirim-panel-benzin-ref" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <span style="min-width:160px;">Benzin_Ort5</span>
                  <span id="zam-indirim-panel-benzin-ort5" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:10px;">
                  <span style="min-width:160px;">Benzin_Sinyal</span>
                  <span id="zam-indirim-panel-benzin-sinyal" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <span style="min-width:160px;">Benzin Ã–ngÃ¶rÃ¼</span>
                  <span id="zam-indirim-panel-benzin-ongoru" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:13pt;font-weight:600;">--</span>
                  <span id="zam-indirim-panel-benzin-ongoru-label" style="color:#666;font-size:11pt;"></span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:12px;">
                  <span style="min-width:160px;">Zamâ€™a Kalan %</span>
                  <span id="zam-indirim-panel-benzin-kalan" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                  <span id="zam-indirim-panel-benzin-tl-l" style="color:#666;font-size:13pt;font-weight:600;"></span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <span style="min-width:160px;">Motorin_Referans</span>
                  <span id="zam-indirim-panel-motorin-ref" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <span style="min-width:160px;">Motorin_Ort5</span>
                  <span id="zam-indirim-panel-motorin-ort5" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:10px;">
                  <span style="min-width:160px;">Motorin_Sinyal</span>
                  <span id="zam-indirim-panel-motorin-sinyal" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
                  <span style="min-width:160px;">Motorin Ã–ngÃ¶rÃ¼</span>
                  <span id="zam-indirim-panel-motorin-ongoru" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:13pt;font-weight:600;">--</span>
                  <span id="zam-indirim-panel-motorin-ongoru-label" style="color:#666;font-size:11pt;"></span>
                </div>
                <div style="display:flex;align-items:center;gap:10px;">
                  <span style="min-width:160px;">Zamâ€™a Kalan %</span>
                  <span id="zam-indirim-panel-motorin-kalan" class="k-badge k-badge-solid k-badge-md k-badge-base" style="font-size:15pt;font-weight:700;">--</span>
                  <span id="zam-indirim-panel-motorin-tl-l" style="color:#666;font-size:13pt;font-weight:600;"></span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FÄ°RMA TANIMLARI SAYFASI -->
  <div class="container" id="main-content-firma-tanimlari" style="display:none;padding:0 10px;width:100%;max-width:100vw;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin:0;">
    <h1 style="text-align:center;color:#1f4d5a;margin:4px 0 0 0;font-size:16px;font-weight:600;background:#e6f0f2;border:1px solid #cfdde0;border-radius:6px;padding:4px 10px;">FÄ°RMA TANIMLARI</h1>
    <div class="firma-tanimlari-layout">
      <div class="firma-tanimlari-grid-area">
        <div id="firma-tanimlari-grid" style="width:100%;max-width:100vw;height:800px;margin:0;padding:0;"></div>
      </div>
      <div id="firma-tanimlari-right-buttons">
        <button id="firma-yeni-btn" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base firma-action-btn">
          <span class="firma-action-icon">â•</span>
          <span>Yeni Firma</span>
        </button>
        <button id="firma-tanimlari-refresh-btn" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base firma-action-btn">
          <span class="firma-action-icon">ğŸ”„</span>
          <span>Listeyi Yenile</span>
        </button>
        <button id="firma-sube-tanimlari-btn" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base firma-action-btn">
          <span class="firma-action-icon">ğŸ“‚</span>
          <span>Åube TanÄ±mlarÄ±</span>
        </button>
        <button id="firma-bilgi-degistir-btn" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base firma-action-btn">
          <span class="firma-action-icon">âœï¸</span>
          <span>Bilgi DeÄŸiÅŸtir</span>
        </button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base firma-action-btn firma-action-danger exit-button">
          <span class="firma-action-icon">â›”</span>
          <span>Ã‡Ä±kÄ±ÅŸ - ESC</span>
        </button>
        <span id="firma-tanimlari-notification"></span>
      </div>
    </div>
  </div>

  <!-- ÅUBE TANIMLARI SAYFASI -->
  <div class="container" id="main-content-sube-tanimlari" style="display:none;padding:0 10px;width:100%;max-width:100vw;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin:0;">
    <h1 style="text-align:center;color:#206d7d;margin:10px 0;font-size:20pt;font-weight:bold;">ÅUBE TANIMLARI</h1>
    <div class="sube-tanimlari-layout">
      <div class="sube-tanimlari-grid-area">
        <div id="sube-tanimlari-grid" style="width:100%;max-width:100vw;height:800px;margin:0;padding:0;"></div>
      </div>
      <div id="sube-tanimlari-right-buttons">
        <button id="sube-yeni-btn" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Yeni Åube</button>
        <button id="sube-tanimlari-refresh-btn" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Listeyi Yenile</button>
        <button id="sube-karti-gor-btn" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Åube KartÄ± GÃ¶r</button>
        <button id="sube-bilgi-degistir-btn" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Bilgi DeÄŸiÅŸtir</button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Buton 3</button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Buton 4</button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Buton 5</button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Buton 6</button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Buton 7</button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base exit-button">Ã‡Ä±kÄ±ÅŸ - ESC</button>
        <span id="sube-tanimlari-notification"></span>
      </div>
    </div>
  </div>

  <!-- ÅUBE TANIM KARTI WINDOW -->
  <div id="sube-tanim-karti-window" style="display:none;">
    <div style="padding:12px;">
      <style>
        #sube-tanim-karti-window .sube-karti-label {
          min-width: 140px;
          display: inline-block;
        }
      </style>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
        <label for="sube-ana-firma" class="sube-karti-label">ANA FÄ°RMA :</label>
        <input id="sube-ana-firma" style="width:100%;" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
        <label for="sube-adi-input" class="sube-karti-label">ÅUBE ADI :</label>
        <input id="sube-adi-input" style="width:100%;" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
        <label for="sube-istasyon-input" class="sube-karti-label">Ä°STASYON :</label>
        <input id="sube-istasyon-input" style="width:100%;" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
        <label for="sube-vergi-dairesi" class="sube-karti-label">VERGÄ° DAÄ°RESÄ° :</label>
        <input id="sube-vergi-dairesi" style="width:100%;" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
        <label for="sube-vergi-no" class="sube-karti-label">VERGÄ° NO :</label>
        <input id="sube-vergi-no" style="width:100%;" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
        <label for="sube-adres" class="sube-karti-label">ADRES :</label>
        <input id="sube-adres" style="width:100%;" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
        <label for="sube-telefon" class="sube-karti-label">TELEFON :</label>
        <input id="sube-telefon" style="width:100%;" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
        <label for="sube-eposta" class="sube-karti-label">E-POSTA :</label>
        <input id="sube-eposta" style="width:100%;" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;">
        <label for="sube-yetkili-kisi" class="sube-karti-label">YETKÄ°LÄ° :</label>
        <input id="sube-yetkili-kisi" style="width:100%;" />
      </div>
    </div>
    <div style="display:flex;justify-content:flex-end;align-items:center;gap:8px;padding:8px 12px;border-top:1px solid #e0e0e0;">
      <button id="sube-tanim-kaydet" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary">Kaydet</button>
      <button id="sube-tanim-kapat" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Kapat</button>
    </div>
  </div>

  <!-- ÅUBE KARTI SAYFASI -->
  <div class="container" id="main-content-sube-karti" style="display:none;padding:0 10px;width:100%;max-width:100vw;overflow-x:hidden !important;overflow-y:auto;box-sizing:border-box;margin:0;">
    <h1 style="text-align:center;color:#206d7d;margin:10px 0;font-size:20pt;font-weight:bold;">ÅUBE KARTI</h1>
    <div style="display:flex;gap:8px;justify-content:center;align-items:center;margin:10px 0;">
      <button id="sube-karti-evrak-ekle-btn" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary">Evrak Ekle</button>
    </div>
    <div id="sube-karti-grid" style="width:100%;max-width:100vw;height:400px;overflow-x:hidden !important;overflow-y:auto;margin:0;padding:0;"></div>
    <div id="sube-evrak-grid" style="width:100%;max-width:100vw;height:400px;overflow-x:hidden !important;overflow-y:auto;margin:10px 0 0 0;padding:0;"></div>
  </div>

  <!-- ÅUBE EVRAK EKLE WINDOW -->
  <div id="sube-evrak-window" style="display:none;">
    <div style="padding:12px;">
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px;">
        <label for="sube-evrak-turu" style="min-width:110px;">Evrak TÃ¼rÃ¼:</label>
        <input id="sube-evrak-turu" style="width:100%;" placeholder="Ã–rn: Lisans" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px;">
        <label for="sube-evrak-bitistarih" style="min-width:110px;">BitiÅŸ Tarihi:</label>
        <input id="sube-evrak-bitistarih" style="width:100%;" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px;">
        <label for="sube-evrak-uyari" style="min-width:110px;">UyarÄ± (gÃ¼n):</label>
        <input id="sube-evrak-uyari" style="width:100%;" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px;">
        <label for="sube-evrak-aciklama" style="min-width:110px;">AÃ§Ä±klama:</label>
        <input id="sube-evrak-aciklama" style="width:100%;" />
      </div>
      <input id="sube-evrak-upload" name="files" type="file" />
    </div>
    <div style="display:flex;justify-content:flex-end;align-items:center;gap:8px;padding:8px 12px;border-top:1px solid #e0e0e0;">
      <button id="sube-evrak-kaydet" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary">Kaydet</button>
      <button id="sube-evrak-kapat" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Kapat</button>
    </div>
  </div>

  <!-- ÅUBE EVRAK Ã–NÄ°ZLEME WINDOW -->
  <div id="sube-evrak-onizleme-window" style="display:none;">
    <div id="sube-evrak-onizleme-icerik" style="height:600px;"></div>
  </div>

  <!-- FÄ°RMA TANIM KARTI WINDOW -->
  <div id="firma-tanim-karti-window" style="display:none;">
    <div style="padding:12px;">
      <style>
        #firma-tanim-karti-window .firma-karti-label {
          min-width: 140px;
          display: inline-block;
        }
      </style>
      <div id="firma-tanim-karti-tabstrip">
        <ul>
          <li class="k-state-active">1 Genel Bilgiler</li>
          <li>2 Adres Bilgileri</li>
        </ul>
        <div style="padding:12px 6px;">
          <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
            <label for="firma-karti-adi-input" class="firma-karti-label">FÄ°RMA ADI :</label>
            <input id="firma-karti-adi-input" style="width:100%;" />
          </div>
          <div style="display:flex;align-items:center;gap:8px;">
            <label for="firma-karti-tur-input" class="firma-karti-label">TÃœR :</label>
            <input id="firma-karti-tur-input" style="width:100%;" />
          </div>
          <div style="display:flex;align-items:center;gap:8px;margin-top:8px;">
            <label for="firma-karti-kod-input" class="firma-karti-label">KOD :</label>
            <input id="firma-karti-kod-input" style="width:100%;" />
          </div>
          <div style="display:flex;align-items:center;gap:8px;margin-top:8px;">
            <label for="firma-karti-vergi-dairesi" class="firma-karti-label">VERGÄ° DAÄ°RESÄ° :</label>
            <input id="firma-karti-vergi-dairesi" style="width:100%;" />
          </div>
          <div style="display:flex;align-items:center;gap:8px;margin-top:8px;">
            <label for="firma-karti-vergi-no" class="firma-karti-label">VERGÄ° NO :</label>
            <input id="firma-karti-vergi-no" style="width:100%;" />
          </div>
          <div style="display:flex;align-items:center;gap:8px;margin-top:8px;">
            <label for="firma-karti-mersis-no" class="firma-karti-label">MERSÄ°S NO :</label>
            <input id="firma-karti-mersis-no" style="width:100%;" />
          </div>
          <div style="display:flex;align-items:center;gap:8px;margin-top:8px;">
            <label for="firma-karti-telefon" class="firma-karti-label">TELEFON :</label>
            <input id="firma-karti-telefon" style="width:100%;" />
          </div>
          <div style="display:flex;align-items:center;gap:8px;margin-top:8px;">
            <label for="firma-karti-eposta" class="firma-karti-label">E-POSTA :</label>
            <input id="firma-karti-eposta" style="width:100%;" />
          </div>
        </div>
        <div style="padding:12px 6px;min-height:220px;">
          <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
            <label for="firma-karti-mahalle" class="firma-karti-label">Mahalle :</label>
            <input id="firma-karti-mahalle" style="width:100%;" />
          </div>
          <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
            <label for="firma-karti-cadde-sokak" class="firma-karti-label">Cadde / Sokak :</label>
            <input id="firma-karti-cadde-sokak" style="width:100%;" />
          </div>
          <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
            <label class="firma-karti-label">No / Bina / Kat :</label>
            <input id="firma-karti-no" style="width:70px;" />
            <label for="firma-karti-bina-blok">Bina / Blok</label>
            <input id="firma-karti-bina-blok" style="width:90px;" />
            <label for="firma-karti-kat">Kat</label>
            <input id="firma-karti-kat" style="width:60px;" />
            <label for="firma-karti-daire">Daire</label>
            <input id="firma-karti-daire" style="width:70px;" />
          </div>
          <div style="display:flex;align-items:center;gap:8px;">
            <label for="firma-karti-ilce" class="firma-karti-label">Ä°lÃ§e :</label>
            <input id="firma-karti-ilce" style="width:34%;" />
            <label for="firma-karti-il">Ä°l :</label>
            <input id="firma-karti-il" style="width:34%;" />
            <label for="firma-karti-posta-kodu">Posta Kodu :</label>
            <input id="firma-karti-posta-kodu" style="width:22%;" />
          </div>
          <div style="height:10px;"></div>
          <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
            <label for="firma-karti-konum-lat" class="firma-karti-label">Konum :</label>
            <input id="firma-karti-konum-lat" style="width:120px;" placeholder="Enlem" />
            <input id="firma-karti-konum-lng" style="width:120px;" placeholder="Boylam" />
            <button id="firma-karti-konum-al" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Konum Al</button>
          </div>
          <div style="display:flex;align-items:center;gap:8px;">
            <label for="firma-karti-konum-link" class="firma-karti-label">Konum Linki :</label>
            <input id="firma-karti-konum-link" style="width:100%;" readonly />
          </div>
        </div>
      </div>
    </div>
    <div style="display:flex;justify-content:space-between;align-items:center;padding:8px 12px;border-top:1px solid #e0e0e0;">
      <button id="firma-karti-yeni" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Yeni - F3</button>
      <div style="display:flex;gap:8px;">
        <button id="firma-karti-kaydet" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Kaydet - F2</button>
        <button id="firma-karti-cikis" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Ã‡Ä±kÄ±ÅŸ - ESC</button>
      </div>
    </div>
  </div>


  <!-- FIRMA YÃ–NETÄ°MÄ° WINDOW -->
  <div id="firma-window" style="display:none;">
    <div id="firma-grid-container" style="padding:10px;height:100%;">
      <div id="firma-grid" style="height:500px;"></div>
    </div>
  </div>
  
  <!-- ÃœRÃœN YÃ–NETÄ°MÄ° WINDOW -->
  <div id="urun-window" style="display:none;">
    <div id="urun-grid-container" style="padding:10px;height:100%;">
      <div id="urun-grid" style="height:500px;"></div>
    </div>
  </div>
  
  <!-- TANIMLAR ALT MENÃƒÅ“ -->
  <div id="tanimlar-menu" style="position:fixed;top:28px;left:0;background:#FFFFFF;border:1px solid #E0E0E0;box-shadow:0 2px 4px rgba(0,0,0,0.1);z-index:10001;display:none;min-width:200px;">
    <div id="tanimlar-firmalar" style="padding:5px 15px;cursor:pointer;">Firmalar</div>
  </div>
{% endblock %}

{% block extra_scripts %}
  <script>
    // Telerik MenÃƒÂ¼ler ve Toolbar'lar
    $(document).ready(function() {
      // EN ÃƒÅ“ST: 2 AÃƒÂ§Ã„Â±lÃ„Â±r MenÃƒÂ¼ (TanÃ„Â±mlar ve Kartlar) - Telerik Menu (HTML yapÃ„Â±sÃ„Â± ile)
      // Telerik dokÃƒÂ¼mantasyonuna gÃƒÂ¶re: HTML <ul><li> yapÃ„Â±sÃ„Â± kullanÃ„Â±lmalÃ„Â±
      function initTelerikMenu() {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoMenu !== 'undefined') {
          try {
            $("#top-menu-bar").kendoMenu({
              orientation: "horizontal",
              openOnClick: false,
              animation: false,
              select: function(e) {
                console.log("MenÃƒÂ¼ tÃ„Â±klandÃ„Â±:", $(e.item).text());
              }
            });
            console.log("Ã¢Å“â€¦ Telerik Menu baÃ…Å¸arÃ„Â±yla oluÃ…Å¸turuldu!");
          } catch(error) {
            console.error("Ã¢ÂÅ’ Telerik Menu oluÃ…Å¸turulurken hata:", error);
            console.error("Hata detayÃ„Â±:", error.message, error.stack);
          }
        } else {
          console.log("Ã¢ÂÂ³ Telerik yÃƒÂ¼kleniyor, bekleniyor... (kendo:", typeof kendo, ", kendoMenu:", typeof $.fn.kendoMenu, ")");
          setTimeout(initTelerikMenu, 100);
        }
      }
      initTelerikMenu();
      
      // NOT: Ribbon butonlarÃ„Â±na tÃ„Â±klama base.html'de tanÃ„Â±mlÃ„Â±, burada tekrar tanÃ„Â±mlamaya gerek yok
      // base.html'deki handler tÃƒÂ¼m sayfalarda ÃƒÂ§alÃ„Â±Ã…Å¸Ã„Â±yor
      
      // Ã„Â°lk aÃƒÂ§Ã„Â±lÃ„Â±Ã…Å¸ta hiÃƒÂ§bir buton aktif deÃ„Å¸il (lobi gibi)
      var currentPage = null; // Ã…Âu anki sayfa yok
      
      // Ã„Â°ÃƒÂ§eriÃ„Å¸i gizle (ilk aÃƒÂ§Ã„Â±lÃ„Â±Ã…Å¸ta boÃ…Å¸ ekran - lobi)
      // Ama eÃ„Å¸er eski program sayfasÃ„Â±ndan geliyorsa veya sessionStorage'da flag varsa iÃƒÂ§eriÃ„Å¸i gÃƒÂ¶ster ve tab aÃƒÂ§
      setTimeout(function() {
        var showContent = false;
        var hasTabs = false;
        
        // F5 yapÃ„Â±ldÃ„Â± mÃ„Â± kontrol et - Performance Navigation API kullan
        var isPageRefresh = false;
        if (performance.navigation) {
          // Eski API (deprecated ama hala ÃƒÂ§alÃ„Â±Ã…Å¸Ã„Â±yor)
          isPageRefresh = (performance.navigation.type === 1); // TYPE_RELOAD = 1
        } else if (performance.getEntriesByType) {
          // Yeni API
          var navEntries = performance.getEntriesByType('navigation');
          if (navEntries.length > 0) {
            isPageRefresh = (navEntries[0].type === 'reload');
          }
        }
        
        // EÃ„Å¸er referrer yoksa veya aynÃ„Â± sayfa ise, F5 yapÃ„Â±lmÃ„Â±Ã…Å¸ olabilir
        if (!isPageRefresh) {
          var referrerPath = document.referrer ? new URL(document.referrer).pathname : '';
          var currentPath = window.location.pathname;
          if (!document.referrer || referrerPath === currentPath || referrerPath === '/' && currentPath === '/') {
            isPageRefresh = true;
          }
        }
        
        // EÃ„Å¸er F5 yapÃ„Â±lmadÃ„Â±ysa (baÃ…Å¸ka bir sayfadan geldiyse), sessionStorage'dan tab'larÃ„Â± yÃƒÂ¼kle
        if (!isPageRefresh) {
          loadTabsFromStorage();
          hasTabs = Object.keys(openTabs).length > 0;
        }
        
        // Referrer kontrolÃƒÂ¼ kaldÃ„Â±rÃ„Â±ldÃ„Â± (eski program silindi)
        
        // SessionStorage kontrolÃƒÂ¼
        if (sessionStorage.getItem('showOperasyonContent') === 'true') {
          showContent = true;
          sessionStorage.removeItem('showOperasyonContent'); // Temizle
        }
        
        // EÃ„Å¸er tab'lar varsa iÃƒÂ§eriÃ„Å¸i gÃƒÂ¶ster
        if (hasTabs) {
          showContent = true;
        }
        
        if (showContent) {
          // Ã„Â°ÃƒÂ§eriÃ„Å¸i gÃƒÂ¶ster
          $('#main-content-operasyon').show();
          setActiveRibbonButton('operasyon_sayfasi');
          
          // BaÃ…Å¸lÃ„Â±Ã„Å¸Ã„Â± gizle (operasyon sayfasÃ„Â± aÃƒÂ§Ã„Â±ldÃ„Â±)
          $('#title-bar').hide();
          
          // EÃ„Å¸er tab yoksa Operasyon SayfasÃ„Â± tab'Ã„Â±nÃ„Â± aÃƒÂ§
          if (!hasTabs) {
            var operasyonItem = menuItems.find(function(item) { return item.name === 'operasyon_sayfasi'; });
            if (operasyonItem) {
              var tabBaslik = operasyonItem.tab_baslik || operasyonItem.baslik;
              openTab(tabBaslik, 'operasyon_sayfasi', operasyonItem.icon);
            }
          }
        } else {
          // Lobi ekranÃ„Â± - baÃ…Å¸lÃ„Â±Ã„Å¸Ã„Â± gÃƒÂ¶ster, iÃƒÂ§eriÃ„Å¸i gizle
          $('#main-content-operasyon').hide();
          $('#title-bar').show();
        }
      }, 50);
      
      // NOT: Ribbon butonlarÃ„Â±na hover efekti base.html'de tanÃ„Â±mlÃ„Â±, burada tekrar tanÃ„Â±mlamaya gerek yok
      // NOT: Tab yÃƒÂ¶netimi (openTabs, activeTabId, openTab, setActiveTab, closeTab, saveTabsToStorage, loadTabsFromStorage, createTabElement, findTabByTitle, setActiveRibbonButton) base.html'de tanÃ„Â±mlÃ„Â±, burada tekrar tanÃ„Â±mlamaya gerek yok
      
      // TANIMLAR menÃƒÂ¼sÃƒÂ¼ne tÃ„Â±klama - Alt menÃƒÂ¼ aÃƒÂ§
      $("#top-menu-bar-container span").first().on("click", function(e) {
        e.stopPropagation();
        var menu = $("#tanimlar-menu");
        if (menu.is(":visible")) {
          menu.hide();
        } else {
          var offset = $(this).offset();
          menu.css({
            top: offset.top + $(this).outerHeight(),
            left: offset.left
          }).show();
        }
      });
      
      // DÃ„Â±Ã…Å¸arÃ„Â± tÃ„Â±klayÃ„Â±nca menÃƒÂ¼yÃƒÂ¼ kapat
      $(document).on("click", function(e) {
        if (!$(e.target).closest("#top-menu-bar-container span").first().length && 
            !$(e.target).closest("#tanimlar-menu").length) {
          kapatTanimlarMenu();
        }
      });
      
      function kapatTanimlarMenu() {
        $("#tanimlar-menu").hide();
      }
      
      // Alt menÃƒÂ¼ item'larÃ„Â±na tÃ„Â±klama
      $("#tanimlar-firmalar").on("click", function(e) {
        e.stopPropagation();
        console.log("Firmalar tÃ„Â±klandÃ„Â±");
        acFirmaYonetimPenceresi();
        kapatTanimlarMenu();
      });
      
      // Hover efektleri
      $("#tanimlar-firmalar").hover(
        function() { $(this).css("background", "#F5F5F5"); },
        function() { $(this).css("background", "#FFFFFF"); }
      );
      
      // FIRMA YÃƒâ€“NETÃ„Â°MÃ„Â° PENCERESÃ„Â°
      function acFirmaYonetimPenceresi() {
        // Window oluÃ…Å¸tur
        if (!$("#firma-window").data("kendoWindow")) {
          $("#firma-window").kendoWindow({
            title: "Firma TanÄ±mlarÄ±",
            width: 800,
            height: 600,
            modal: true,
            visible: false,
            actions: ["Close"],
            open: function() {
              // Grid'i oluÃ…Å¸tur
              console.log("Firma penceresi aÃƒÂ§Ã„Â±ldÃ„Â±, grid oluÃ…Å¸turuluyor...");
              setTimeout(function() {
                olusturFirmaGrid();
              }, 100);
            }
          });
        }
        
        var window = $("#firma-window").data("kendoWindow");
        window.center().open();
      }
      
      // FIRMA GRID'Ã„Â° OLUÃ…ÂTUR
      function olusturFirmaGrid() {
        // Ãƒâ€“nceki grid varsa yok et
        if ($("#firma-grid").data("kendoGrid")) {
          $("#firma-grid").data("kendoGrid").destroy();
        }
        
        console.log("Firma grid oluÃ…Å¸turuluyor...");
        
        // Ãƒâ€“nce API'den veriyi test et
        $.ajax({
          url: "/api/firmalar/",
          type: "GET",
          dataType: "json",
          success: function(data) {
            console.log("API baÃ…Å¸arÃ„Â±lÃ„Â±, veri:", data);
            console.log("Veri tipi:", typeof data, "Uzunluk:", Array.isArray(data) ? data.length : "Array deÃ„Å¸il");
            
            // Grid container'Ã„Â± kontrol et
            var gridContainer = $("#firma-grid");
            if (gridContainer.length === 0) {
              console.error("Grid container bulunamadÃ„Â±! #firma-grid");
              if (typeof showWarning === 'function') {
                showWarning("Grid container bulunamadÃ„Â±!");
              } else {
                alert("Grid container bulunamadÃ„Â±!");
              }
              return;
            }
            console.log("Grid container bulundu:", gridContainer.length);
            
            // Ãƒâ€“nceki grid varsa yok et
            if (gridContainer.data("kendoGrid")) {
              console.log("Eski grid yok ediliyor...");
              gridContainer.data("kendoGrid").destroy();
            }
            
            // Grid'i oluÃ…Å¸tur
            gridContainer.kendoGrid({
              dataSource: {
                data: data,
                schema: {
                  model: {
                    id: "id",
                    fields: {
                      id: { type: "number", editable: false },
                      sira_no: { type: "number", validation: { required: true, min: 1 } },
                      ad: { type: "string", validation: { required: true } },
                      sube: { type: "string" },
                      vergi_no: { type: "string" },
                      vergi_dairesi: { type: "string" },
                      adres: { type: "string" },
                      telefon: { type: "string" },
                      eposta: { type: "string" },
                      yetkili_kisi: { type: "string" },
                      aktif: { type: "boolean", defaultValue: true }
                    }
                  }
                },
                pageSize: 20
              },
              height: 500,
              scrollable: true,
              sortable: true,
              filterable: false,
              pageable: {
                pageSizes: [10, 20, 50],
                buttonCount: 5
              },
              toolbar: [
                { name: "create", text: "Yeni Firma Ekle" },
                { name: "save", text: "Kaydet" },
                { name: "cancel", text: "Ã„Â°ptal" }
              ],
              messages: {
                commands: {
                  edit: "DÃƒÂ¼zenle",
                  destroy: "Sil",
                  canceledit: "Ã„Â°ptal",
                  update: "GÃƒÂ¼ncelle"
                }
              },
              editable: {
                mode: "incell",
                confirmation: "Silmek istediÃ„Å¸inizden emin misiniz?"
              },
              columns: [
                { field: "sira_no", title: "SÄ±ra No", width: 90 },
                { field: "ad", title: "Firma AdÄ±", width: 220 },
                { field: "vergi_no", title: "Vergi No", width: 140 },
                { field: "vergi_dairesi", title: "Vergi Dairesi", width: 160 },
                { field: "adres", title: "Adres", width: 240 },
                { field: "telefon", title: "Telefon", width: 140 },
                { field: "eposta", title: "E-posta", width: 180 },
                { field: "yetkili_kisi", title: "Yetkili KiÅŸi", width: 160 },
                { field: "aktif", title: "Aktif", width: 80, template: "#= aktif ? 'Evet' : 'HayÄ±r' #" },
                { 
                  command: [
                    { name: "edit", text: "DÃƒÂ¼zenle", className: "k-button k-button-sm" },
                    { name: "destroy", text: "Sil", className: "k-button k-button-sm" }
                  ], 
                  title: "Ã„Â°Ã…Å¸lemler", 
                  width: 150 
                }
              ],
              dataBound: function(e) {
                console.log("Grid yÃƒÂ¼klendi, kayÃ„Â±t sayÃ„Â±sÃ„Â±:", e.sender.dataSource.total());
                console.log("Grid verileri:", e.sender.dataSource.data());
                if (e.sender.dataSource.total() === 0) {
                  console.warn("UYARI: Grid'de hiÃƒÂ§ veri yok!");
                }
              },
              error: function(e) {
                console.error("Grid hatasÃ„Â±:", e);
              }
            });
          },
          error: function(xhr, status, error) {
            console.error("API hatasÃ„Â±:", status, error, xhr.responseText);
            var errorMessage = "Firmalar yÃƒÂ¼klenirken hata oluÃ…Å¸tu: " + error;
            if (typeof showError === 'function') {
              showError(errorMessage);
            } else {
              alert(errorMessage + "\n\nDetay: " + xhr.responseText);
            }
          }
        });
      }
      
      // ÃƒÅ“RÃƒÅ“N YÃƒâ€“NETÃ„Â°MÃ„Â° PENCERESÃ„Â°
      function acUrunYonetimPenceresi() {
        // Window oluÃ…Å¸tur
        if (!$("#urun-window").data("kendoWindow")) {
          $("#urun-window").kendoWindow({
            title: "ÃœrÃ¼n TanÄ±mlarÄ±",
            width: 800,
            height: 600,
            modal: true,
            visible: false,
            actions: ["Close"],
            open: function() {
              console.log("ÃƒÅ“rÃƒÂ¼n penceresi aÃƒÂ§Ã„Â±ldÃ„Â±, grid oluÃ…Å¸turuluyor...");
              setTimeout(function() {
                olusturUrunGrid();
              }, 100);
            }
          });
        }
        
        var window = $("#urun-window").data("kendoWindow");
        window.center().open();
      }
      
      // ÃƒÅ“RÃƒÅ“N GRID'Ã„Â° OLUÃ…ÂTUR
      function olusturUrunGrid() {
        // Ãƒâ€“nceki grid varsa yok et
        if ($("#urun-grid").data("kendoGrid")) {
          $("#urun-grid").data("kendoGrid").destroy();
        }
        
        console.log("ÃƒÅ“rÃƒÂ¼n grid oluÃ…Å¸turuluyor...");
        
        // Ãƒâ€“nce API'den veriyi test et
        $.ajax({
          url: "/api/urunler/",
          type: "GET",
          dataType: "json",
          success: function(data) {
            console.log("API baÃ…Å¸arÃ„Â±lÃ„Â±, veri:", data);
            console.log("Veri tipi:", typeof data, "Uzunluk:", Array.isArray(data) ? data.length : "Array deÃ„Å¸il");
            
            // Grid container'Ã„Â± kontrol et
            var gridContainer = $("#urun-grid");
            if (gridContainer.length === 0) {
              console.error("Grid container bulunamadÃ„Â±! #urun-grid");
              if (typeof showWarning === 'function') {
                showWarning("Grid container bulunamadÃ„Â±!");
              } else {
                alert("Grid container bulunamadÃ„Â±!");
              }
              return;
            }
            console.log("Grid container bulundu:", gridContainer.length);
            
            // Ãƒâ€“nceki grid varsa yok et
            if (gridContainer.data("kendoGrid")) {
              console.log("Eski grid yok ediliyor...");
              gridContainer.data("kendoGrid").destroy();
            }
            
            // Grid'i oluÃ…Å¸tur
            gridContainer.kendoGrid({
              dataSource: {
                data: data,
                schema: {
                  model: {
                    id: "id",
                    fields: {
                      id: { type: "number", editable: false },
                      sira_no: { type: "number", validation: { required: true, min: 1 } },
                      ad: { type: "string", validation: { required: true } },
                      aktif: { type: "boolean", defaultValue: true }
                    }
                  }
                },
                pageSize: 20
              },
              height: 500,
              scrollable: true,
              sortable: true,
              filterable: false,
              pageable: {
                pageSizes: [10, 20, 50],
                buttonCount: 5
              },
              toolbar: [
                { name: "create", text: "Yeni ÃƒÅ“rÃƒÂ¼n Ekle" },
                { name: "save", text: "Kaydet" },
                { name: "cancel", text: "Ã„Â°ptal" }
              ],
              editable: {
                mode: "incell",
                confirmation: "Silmek istediÃ„Å¸inizden emin misiniz?"
              },
              columns: [
                { field: "sira_no", title: "SÃ„Â±ra No", width: 100 },
                { field: "ad", title: "ÃƒÅ“rÃƒÂ¼n AdÃ„Â±", width: 300 },
                { field: "aktif", title: "Aktif", width: 80, template: "#= aktif ? 'Evet' : 'HayÃ„Â±r' #" },
                { 
                  command: [
                    { name: "edit", text: "DÃƒÂ¼zenle", className: "k-button k-button-sm" },
                    { name: "destroy", text: "Sil", className: "k-button k-button-sm" }
                  ], 
                  title: "Ã„Â°Ã…Å¸lemler", 
                  width: 150 
                }
              ],
              messages: {
                commands: {
                  edit: "DÃƒÂ¼zenle",
                  destroy: "Sil",
                  canceledit: "Ã„Â°ptal",
                  update: "GÃƒÂ¼ncelle"
                }
              },
              dataBound: function(e) {
                console.log("Grid yÃƒÂ¼klendi, kayÃ„Â±t sayÃ„Â±sÃ„Â±:", e.sender.dataSource.total());
                console.log("Grid verileri:", e.sender.dataSource.data());
                if (e.sender.dataSource.total() === 0) {
                  console.warn("UYARI: Grid'de hiÃƒÂ§ veri yok!");
                }
              },
              error: function(e) {
                console.error("Grid hatasÃ„Â±:", e);
              }
            });
          },
          error: function(xhr, status, error) {
            console.error("API hatasÃ„Â±:", status, error, xhr.responseText);
            var errorMessage = "ÃƒÅ“rÃƒÂ¼nler yÃƒÂ¼klenirken hata oluÃ…Å¸tu: " + error;
            if (typeof showError === 'function') {
              showError(errorMessage);
            } else {
              alert(errorMessage + "\n\nDetay: " + xhr.responseText);
            }
          }
        });
      }
      
      // Header - Profesyonel Typography
      $("#header-toolbar").html('<h1 style="margin:0;font-family:\'Roboto\',sans-serif;color:#2d3748;font-size:24px;font-weight:600;letter-spacing:0.01em;line-height:1.3;">Yeni Bir Proje</h1>');
    });
    
    $(document).ready(function() {
      // TUTARLI PX Ãƒâ€“LÃƒâ€¡ÃƒÅ“ SÃ„Â°STEMÃ„Â° - TÃƒÂ¼m tablolar iÃƒÂ§in standart
      function initTabloOlcuSistemi(containerId, tabloGenislik, tabloYukseklik, sutunSayisi, satirSayisi) {
        var $container = $("#" + containerId);
        if (!$container.length) return;
        
        // GerÃƒÂ§ek ÃƒÂ¶lÃƒÂ§ÃƒÂ¼leri hesapla
        var gercekGenislik = $container.outerWidth() || tabloGenislik;
        var gercekYukseklik = $container.outerHeight() || tabloYukseklik;
        var gercekSutunGenislik = Math.floor(gercekGenislik / sutunSayisi);
        var gercekSatirYukseklik = Math.floor(gercekYukseklik / satirSayisi);
        
        // Konsol loglarÃ„Â± - gerÃƒÂ§ek px deÃ„Å¸erleri
        console.log("ÄŸÅ¸â€œÂ TABLO Ãƒâ€“LÃƒâ€¡ÃƒÅ“LERÃ„Â° [" + containerId + "]:");
        console.log("  Ã¢â€ â€ GeniÃ…Å¸lik: " + gercekGenislik + "px (Hedef: " + tabloGenislik + "px)");
        console.log("  Ã¢â€ â€¢ YÃƒÂ¼kseklik: " + gercekYukseklik + "px (Hedef: " + tabloYukseklik + "px)");
        console.log("  ÄŸÅ¸â€œÅ  SÃƒÂ¼tun sayÃ„Â±sÃ„Â±: " + sutunSayisi + " (Her sÃƒÂ¼tun: " + gercekSutunGenislik + "px)");
        console.log("  ÄŸÅ¸â€œÅ  SatÃ„Â±r sayÃ„Â±sÃ„Â±: " + satirSayisi + " (Her satÃ„Â±r: " + gercekSatirYukseklik + "px)");
        
        // KÃ„Â±rmÃ„Â±zÃ„Â± ÃƒÂ¶lÃƒÂ§ÃƒÂ¼ yazÃ„Â±larÃ„Â±nÃ„Â± gÃƒÂ¼ncelle
        var $genislikYazi = $container.find(".tablo-olcu-genislik");
        var $yukseklikYazi = $container.find(".tablo-olcu-yukseklik");
        
        if ($genislikYazi.length) {
          $genislikYazi.html("Ã¢â€ â€ " + gercekGenislik + "px");
        } else {
          console.warn("Ã¢Å¡Â Ã¯Â¸Â GeniÃ…Å¸lik yazÃ„Â±sÃ„Â± bulunamadÃ„Â±!");
        }
        if ($yukseklikYazi.length) {
          $yukseklikYazi.find("div").html("Ã¢â€ â€¢ " + gercekYukseklik + "px");
        } else {
          console.warn("Ã¢Å¡Â Ã¯Â¸Â YÃƒÂ¼kseklik yazÃ„Â±sÃ„Â± bulunamadÃ„Â±!");
        }
        
        return {
          genislik: gercekGenislik,
          yukseklik: gercekYukseklik,
          sutunGenislik: gercekSutunGenislik,
          satirYukseklik: gercekSatirYukseklik
        };
      }
      
      // OPERASYON SAYFASI - Telerik Grid Tablosu (8 sÃƒÂ¼tun 10 satÃ„Â±r)
      setTimeout(function() {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoGrid !== 'undefined') {
          // BugÃƒÂ¼nÃƒÂ¼n tarihini formatla: "12.01. PAZARTESÃ„Â°"
          var today = new Date();
          var day = today.getDate();
          var month = today.getMonth() + 1;
          var year = today.getFullYear();
          var days = ["PAZAR", "PAZARTESÃ„Â°", "SALI", "Ãƒâ€¡ARÃ…ÂAMBA", "PERÃ…ÂEMBE", "CUMA", "CUMARTESÃ„Â°"];
          var dayName = days[today.getDay()];
          var formattedDate = day + "." + (month < 10 ? "0" + month : month) + ". " + dayName;
          
          // 10 satÃ„Â±r veri oluÃ…Å¸tur - Ã„Â°lk sÃƒÂ¼tun altÃ„Â±na KAPASÃ„Â°TE, ANLIK DURUM, GÃƒÅ“NLÃƒÅ“K SATIÃ…Â, TARÃ„Â°H
          var emptyRows = [];
          // Ã„Â°lk satÃ„Â±r: KAPASÃ„Â°TE (rakamlar ile)
          emptyRows.push({
            sutun1: "KAPASÃ„Â°TE",
            sutun2: "100.000",
            sutun3: "100.000",
            sutun4: "29.000",
            sutun5: "60.000",
            sutun6: "50.000",
            sutun7: "60.000",
            sutun8: "70.000"
          });
          // Ã„Â°kinci satÃ„Â±r: ANLIK DURUM
          emptyRows.push({
            sutun1: "ANLIK DURUM",
            sutun2: "",
            sutun3: "",
            sutun4: "",
            sutun5: "",
            sutun6: "",
            sutun7: "",
            sutun8: ""
          });
          // ÃƒÅ“ÃƒÂ§ÃƒÂ¼ncÃƒÂ¼ satÃ„Â±r: GÃƒÅ“NLÃƒÅ“K SATIÃ…Â
          emptyRows.push({
            sutun1: "GÃƒÅ“NLÃƒÅ“K SATIÃ…Â",
            sutun2: "",
            sutun3: "",
            sutun4: "",
            sutun5: "",
            sutun6: "",
            sutun7: "",
            sutun8: ""
          });
          // DÃƒÂ¶rdÃƒÂ¼ncÃƒÂ¼ satÃ„Â±r: BugÃƒÂ¼nÃƒÂ¼n tarihi (dinamik)
          emptyRows.push({
            sutun1: formattedDate,
            sutun2: "",
            sutun3: "",
            sutun4: "",
            sutun5: "",
            sutun6: "",
            sutun7: "",
            sutun8: ""
          });
          // DiÃ„Å¸er 6 satÃ„Â±r boÃ…Å¸
          for (var i = 0; i < 6; i++) {
            emptyRows.push({
              sutun1: "",
              sutun2: "",
              sutun3: "",
              sutun4: "",
              sutun5: "",
              sutun6: "",
              sutun7: "",
              sutun8: ""
            });
          }
          
          $("#operasyon-grid").kendoGrid({
            dataSource: {
              data: emptyRows,
              schema: {
                model: {
                  fields: {
                    sutun1: { type: "string" },
                    sutun2: { type: "string" },
                    sutun3: { type: "string" },
                    sutun4: { type: "string" },
                    sutun5: { type: "string" },
                    sutun6: { type: "string" },
                    sutun7: { type: "string" },
                    sutun8: { type: "string" }
                  }
                }
              }
            },
            width: 680,
            height: 316,
            scrollable: true,
            sortable: false,
            filterable: false,
            resizable: false,
            reorderable: {
              columns: true
            },
            columnResizeHandleWidth: 0,
            rowHeight: 30,
            columns: [
              { field: "sutun1", title: "MOTORÃ„Â°N", width: 120, minResizableWidth: 120, maxResizableWidth: 120, attributes: { style: "height:30px !important;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;" } },
              { field: "sutun2", title: "YAÃ„ÂCILAR", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } },
              { field: "sutun3", title: "TEPEKUM", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } },
              { field: "sutun4", title: "NAMDAR", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } },
              { field: "sutun5", title: "Ã…ÂEKER", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } },
              { field: "sutun6", title: "AKOVA", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } },
              { field: "sutun7", title: "KOOP.", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } },
              { field: "sutun8", title: "NAZÃ„Â°LLÃ„Â°", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } }
            ],
            noRecords: {
              template: ""
            }
          });
          
          // Grid border sorununu genel fonksiyonla dÃƒÂ¼zelt - container iÃƒÂ§ alanÃ„Â± 680px
          duzeltGridBorderSorunu("#operasyon-grid", 680);
          
          // SÃƒÂ¼tun geniÃ…Å¸liklerini ayarla - Ã„Â°lk sÃƒÂ¼tun 120px, diÃ„Å¸erleri 80px
          setTimeout(function() {
            var grid = $("#operasyon-grid").data("kendoGrid");
            if (grid) {
              var columns = grid.columns;
              // Ã„Â°lk sÃƒÂ¼tun 120px, diÃ„Å¸erleri 80px
              columns[0].width = 120;
              for (var i = 1; i < columns.length; i++) {
                columns[i].width = 80;
              }
              
              // SÃƒÂ¼tun geniÃ…Å¸liklerini zorla uygula - header ve td'lerin tam hizalÃ„Â± olmasÃ„Â± iÃƒÂ§in
              $("#operasyon-grid .k-grid-header th").each(function(index) {
                if (index === 0) {
                  $(this).css({ 
                    "min-width": "120px", 
                    "max-width": "120px", 
                    "width": "120px", 
                    "flex-shrink": "0", 
                    "flex-grow": "0",
                    "box-sizing": "border-box",
                    "padding-left": "15px",
                    "padding-right": "15px"
                  });
                } else {
                  $(this).css({ 
                    "min-width": "80px", 
                    "max-width": "80px", 
                    "width": "80px", 
                    "flex-shrink": "0", 
                    "flex-grow": "0",
                    "box-sizing": "border-box",
                    "padding-left": "15px",
                    "padding-right": "15px"
                  });
                }
              });
              
              $("#operasyon-grid .k-grid-content table td").each(function() {
                var colIndex = $(this).index();
                if (colIndex === 0) {
                  $(this).css({ 
                    "min-width": "120px", 
                    "max-width": "120px", 
                    "width": "120px", 
                    "flex-shrink": "0", 
                    "flex-grow": "0",
                    "box-sizing": "border-box",
                    "padding-left": "15px",
                    "padding-right": "15px"
                  });
                } else {
                  $(this).css({ 
                    "min-width": "80px", 
                    "max-width": "80px", 
                    "width": "80px", 
                    "flex-shrink": "0", 
                    "flex-grow": "0",
                    "box-sizing": "border-box",
                    "padding-left": "15px",
                    "padding-right": "15px"
                  });
                }
              });
              
              // Header ve data cell'lerin aynÃ„Â± hizada olmasÃ„Â± iÃƒÂ§in tablo geniÃ…Å¸liÃ„Å¸ini sabitle
              $("#operasyon-grid table.k-grid-table").css({
                "table-layout": "fixed",
                "width": "680px"
              });
              
              // SatÃ„Â±r yÃƒÂ¼ksekliklerini koru
              $("#operasyon-grid .k-grid-content table tr").css({ "height": "30px", "min-height": "30px", "max-height": "30px" });
              
              // Grid geniÃ…Å¸liÃ„Å¸ini toplam sÃƒÂ¼tun geniÃ…Å¸liÃ„Å¸ine gÃƒÂ¶re ayarla
              var totalWidth = 120 + (80 * 7); // 680px
              grid.options.width = totalWidth;
              $("#operasyon-grid").css("width", totalWidth + "px");
              
              grid.refresh();
            }
          }, 600);
          
          // SÃƒÂ¼tun geniÃ…Å¸liklerini ve satÃ„Â±r yÃƒÂ¼ksekliklerini sabit tut - iÃƒÂ§erikle deÃ„Å¸iÃ…Å¸mesin
          setTimeout(function() {
            var grid = $("#operasyon-grid").data("kendoGrid");
            if (grid) {
              // TÃƒÂ¼m satÃ„Â±rlarÃ„Â± sabit yÃƒÂ¼kseklikte tut
              $("#operasyon-grid").find(".k-grid tr").css("height", "30px");
              
              // Grid'in CSS'ini dÃƒÂ¼zelt - border/padding sorunlarÃ„Â±nÃ„Â± ÃƒÂ§ÃƒÂ¶z
              var gridWrapper = $("#operasyon-grid").closest(".k-widget");
              if (gridWrapper.length > 0) {
                gridWrapper.css({
                  "border": "none",
                  "padding": "0",
                  "box-sizing": "border-box"
                });
              }
              
              grid.refresh();
            }
          }, 800);
        }
      }, 200);
    });
    
    $(document).ready(function() {
      try {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoDrawer !== 'undefined') {
          $("#operasyon-drawer").kendoDrawer({
            template: "<ul><li>Operasyon MenÃƒÂ¼</li><li>HÃ„Â±zlÃ„Â± Ã„Â°Ã…Å¸lemler</li><li>Raporlar</li></ul>",
            minHeight: 160,
            swipeToOpen: false
          });
          
          $("#operasyon-drawer-toggle").on("click", function() {
            var drawer = $("#operasyon-drawer").data("kendoDrawer");
            var isOpen = $("#operasyon-drawer").data("drawer-open") === true;
            if (isOpen) {
              drawer.hide();
              $("#operasyon-drawer").data("drawer-open", false);
            } else {
              drawer.show();
              $("#operasyon-drawer").data("drawer-open", true);
            }
          });
        }
      } catch(e) { console.error("Operasyon Drawer hatasÃ„Â±:", e); }
    });
    
    $(document).ready(function() {
      // Filtre ve kolon menÃ¼sÃ¼ TÃ¼rkÃ§e metinler (global)
      if (typeof kendo !== 'undefined' && kendo.ui && kendo.ui.FilterMenu) {
        kendo.ui.FilterMenu.prototype.options.messages = $.extend(
          true,
          kendo.ui.FilterMenu.prototype.options.messages,
          {
            info: "DeÄŸeri ÅŸu olanlarÄ± gÃ¶ster:",
            filter: "Filtrele",
            clear: "Temizle",
            and: "Ve",
            or: "Veya",
            selectValue: "- SeÃ§ -",
            isTrue: "Evet",
            isFalse: "HayÄ±r"
          }
        );
        kendo.ui.FilterMenu.prototype.options.operators = {
          string: {
            contains: "Ä°Ã§erir",
            doesnotcontain: "Ä°Ã§ermez",
            startswith: "Ä°le baÅŸlar",
            endswith: "Ä°le biter",
            eq: "EÅŸittir",
            neq: "EÅŸit deÄŸildir",
            isempty: "BoÅŸ",
            isnotempty: "BoÅŸ deÄŸil",
            isnull: "Null",
            isnotnull: "Null deÄŸil"
          },
          number: {
            eq: "EÅŸittir",
            neq: "EÅŸit deÄŸildir",
            gte: "BÃ¼yÃ¼k veya eÅŸit",
            gt: "BÃ¼yÃ¼ktÃ¼r",
            lte: "KÃ¼Ã§Ã¼k veya eÅŸit",
            lt: "KÃ¼Ã§Ã¼ktÃ¼r",
            isnull: "Null",
            isnotnull: "Null deÄŸil"
          },
          date: {
            eq: "EÅŸittir",
            neq: "EÅŸit deÄŸildir",
            gte: "BÃ¼yÃ¼k veya eÅŸit",
            gt: "BÃ¼yÃ¼ktÃ¼r",
            lte: "KÃ¼Ã§Ã¼k veya eÅŸit",
            lt: "KÃ¼Ã§Ã¼ktÃ¼r",
            isnull: "Null",
            isnotnull: "Null deÄŸil"
          },
          enums: {
            eq: "EÅŸittir",
            neq: "EÅŸit deÄŸildir"
          }
        };
      }

      if (typeof kendo !== 'undefined' && kendo.ui && kendo.ui.ColumnMenu) {
        kendo.ui.ColumnMenu.prototype.options.messages = $.extend(
          true,
          kendo.ui.ColumnMenu.prototype.options.messages,
          {
            columns: "SÃ¼tun SeÃ§imi",
            filter: "Filtre",
            sortAscending: "Artan SÄ±rala",
            sortDescending: "Azalan SÄ±rala",
            settings: "Ayarlar",
            done: "Tamam",
            lock: "SÃ¼tunu Sabitle",
            unlock: "Sabitlemeyi KaldÄ±r",
            setColumnPosition: "SÃ¼tun Konumu",
            movePrev: "Ã–nceki",
            moveNext: "Sonraki",
            moveToStart: "BaÅŸa TaÅŸÄ±",
            moveToEnd: "Sona TaÅŸÄ±"
          }
        );
      }

      // Firma TanÄ±m KartÄ± Window
      if (typeof kendo !== 'undefined' && typeof $.fn.kendoWindow !== 'undefined') {
        var firmaTanimKartiWindow = $("#firma-tanim-karti-window").kendoWindow({
          title: "Firma TanÄ±m KartÄ±",
          width: "600px",
          height: "520px",
          visible: false,
          modal: true,
          resizable: {
            columns: true
          },
          columnResizeHandleWidth: 10,
          draggable: true,
          actions: ["Close"]
        }).data("kendoWindow");

        if (typeof $.fn.kendoTabStrip !== "undefined") {
          var $firmaTabstrip = $("#firma-tanim-karti-tabstrip");
          if ($firmaTabstrip.length > 0 && !$firmaTabstrip.data("kendoTabStrip")) {
            $firmaTabstrip.kendoTabStrip({
              animation: {
                open: { effects: "fadeIn", duration: 120 }
              }
            });
          }
        }

        if (typeof $.fn.kendoTextBox !== 'undefined') {
          $("#firma-karti-adi-input").kendoTextBox({ placeholder: "Ã–rn: ABC Lojistik" });
          $("#firma-karti-tur-input").kendoTextBox({ placeholder: "Ã–rn: Ana Firma" });
          $("#firma-karti-kod-input").kendoTextBox({ placeholder: "Ã–rn: FIR0001" });
          $("#firma-karti-vergi-dairesi").kendoTextBox({ placeholder: "Ã–rn: KadÄ±kÃ¶y" });
          $("#firma-karti-eposta").kendoTextBox({ placeholder: "ornek@firma.com" });
          $("#firma-karti-mahalle").kendoTextBox({ placeholder: "Ã–rn: Merkez Mah." });
          $("#firma-karti-cadde-sokak").kendoTextBox({ placeholder: "Ã–rn: AtatÃ¼rk Cd." });
          $("#firma-karti-no").kendoTextBox({ placeholder: "Ã–rn: 12" });
          $("#firma-karti-bina-blok").kendoTextBox({ placeholder: "Ã–rn: A" });
          $("#firma-karti-kat").kendoTextBox({ placeholder: "Ã–rn: 3" });
          $("#firma-karti-daire").kendoTextBox({ placeholder: "Ã–rn: 5" });
          $("#firma-karti-ilce").kendoTextBox({ placeholder: "Ã–rn: KadÄ±kÃ¶y" });
          $("#firma-karti-il").kendoTextBox({ placeholder: "Ã–rn: Ä°stanbul" });
          $("#firma-karti-konum-lat").kendoTextBox({ placeholder: "Enlem" });
          $("#firma-karti-konum-lng").kendoTextBox({ placeholder: "Boylam" });
          $("#firma-karti-konum-link").kendoTextBox({ placeholder: "Otomatik dolacak" });
        }

        if (typeof $.fn.kendoMaskedTextBox !== "undefined") {
          $("#firma-karti-telefon").kendoMaskedTextBox({ mask: "(000) 000 00 00", promptChar: "_" });
          $("#firma-karti-vergi-no").kendoMaskedTextBox({ mask: "0000000000", promptChar: "_" });
          $("#firma-karti-mersis-no").kendoMaskedTextBox({ mask: "0000000000000000", promptChar: "_" });
          $("#firma-karti-posta-kodu").kendoMaskedTextBox({ mask: "00000", promptChar: "_" });
        } else if (typeof $.fn.kendoTextBox !== "undefined") {
          $("#firma-karti-telefon").kendoTextBox({ placeholder: "Ã–rn: 0532 123 45 67" });
          $("#firma-karti-vergi-no").kendoTextBox({ placeholder: "10 haneli" });
          $("#firma-karti-mersis-no").kendoTextBox({ placeholder: "16 haneli" });
          $("#firma-karti-posta-kodu").kendoTextBox({ placeholder: "Ã–rn: 34000" });
        }

        if (typeof $.fn.kendoButton !== "undefined") {
          $("#firma-karti-konum-al").kendoButton();
        }

        $("#firma-karti-konum-al").on("click", function() {
          if (!navigator.geolocation) {
            showFirmaTanimlariNotice("error", "Bu tarayÄ±cÄ± konum desteÄŸi vermiyor.");
            return;
          }
          navigator.geolocation.getCurrentPosition(
            function(position) {
              var lat = position.coords.latitude;
              var lng = position.coords.longitude;
              $("#firma-karti-konum-lat").val(lat.toFixed(6));
              $("#firma-karti-konum-lng").val(lng.toFixed(6));
              $("#firma-karti-konum-link").val("https://maps.google.com/?q=" + lat + "," + lng);
              showFirmaTanimlariNotice("success", "Konum alÄ±ndÄ±.");
            },
            function(error) {
              var message = "Konum alÄ±namadÄ±.";
              if (error && error.message) {
                message = "Konum alÄ±namadÄ±: " + error.message;
              }
              showFirmaTanimlariNotice("error", message);
            },
            { enableHighAccuracy: true, timeout: 10000 }
          );
        });

        function normalizeSpace(value) {
          return (value || "").replace(/\s+/g, " ").trim();
        }

        function turkishToLower(value) {
          return (value || "")
            .replace(/I/g, "Ä±")
            .replace(/Ä°/g, "i")
            .toLowerCase();
        }

        function turkishToUpper(value) {
          return (value || "")
            .replace(/i/g, "Ä°")
            .replace(/Ä±/g, "I")
            .toUpperCase();
        }

        function titleCaseWordTr(word) {
          if (!word) {
            return word;
          }
          return word.split(/([-'])/).map(function(part) {
            if (part === "-" || part === "'") {
              return part;
            }
            if (!part) {
              return part;
            }
            var lowered = turkishToLower(part);
            return turkishToUpper(lowered.charAt(0)) + lowered.slice(1);
          }).join("");
        }

        function normalizeTitleTr(value) {
          var cleaned = normalizeSpace(value);
          if (!cleaned) {
            return "";
          }
          return cleaned.split(" ").map(titleCaseWordTr).join(" ");
        }

        var firmaTanimlariNotify = null;
        function ensureFirmaTanimlariNotify() {
          if (firmaTanimlariNotify || typeof $.fn.kendoNotification === "undefined") {
            return;
          }
          firmaTanimlariNotify = $("#firma-tanimlari-notification").kendoNotification({
            position: {
              pinned: true,
              top: 180,
              right: 30
            },
            autoHideAfter: 3500,
            stacking: "down"
          }).data("kendoNotification");
        }

        function showFirmaTanimlariNotice(type, message) {
          ensureFirmaTanimlariNotify();
          if (firmaTanimlariNotify) {
            firmaTanimlariNotify.show(message, type);
          } else {
            alert(message);
          }
        }

        $("#firma-yeni-btn").on("click", function() {
          if (firmaTanimKartiWindow) {
            $("#firma-karti-adi-input").val("");
            $("#firma-karti-vergi-dairesi").val("");
            $("#firma-karti-tur-input").val("");
            $("#firma-karti-kod-input").val("");
            $("#firma-karti-vergi-no").val("");
            $("#firma-karti-mersis-no").val("");
            $("#firma-karti-telefon").val("");
            $("#firma-karti-eposta").val("");
            firmaTanimKartiWindow.center().open();
            var tabstrip = $("#firma-tanim-karti-tabstrip").data("kendoTabStrip");
            if (tabstrip) {
              tabstrip.select(0);
            }
          }
        });

        $("#firma-sube-karti-btn").on("click", function() {
          if (!window.selectedFirma || !window.selectedFirma.ad) {
            if (typeof showWarning === "function") {
              showWarning("Ãƒâ€“nce listeden firma seÃƒÂ§.");
            } else {
              alert("Ãƒâ€“nce listeden firma seÃƒÂ§.");
            }
            return;
          }
          var grid = $("#firma-tanimlari-grid").data("kendoGrid");
          var dataItem = grid ? grid.dataSource.get(window.selectedFirma.id) : null;
          if (!dataItem && grid) {
            var view = grid.dataSource.view() || [];
            for (var i = 0; i < view.length; i++) {
              if (view[i].id === window.selectedFirma.id) {
                dataItem = view[i];
                break;
              }
            }
          }
          if (!dataItem) {
            if (typeof showWarning === "function") {
              showWarning("Firma bilgisi bulunamadÃ„Â±.");
            } else {
              alert("Firma bilgisi bulunamadÃ„Â±.");
            }
            return;
          }
          if (!$("#firma-karti-gor-window").data("kendoWindow")) {
            $("#firma-karti-gor-window").kendoWindow({
              title: "Firma KartÃ„Â±",
              width: 900,
              height: 600,
              modal: false,
              visible: false,
              resizable: true,
              actions: ["Minimize", "Maximize", "Close"]
            });
          }
          var windowInstance = $("#firma-karti-gor-window").data("kendoWindow");
          if (windowInstance) {
            var adresTekSatir = dataItem.adres;
            if (!adresTekSatir) {
              var adresParca = [];
              if (dataItem.mahalle) { adresParca.push(dataItem.mahalle); }
              if (dataItem.cadde_sokak) { adresParca.push(dataItem.cadde_sokak); }
              if (dataItem.no) { adresParca.push("No: " + dataItem.no); }
              if (dataItem.bina_blok) { adresParca.push("Bina/Blok: " + dataItem.bina_blok); }
              if (dataItem.kat) { adresParca.push("Kat: " + dataItem.kat); }
              if (dataItem.daire) { adresParca.push("Daire: " + dataItem.daire); }
              if (dataItem.ilce) { adresParca.push(dataItem.ilce); }
              if (dataItem.il) { adresParca.push(dataItem.il); }
              if (dataItem.posta_kodu) { adresParca.push("PK: " + dataItem.posta_kodu); }
              adresTekSatir = adresParca.join(", ");
            }
            $("#firma-karti-gor-baslik").val("");
            $("#firma-karti-gor-output").val("");
            $(".firma-karti-gor-check").prop("checked", false);
            $("#firma-karti-gor-adi").val(dataItem.ad || "");
            $("#firma-karti-gor-tur").val(dataItem.tur || "");
            $("#firma-karti-gor-kod").val(dataItem.kod || "");
            $("#firma-karti-gor-sube").val(dataItem.sube || "");
            $("#firma-karti-gor-vergi-dairesi").val(dataItem.vergi_dairesi || "");
            $("#firma-karti-gor-vergi-no").val(dataItem.vergi_no || "");
            $("#firma-karti-gor-mersis-no").val(dataItem.mersis_no || "");
            $("#firma-karti-gor-telefon").val(dataItem.telefon || "");
            $("#firma-karti-gor-eposta").val(dataItem.eposta || "");
            $("#firma-karti-gor-yetkili").val(dataItem.yetkili_kisi || "");
            $("#firma-karti-gor-adres").val(adresTekSatir || "");
            $("#firma-karti-gor-mahalle").val(dataItem.mahalle || "");
            $("#firma-karti-gor-cadde-sokak").val(dataItem.cadde_sokak || "");
            $("#firma-karti-gor-no").val(dataItem.no || "");
            $("#firma-karti-gor-bina-blok").val(dataItem.bina_blok || "");
            $("#firma-karti-gor-kat").val(dataItem.kat || "");
            $("#firma-karti-gor-daire").val(dataItem.daire || "");
            $("#firma-karti-gor-ilce").val(dataItem.ilce || "");
            $("#firma-karti-gor-il").val(dataItem.il || "");
            $("#firma-karti-gor-posta-kodu").val(dataItem.posta_kodu || "");
            $("#firma-karti-gor-konum-lat").val(dataItem.konum_lat || "");
            $("#firma-karti-gor-konum-lng").val(dataItem.konum_lng || "");
            $("#firma-karti-gor-konum-link").val(dataItem.konum_link || "");
            if (dataItem.ad) {
              windowInstance.title("Firma KartÃ„Â± - " + dataItem.ad);
            }
            windowInstance.center().open();
          }
        });

        $("#firma-sube-tanimlari-btn").on("click", function() {
          if (typeof window.openSubeTanimlariTab === "function") {
            window.openSubeTanimlariTab();
          }
        });

        var subeTanimKartiWindow = null;
        function initSubeTanimKartiWindow() {
          if (typeof kendo === 'undefined' || typeof $.fn.kendoWindow === 'undefined') {
            setTimeout(initSubeTanimKartiWindow, 100);
            return;
          }
          if (subeTanimKartiWindow) {
            return;
          }
          subeTanimKartiWindow = $("#sube-tanim-karti-window").kendoWindow({
            title: "Åube TanÄ±m KartÄ±",
            width: 900,
            height: 520,
            visible: false,
            modal: false,
            resizable: true,
            draggable: true,
            actions: ["Minimize", "Maximize", "Close"]
          }).data("kendoWindow");

          if (typeof $.fn.kendoDropDownList !== 'undefined') {
            $("#sube-ana-firma").kendoDropDownList({
              optionLabel: "Ana firma seÃ§",
              dataTextField: "ad",
              dataValueField: "id",
              dataSource: []
            });
          }
          if (typeof $.fn.kendoTextBox !== 'undefined') {
            $("#sube-adi-input").kendoTextBox();
            $("#sube-istasyon-input").kendoTextBox();
            $("#sube-vergi-dairesi").kendoTextBox();
            $("#sube-vergi-no").kendoTextBox();
            $("#sube-adres").kendoTextBox();
            $("#sube-telefon").kendoTextBox();
            $("#sube-eposta").kendoTextBox();
            $("#sube-yetkili-kisi").kendoTextBox();
          }
        }
        initSubeTanimKartiWindow();

        var anaFirmaCache = null;
        function fetchAnaFirmalar(callback) {
          if (anaFirmaCache) {
            if (typeof callback === "function") {
              callback(anaFirmaCache);
            }
            return;
          }
          $.getJSON("/api/firmalar/", function(list) {
            var filtered = (list || []).filter(function(item) {
              var tur = (item.tur || "").toString().trim().toLowerCase();
              return tur === "ana firma";
            }).map(function(item) {
              return { id: item.id, ad: item.ad };
            });
            anaFirmaCache = filtered;
            if (typeof callback === "function") {
              callback(filtered);
            }
          }).fail(function() {
            if (typeof showError === "function") {
              showError("Ana firma listesi alÄ±namadÄ±.");
            } else {
              alert("Ana firma listesi alÄ±namadÄ±.");
            }
          });
        }

        function openSubeTanimKartiWindow() {
          initSubeTanimKartiWindow();
          $("#sube-adi-input").val("");
          $("#sube-istasyon-input").val("");
          $("#sube-vergi-dairesi").val("");
          $("#sube-vergi-no").val("");
          $("#sube-adres").val("");
          $("#sube-telefon").val("");
          $("#sube-eposta").val("");
          $("#sube-yetkili-kisi").val("");

          fetchAnaFirmalar(function(list) {
            var ddl = $("#sube-ana-firma").data("kendoDropDownList");
            if (ddl) {
              ddl.dataSource.data(list);
              ddl.select(0);
            }
            if (subeTanimKartiWindow) {
              subeTanimKartiWindow.center().open();
            }
          });
        }

        $("#sube-yeni-btn").on("click", function() {
          openSubeTanimKartiWindow();
        });

        $("#sube-tanimlari-refresh-btn").on("click", function() {
          if (typeof window.initSubeTanimlariGrid === "function") {
            window.initSubeTanimlariGrid(true);
            var grid = $("#sube-tanimlari-grid").data("kendoGrid");
            if (grid) {
              grid.dataSource.read();
            }
          }
        });

        $("#sube-tanim-kapat").on("click", function() {
          if (subeTanimKartiWindow) {
            subeTanimKartiWindow.close();
          }
        });

        $("#sube-tanim-kaydet").on("click", function() {
          var ddl = $("#sube-ana-firma").data("kendoDropDownList");
          var anaFirmaId = ddl ? ddl.value() : "";
          var payload = {
            ana_firma_id: anaFirmaId,
            sube_adi: $("#sube-adi-input").val() || "",
            istasyon_adi: $("#sube-istasyon-input").val() || "",
            vergi_dairesi: $("#sube-vergi-dairesi").val() || "",
            vergi_no: $("#sube-vergi-no").val() || "",
            adres: $("#sube-adres").val() || "",
            telefon: $("#sube-telefon").val() || "",
            eposta: $("#sube-eposta").val() || "",
            yetkili_kisi: $("#sube-yetkili-kisi").val() || ""
          };

          if (!payload.ana_firma_id) {
            if (typeof showWarning === "function") {
              showWarning("Ana firma seÃ§.");
            } else {
              alert("Ana firma seÃ§.");
            }
            return;
          }
          if (!payload.sube_adi.trim()) {
            if (typeof showWarning === "function") {
              showWarning("Åube adÄ± gerekli.");
            } else {
              alert("Åube adÄ± gerekli.");
            }
            return;
          }

          $.ajax({
            url: "/api/subeler/",
            method: "POST",
            contentType: "application/json",
            data: JSON.stringify(payload),
            success: function() {
              if (typeof showSuccess === "function") {
                showSuccess("Åube kaydedildi.");
              }
              if (subeTanimKartiWindow) {
                subeTanimKartiWindow.close();
              }
              var grid = $("#sube-tanimlari-grid").data("kendoGrid");
              if (grid) {
                grid.dataSource.read();
              }
            },
            error: function(xhr) {
              var message = "Åube kaydedilemedi.";
              if (xhr && xhr.responseText) {
                message = xhr.responseText;
              }
              if (typeof showError === "function") {
                showError(message);
              } else {
                alert(message);
              }
            }
          });
        });

        if (!window.__firmaKartiGorHandlers) {
          window.__firmaKartiGorHandlers = true;
          $("#firma-karti-gor-olustur").on("click", function() {
            var baslik = ($("#firma-karti-gor-baslik").val() || "").trim();
            var lines = [];
            if (baslik) {
              lines.push(baslik);
            }
            $(".firma-karti-gor-check:checked").each(function() {
              var label = $(this).data("label") || "";
              var target = $(this).data("target");
              var value = target ? $(target).val() : "";
              value = value ? value.toString().trim() : "";
              if (label && value) {
                lines.push(label + ": " + value);
              }
            });
            $("#firma-karti-gor-output").val(lines.join("\n"));
            if (lines.length === 0) {
              if (typeof showWarning === "function") {
                showWarning("En az bir bilgi seÃ§.");
              } else {
                alert("En az bir bilgi seÃ§.");
              }
            }
          });
          $("#firma-karti-gor-kopyala").on("click", function() {
            var text = ($("#firma-karti-gor-output").val() || "").trim();
            if (!text) {
              if (typeof showWarning === "function") {
                showWarning("Ã–nce kartÄ± oluÅŸtur.");
              } else {
                alert("Ã–nce kartÄ± oluÅŸtur.");
              }
              return;
            }
            if (navigator.clipboard && navigator.clipboard.writeText) {
              navigator.clipboard.writeText(text).then(function() {
                if (typeof showSuccess === "function") {
                  showSuccess("KopyalandÄ±.");
                }
              });
            } else {
              var output = $("#firma-karti-gor-output");
              output.focus();
              output.select();
              try {
                document.execCommand("copy");
              } catch (err) {}
            }
          });
          $("#firma-karti-gor-whatsapp").on("click", function() {
            var text = ($("#firma-karti-gor-output").val() || "").trim();
            if (!text) {
              if (typeof showWarning === "function") {
                showWarning("Ã–nce kartÄ± oluÅŸtur.");
              } else {
                alert("Ã–nce kartÄ± oluÅŸtur.");
              }
              return;
            }
            var rawNumber = ($("#firma-karti-gor-telefon-gonder").val() || "").trim();
            var number = rawNumber.replace(/\D/g, "");
            var url = "https://web.whatsapp.com/send?text=" + encodeURIComponent(text);
            if (number) {
              url = "https://web.whatsapp.com/send?phone=" + encodeURIComponent(number) + "&text=" + encodeURIComponent(text);
            }
            window.open(url, "_blank");
          });
        }

        $("#firma-tanimlari-refresh-btn").on("click", function() {
          if (typeof window.initFirmaTanimlariGrid === "function") {
            window.initFirmaTanimlariGrid(true);
          }
          var grid = $("#firma-tanimlari-grid").data("kendoGrid");
          if (grid) {
            grid.dataSource.read();
            grid.refresh();
          }
        });

        $("#firma-bilgi-degistir-btn").on("click", function() {
          if (!window.selectedFirma || !window.selectedFirma.id) {
            showFirmaTanimlariNotice("warning", "Ã–nce listeden firma seÃ§.");
            return;
          }
          if (firmaTanimKartiWindow) {
            var grid = $("#firma-tanimlari-grid").data("kendoGrid");
            var dataItem = grid ? grid.dataSource.get(window.selectedFirma.id) : null;
            if (!dataItem && grid) {
              var view = grid.dataSource.view() || [];
              for (var i = 0; i < view.length; i++) {
                if (view[i].id === window.selectedFirma.id) {
                  dataItem = view[i];
                  break;
                }
              }
            }
            $("#firma-karti-adi-input").val(dataItem && dataItem.ad ? dataItem.ad : "");
            $("#firma-karti-tur-input").val(dataItem && dataItem.tur ? dataItem.tur : "");
            $("#firma-karti-kod-input").val(dataItem && dataItem.kod ? dataItem.kod : "");
            $("#firma-karti-vergi-dairesi").val(dataItem && dataItem.vergi_dairesi ? dataItem.vergi_dairesi : "");
            $("#firma-karti-vergi-no").val(dataItem && dataItem.vergi_no ? dataItem.vergi_no : "");
            $("#firma-karti-mersis-no").val(dataItem && dataItem.mersis_no ? dataItem.mersis_no : "");
            $("#firma-karti-telefon").val(dataItem && dataItem.telefon ? dataItem.telefon : "");
            $("#firma-karti-eposta").val(dataItem && dataItem.eposta ? dataItem.eposta : "");
            $("#firma-karti-mahalle").val(dataItem && dataItem.mahalle ? dataItem.mahalle : "");
            $("#firma-karti-cadde-sokak").val(dataItem && dataItem.cadde_sokak ? dataItem.cadde_sokak : "");
            $("#firma-karti-no").val(dataItem && dataItem.no ? dataItem.no : "");
            $("#firma-karti-bina-blok").val(dataItem && dataItem.bina_blok ? dataItem.bina_blok : "");
            $("#firma-karti-kat").val(dataItem && dataItem.kat ? dataItem.kat : "");
            $("#firma-karti-daire").val(dataItem && dataItem.daire ? dataItem.daire : "");
            $("#firma-karti-ilce").val(dataItem && dataItem.ilce ? dataItem.ilce : "");
            $("#firma-karti-il").val(dataItem && dataItem.il ? dataItem.il : "");
            $("#firma-karti-posta-kodu").val(dataItem && dataItem.posta_kodu ? dataItem.posta_kodu : "");
            $("#firma-karti-konum-lat").val(dataItem && dataItem.konum_lat ? dataItem.konum_lat : "");
            $("#firma-karti-konum-lng").val(dataItem && dataItem.konum_lng ? dataItem.konum_lng : "");
            $("#firma-karti-konum-link").val(dataItem && dataItem.konum_link ? dataItem.konum_link : "");
            firmaTanimKartiWindow.center().open();
            var tabstrip = $("#firma-tanim-karti-tabstrip").data("kendoTabStrip");
            if (tabstrip) {
              tabstrip.select(0);
            }
          }
        });

        var subeEvrakWindow = null;
        var subeEvrakOnizlemeWindow = null;
        var subeEvrakTurleri = [];

        function ensureSubeEvrakWindows() {
          if (subeEvrakWindow || typeof $.fn.kendoWindow === "undefined") {
            return;
          }
          subeEvrakWindow = $("#sube-evrak-window").kendoWindow({
            title: "Ã…Âube Evrak Ekle",
            width: "600px",
            height: "420px",
            visible: false,
            modal: true,
            resizable: false,
            draggable: true,
            actions: ["Close"],
            open: function() {
              setTimeout(function() {
                wireSubeEvrakUploadButton();
              }, 0);
            }
          }).data("kendoWindow");

          subeEvrakOnizlemeWindow = $("#sube-evrak-onizleme-window").kendoWindow({
            title: "Evrak Ãƒâ€“nizleme",
            width: "80%",
            height: "80%",
            visible: false,
            modal: true,
            resizable: true,
            draggable: true,
            actions: ["Close", "Maximize", "Minimize"]
          }).data("kendoWindow");
        }

        function loadSubeEvrakTurleri() {
          return fetch("/api/evrak-turleri/")
            .then(function(response) { return response.json(); })
            .then(function(data) {
              subeEvrakTurleri = data || [];
              if (typeof $.fn.kendoComboBox !== "undefined") {
                $("#sube-evrak-turu").kendoComboBox({
                  dataTextField: "ad",
                  dataValueField: "id",
                  placeholder: "Ãƒâ€“rn: Lisans",
                  filter: "contains",
                  suggest: true,
                  highlightFirst: true,
                  valuePrimitive: true,
                  allowCustom: true,
                  dataSource: subeEvrakTurleri
                });
              }
            });
        }

        function initSubeEvrakForm() {
          if (typeof $.fn.kendoDatePicker !== "undefined") {
            if (!$("#sube-evrak-bitistarih").data("kendoDatePicker")) {
              $("#sube-evrak-bitistarih").kendoDatePicker({
                format: "dd.MM.yyyy"
              });
            }
          }
          if (typeof $.fn.kendoNumericTextBox !== "undefined") {
            if (!$("#sube-evrak-uyari").data("kendoNumericTextBox")) {
              $("#sube-evrak-uyari").kendoNumericTextBox({
                format: "n0",
                decimals: 0,
                min: 1,
                value: 7
              });
            }
          }
          if (typeof $.fn.kendoTextBox !== "undefined") {
            if (!$("#sube-evrak-aciklama").data("kendoTextBox")) {
              $("#sube-evrak-aciklama").kendoTextBox();
            }
          }
          if (typeof $.fn.kendoUpload !== "undefined") {
            if (!$("#sube-evrak-upload").data("kendoUpload")) {
              $("#sube-evrak-upload").kendoUpload({
              async: {
                autoUpload: false
              },
              multiple: false,
              validation: {
                allowedExtensions: [".pdf", ".png", ".jpg", ".jpeg"],
                maxFileSize: 15 * 1024 * 1024
              },
              localization: {
                select: "Dosya SeÃƒÂ§",
                uploadSelectedFiles: "Kaydet",
                cancel: "Ã„Â°ptal",
                headerStatusUploading: "YÃƒÂ¼kleniyor...",
                headerStatusUploaded: "YÃƒÂ¼klendi",
                dropFilesHere: "DosyayÃ„Â± buraya bÃ„Â±rak"
              }
              });
            }
          }
        }

        function wireSubeEvrakUploadButton(attempt) {
          attempt = attempt || 0;
          var upload = $("#sube-evrak-upload").data("kendoUpload");
          if (!upload || !upload.wrapper) {
            if (attempt < 6) {
              setTimeout(function() { wireSubeEvrakUploadButton(attempt + 1); }, 150);
            }
            return;
          }
          if (typeof upload.enable === "function") {
            upload.enable(true);
          }
          var $wrapper = $(upload.wrapper);
          var $button = $wrapper.find(".k-upload-button").first();
          var $fileInput = $wrapper.find("input[type='file']").first();

          if (!$button.length || !$fileInput.length) {
            if (attempt < 6) {
              setTimeout(function() { wireSubeEvrakUploadButton(attempt + 1); }, 150);
            }
            return;
          }

          $fileInput.prop("disabled", false).css({
            position: "absolute",
            opacity: 0,
            top: 0,
            left: 0,
            width: "100%",
            height: "100%",
            cursor: "pointer",
            display: "block",
            zIndex: 3,
            pointerEvents: "auto"
          });
          $button.css({ position: "relative", overflow: "hidden" });

          $wrapper.off("click.subeUploadProxy").on("click.subeUploadProxy", ".k-upload-button", function(e) {
            if ($(e.target).is("input[type='file']")) {
              return;
            }
            e.preventDefault();
            e.stopPropagation();
            var input = $wrapper.find("input[type='file']").first();
            if (input.length) {
              input[0].click();
            }
          });
        }

        function resetSubeEvrakForm() {
          var dd = $("#sube-evrak-turu").data("kendoComboBox");
          if (dd) { dd.value(""); }
          var dp = $("#sube-evrak-bitistarih").data("kendoDatePicker");
          if (dp) { dp.value(null); }
          var nt = $("#sube-evrak-uyari").data("kendoNumericTextBox");
          if (nt) { nt.value(7); }
          $("#sube-evrak-aciklama").val("");
          var upload = $("#sube-evrak-upload").data("kendoUpload");
          if (upload) { upload.clearAllFiles(); }
        }

        function ensureSubeEvrakGrid() {
          if (typeof kendo === "undefined" || typeof $.fn.kendoGrid === "undefined") {
            return;
          }
          if ($("#sube-evrak-grid").data("kendoGrid")) {
            return;
          }
          $("#sube-evrak-grid").kendoGrid({
            dataSource: {
              data: [],
              schema: {
                model: {
                  fields: {
                    id: { type: "number" },
                    evrak_turu: { type: "string" },
                    bitis_tarihi: { type: "date" },
                    uyari_gunu: { type: "number" },
                    kalan_gun: { type: "number" },
                    dosya_url: { type: "string" },
                    dosya_adi: { type: "string" },
                    aciklama: { type: "string" },
                    durum: { type: "string" }
                  }
                }
              }
            },
            height: 360,
            sortable: true,
            filterable: false,
            pageable: false,
            columns: [
              { field: "evrak_turu", title: "Evrak TÃƒÂ¼rÃƒÂ¼", width: 170 },
              { field: "bitis_tarihi", title: "BitiÃ…Å¸ Tarihi", width: 130, format: "{0:dd.MM.yyyy}" },
              { field: "kalan_gun", title: "Kalan GÃƒÂ¼n", width: 100 },
              { field: "uyari_gunu", title: "UyarÃ„Â± (gÃƒÂ¼n)", width: 100 },
              { field: "aciklama", title: "AÃƒÂ§Ã„Â±klama", width: 220 },
              { field: "dosya_adi", title: "Dosya", width: 200 },
              { field: "durum", title: "Durum", width: 130, template: "# if (kalan_gun < 0) { # <span class='k-badge k-badge-md k-badge-solid k-badge-error'>SÃƒÂ¼resi geÃƒÂ§ti</span> # } else if (kalan_gun <= (uyari_gunu || 0)) { # <span class='k-badge k-badge-md k-badge-solid k-badge-warning'>YaklaÃ…Å¸Ã„Â±yor</span> # } else { # <span class='k-badge k-badge-md k-badge-solid k-badge-success'>Normal</span> # } #" },
              { title: "Ãƒâ€“nizle", width: 90, template: "<button class='k-button k-button-sm k-rounded-md k-button-solid k-button-solid-base sube-evrak-onizle' data-id='#: id #' data-url='#: dosya_url #'>AÃƒÂ§</button>" }
            ]
          });
        }

        window.refreshSubeEvrakGrid = function() {
          ensureSubeEvrakGrid();
          if (!window.selectedFirma || !window.selectedFirma.id) {
            var gridEmpty = $("#sube-evrak-grid").data("kendoGrid");
            if (gridEmpty) {
              gridEmpty.dataSource.data([]);
            }
            return;
          }
          fetch("/api/firma-evraklari/" + window.selectedFirma.id + "/")
            .then(function(response) { return response.json(); })
            .then(function(data) {
              var grid = $("#sube-evrak-grid").data("kendoGrid");
              if (!grid) { return; }
              var today = new Date();
              today.setHours(0, 0, 0, 0);
              var warnCount = 0;
              var normalized = (data || []).map(function(item) {
                if (item.bitis_tarihi) {
                  var bitisDate = new Date(item.bitis_tarihi);
                  bitisDate.setHours(0, 0, 0, 0);
                  item.bitis_tarihi = bitisDate;
                  var diffMs = bitisDate.getTime() - today.getTime();
                  var diffDays = Math.ceil(diffMs / (1000 * 60 * 60 * 24));
                  item.kalan_gun = diffDays;
                  if (diffDays < 0) {
                    item.durum = "SÃƒÂ¼resi geÃƒÂ§ti";
                  } else if (diffDays <= (item.uyari_gunu || 0)) {
                    item.durum = "YaklaÃ…Å¸Ã„Â±yor";
                    warnCount += 1;
                  } else {
                    item.durum = "Normal";
                  }
                } else {
                  item.kalan_gun = "";
                  item.durum = "";
                }
                return item;
              });
              grid.dataSource.data(normalized);
              if (warnCount > 0) {
                var message = warnCount + " evrakÃ„Â±n bitiÃ…Å¸i yaklaÃ…Å¸Ã„Â±yor.";
                if (typeof showWarning === "function") {
                  showWarning(message);
                } else {
                  alert(message);
                }
              }
            });
        };

        function normalizeSubeEvrakUrl(url) {
          if (!url) {
            return "";
          }
          if (url.indexOf("http://") === 0 || url.indexOf("https://") === 0) {
            return url;
          }
          if (url.indexOf("//") === 0) {
            return window.location.protocol + url;
          }
          if (url.charAt(0) !== "/") {
            return window.location.origin + "/" + url;
          }
          return window.location.origin + url;
        }

        $(document).on("click", ".sube-evrak-onizle", function() {
          var evrakId = $(this).data("id");
          var url = $(this).data("url");
          var resolvedUrl = evrakId ? (window.location.origin + "/api/firma-evrak-onizle/" + evrakId + "/") : normalizeSubeEvrakUrl(url);
          if (!resolvedUrl) {
            return;
          }
          ensureSubeEvrakWindows();
          var content = '<div style="height:100%;display:flex;flex-direction:column;gap:8px;">' +
            '<div style="text-align:right;">' +
            '<a class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base" href="' + resolvedUrl + '" target="_blank" rel="noopener">Yeni sekmede aÃƒÂ§</a>' +
            '</div>' +
            '<iframe src="' + resolvedUrl + '" style="flex:1;width:100%;border:none;"></iframe>' +
            '</div>';
          $("#sube-evrak-onizleme-icerik").html(content);
          if (subeEvrakOnizlemeWindow) {
            subeEvrakOnizlemeWindow.center().open();
          }
        });

        $("#sube-evrak-kapat").on("click", function() {
          if (subeEvrakWindow) {
            subeEvrakWindow.close();
          }
        });

        $("#sube-karti-evrak-ekle-btn").on("click", function() {
          if (!window.selectedFirma || !window.selectedFirma.id) {
            if (typeof showWarning === "function") {
              showWarning("Ãƒâ€“nce listeden firma seÃƒÂ§.");
            } else {
              alert("Ãƒâ€“nce listeden firma seÃƒÂ§.");
            }
            return;
          }
          ensureSubeEvrakWindows();
          initSubeEvrakForm();
          loadSubeEvrakTurleri().then(function() {
            resetSubeEvrakForm();
            if (subeEvrakWindow) {
              subeEvrakWindow.center().open();
            }
            setTimeout(wireSubeEvrakUploadButton, 100);
          });
        });

        function submitSubeEvrakUpload() {
          if (!window.selectedFirma || !window.selectedFirma.id) {
            return;
          }
          var dd = $("#sube-evrak-turu").data("kendoComboBox");
          var turValue = dd ? dd.value() : "";
          var turText = dd ? dd.text() : "";
          var dp = $("#sube-evrak-bitistarih").data("kendoDatePicker");
          var bitisTarihi = dp && dp.value() ? kendo.toString(dp.value(), "yyyy-MM-dd") : "";
          var nt = $("#sube-evrak-uyari").data("kendoNumericTextBox");
          var uyariGunu = nt ? nt.value() : 7;
          var aciklama = ($("#sube-evrak-aciklama").val() || "").trim();
          var upload = $("#sube-evrak-upload").data("kendoUpload");
          var files = upload ? upload.getFiles() : [];

          if (!turValue && !turText) {
            if (typeof showWarning === "function") {
              showWarning("Evrak tÃƒÂ¼rÃƒÂ¼ seÃƒÂ§.");
            } else {
              alert("Evrak tÃƒÂ¼rÃƒÂ¼ seÃƒÂ§.");
            }
            return;
          }
          if (!files || files.length === 0) {
            if (typeof showWarning === "function") {
              showWarning("Dosya seÃƒÂ§.");
            } else {
              alert("Dosya seÃƒÂ§.");
            }
            return;
          }

          function uploadEvrak(turIdFinal) {
            var formData = new FormData();
            formData.append("evrak_turu_id", turIdFinal);
            formData.append("bitis_tarihi", bitisTarihi);
            formData.append("uyari_gunu", uyariGunu);
            formData.append("aciklama", aciklama);
            formData.append("dosya", files[0].rawFile);

            return fetch("/api/firma-evraklari/" + window.selectedFirma.id + "/", {
              method: "POST",
              body: formData
            })
              .then(function(response) {
                return response.json().then(function(data) {
                  return { ok: response.ok, data: data };
                });
              })
              .then(function(result) {
                if (!result.ok) {
                  throw new Error(result.data && result.data.error ? result.data.error : "YÃƒÂ¼kleme hatasÃ„Â±");
                }
                if (typeof showSuccess === "function") {
                  showSuccess("Evrak yÃƒÂ¼klendi.");
                }
                if (subeEvrakWindow) {
                  subeEvrakWindow.close();
                }
                window.refreshSubeEvrakGrid();
              });
          }

          var isNumericId = turValue && String(parseInt(turValue, 10)) === String(turValue);
          if (isNumericId) {
            uploadEvrak(turValue).catch(function(error) {
              if (typeof showError === "function") {
                showError(error.message || "YÃƒÂ¼kleme hatasÃ„Â±");
              } else {
                alert(error.message || "YÃƒÂ¼kleme hatasÃ„Â±");
              }
            });
            return;
          }

          var newTypeName = (turText || turValue || "").trim();
          fetch("/api/evrak-turleri/", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ ad: newTypeName })
          })
            .then(function(response) {
              return response.json().then(function(data) {
                return { ok: response.ok, data: data };
              });
            })
            .then(function(result) {
              if (!result.ok) {
                throw new Error(result.data && result.data.error ? result.data.error : "Evrak tÃƒÂ¼rÃƒÂ¼ kaydedilemedi");
              }
              if (dd) {
                dd.value(result.data.id);
              }
              return uploadEvrak(result.data.id);
            })
            .catch(function(error) {
              if (typeof showError === "function") {
                showError(error.message || "YÃƒÂ¼kleme hatasÃ„Â±");
              } else {
                alert(error.message || "YÃƒÂ¼kleme hatasÃ„Â±");
              }
            });
        }

        $("#sube-evrak-upload").on("click", ".k-upload-selected", function(e) {
          e.preventDefault();
          submitSubeEvrakUpload();
        });

        $("#sube-evrak-kaydet").on("click", function(e) {
          e.preventDefault();
          submitSubeEvrakUpload();
        });
        $("#firma-karti-yeni").on("click", function() {
          $("#firma-karti-adi-input").val("");
          $("#firma-karti-vergi-dairesi").val("");
          $("#firma-karti-tur-input").val("");
          $("#firma-karti-kod-input").val("");
          $("#firma-karti-vergi-no").val("");
          $("#firma-karti-mersis-no").val("");
          $("#firma-karti-telefon").val("");
          $("#firma-karti-eposta").val("");
        });

        $("#firma-karti-kaydet").on("click", function() {
          var firmaAdi = normalizeTitleTr($("#firma-karti-adi-input").val());
          var tur = normalizeTitleTr($("#firma-karti-tur-input").val());
          var kod = normalizeSpace($("#firma-karti-kod-input").val());
          var vergiDairesi = normalizeTitleTr($("#firma-karti-vergi-dairesi").val());
          var vergiNo = normalizeSpace($("#firma-karti-vergi-no").val());
          var mersisNo = normalizeSpace($("#firma-karti-mersis-no").val());
          var telefon = normalizeSpace($("#firma-karti-telefon").val());
          var eposta = normalizeSpace($("#firma-karti-eposta").val());
          var mahalle = normalizeTitleTr($("#firma-karti-mahalle").val());
          var caddeSokak = normalizeTitleTr($("#firma-karti-cadde-sokak").val());
          var no = normalizeSpace($("#firma-karti-no").val());
          var binaBlok = normalizeSpace($("#firma-karti-bina-blok").val());
          var kat = normalizeSpace($("#firma-karti-kat").val());
          var daire = normalizeSpace($("#firma-karti-daire").val());
          var ilce = normalizeTitleTr($("#firma-karti-ilce").val());
          var il = normalizeTitleTr($("#firma-karti-il").val());
          var postaKodu = normalizeSpace($("#firma-karti-posta-kodu").val());
          var konumLat = normalizeSpace($("#firma-karti-konum-lat").val());
          var konumLng = normalizeSpace($("#firma-karti-konum-lng").val());
          var konumLink = normalizeSpace($("#firma-karti-konum-link").val());
          $("#firma-karti-adi-input").val(firmaAdi);
          $("#firma-karti-tur-input").val(tur);
          $("#firma-karti-kod-input").val(kod);
          $("#firma-karti-vergi-dairesi").val(vergiDairesi);
          $("#firma-karti-vergi-no").val(vergiNo);
          $("#firma-karti-mersis-no").val(mersisNo);
          $("#firma-karti-telefon").val(telefon);
          $("#firma-karti-eposta").val(eposta);
          $("#firma-karti-mahalle").val(mahalle);
          $("#firma-karti-cadde-sokak").val(caddeSokak);
          $("#firma-karti-no").val(no);
          $("#firma-karti-bina-blok").val(binaBlok);
          $("#firma-karti-kat").val(kat);
          $("#firma-karti-daire").val(daire);
          $("#firma-karti-ilce").val(ilce);
          $("#firma-karti-il").val(il);
          $("#firma-karti-posta-kodu").val(postaKodu);
          $("#firma-karti-konum-lat").val(konumLat);
          $("#firma-karti-konum-lng").val(konumLng);
          $("#firma-karti-konum-link").val(konumLink);
          if (!firmaAdi) {
            if (typeof showWarning === "function") {
              showWarning("Firma adÄ± boÅŸ olamaz.");
            } else {
              alert("Firma adÄ± boÅŸ olamaz.");
            }
            return;
          }

          var isEdit = window.selectedFirma && window.selectedFirma.id;
          var requestUrl = "/api/firmalar/";
          var requestMethod = "POST";
          if (isEdit) {
            requestUrl = "/api/firmalar/" + window.selectedFirma.id + "/";
            requestMethod = "PUT";
          }
          var payload = {
            ad: firmaAdi,
            tur: tur,
            kod: kod,
            vergi_no: vergiNo,
            vergi_dairesi: vergiDairesi,
            mersis_no: mersisNo,
            telefon: telefon,
            eposta: eposta,
            mahalle: mahalle,
            cadde_sokak: caddeSokak,
            no: no,
            bina_blok: binaBlok,
            kat: kat,
            daire: daire,
            ilce: ilce,
            il: il,
            posta_kodu: postaKodu,
            konum_lat: konumLat,
            konum_lng: konumLng,
            konum_link: konumLink
          };
          if (isEdit && window.selectedFirma && window.selectedFirma.id) {
            payload.id = window.selectedFirma.id;
          }
          fetch(requestUrl, {
            method: requestMethod,
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
          })
            .then(function(response) {
              return response.json().then(function(data) {
                return { ok: response.ok, data: data };
              });
            })
            .then(function(result) {
              if (!result.ok) {
                throw new Error(result.data && result.data.error ? result.data.error : "KayÄ±t hatasÄ±");
              }
              var updatedItem = {
                id: result.data && result.data.id ? result.data.id : (isEdit ? window.selectedFirma.id : null),
                ad: firmaAdi,
                tur: tur,
                kod: kod,
                vergi_no: vergiNo,
                vergi_dairesi: vergiDairesi,
                mersis_no: mersisNo,
                telefon: telefon,
                eposta: eposta,
                mahalle: mahalle,
                cadde_sokak: caddeSokak,
                no: no,
                bina_blok: binaBlok,
                kat: kat,
                daire: daire,
                ilce: ilce,
                il: il,
                posta_kodu: postaKodu,
                konum_lat: konumLat,
                konum_lng: konumLng,
                konum_link: konumLink,
                aktif: true
              };
              if (typeof showSuccess === "function") {
                showSuccess(isEdit ? "Firma gÃ¼ncellendi." : "Firma kaydedildi.");
              }
              if (window.initFirmaTanimlariGrid) {
                setTimeout(function() { window.initFirmaTanimlariGrid(true); }, 0);
              }
              var grid = $("#firma-tanimlari-grid").data("kendoGrid");
              if (grid) {
                if (updatedItem.id && typeof grid.dataSource.get === "function") {
                  var existingItem = grid.dataSource.get(updatedItem.id);
                  if (existingItem) {
                    for (var key in updatedItem) {
                      if (Object.prototype.hasOwnProperty.call(updatedItem, key)) {
                        existingItem.set(key, updatedItem[key]);
                      }
                    }
                  } else {
                    grid.dataSource.add(updatedItem);
                  }
                } else {
                  grid.dataSource.add(updatedItem);
                }
                grid.dataSource.read();
                grid.refresh();
              }
              if (firmaTanimKartiWindow) {
                firmaTanimKartiWindow.close();
              }
              if (isEdit) {
                window.selectedFirma = null;
              }
            })
            .catch(function(error) {
              if (typeof showError === "function") {
                showError(error.message || "KayÄ±t hatasÄ±");
              } else {
                alert(error.message || "KayÄ±t hatasÄ±");
              }
            });
        });

        $("#firma-karti-cikis").on("click", function() {
          if (firmaTanimKartiWindow) {
            firmaTanimKartiWindow.close();
          }
        });
      }

      // COMBOBOX LÃ„Â°STE VERÃ„Â°LERÃ„Â° (Kredi KartÃ„Â± ve Banka sayfalarÃ„Â± iÃƒÂ§in)
      var bankaListesi = [
        "Ziraat BankasÃ„Â±",
        "Ã„Â°Ã…Å¸ BankasÃ„Â±",
        "Garanti BBVA",
        "Akbank",
        "YapÃ„Â± Kredi",
        "Halkbank",
        "VakÃ„Â±fbank",
        "QNB Finansbank",
        "Denizbank",
        "TEB"
      ];
      
      var paraBirimiListesi = ["TL", "USD", "EUR", "GBP"];
      
      var hesapTuruListesi = ["Vadeli", "Vadesiz", "Tasarruf", "Cari"];
      
      var subeListesi = ["YAÃ„ÂCILAR", "TEPEKUM", "NAMDAR", "Ã…ÂEKER", "AKOVA", "KOOP.", "NAZÃ„Â°LLÃ„Â°"];
      
      // KREDÃ„Â° KARTI GRID
      setTimeout(function() {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoGrid !== 'undefined') {
          var emptyRows = [];
          for (var i = 0; i < 20; i++) {
            emptyRows.push({
              son_odeme: null,
              kalan_gun: null,
              tutar: "",
              banka: "",
              kime_ait: "",
              kart_numarasi: "",
              son_kullanim_tarihi: "",
              cv: "",
              iban: "",
              sifre: "",
              sutun1: "",
              sutun2: "",
              sutun3: ""
            });
          }
          
          var containerWidth = $("#kredi-karti-grid").parent().width() || $(window).width();
          var gridWidth = Math.min(containerWidth, 1920);
          
          $("#kredi-karti-grid").kendoGrid({
            dataSource: {
              data: emptyRows,
              schema: {
                model: {
                  fields: {
                    son_odeme: { type: "date" },
                    kalan_gun: { type: "number" },
                    tutar: { type: "string" },
                    banka: { type: "string" },
                    kime_ait: { type: "string" },
                    kart_numarasi: { type: "string" },
                    son_kullanim_tarihi: { type: "string" },
                    cv: { type: "string" },
                    iban: { type: "string" },
                    sifre: { type: "string" },
                    sutun1: { type: "string" },
                    sutun2: { type: "string" },
                    sutun3: { type: "string" }
                  }
                }
              }
            },
            width: gridWidth,
            height: "100%",
            scrollable: false,
            sortable: true,
            filterable: {
              messages: {
                info: "GÃƒÂ¶sterilecek veriyi seÃƒÂ§in:",
                filter: "Filtrele",
                clear: "Temizle",
                isTrue: "Evet",
                isFalse: "HayÃ„Â±r",
                and: "Ve",
                or: "Veya",
                selectValue: "- SeÃƒÂ§ -"
              },
              operators: {
                string: {
                  contains: "Ã„Â°ÃƒÂ§erir",
                  doesnotcontain: "Ã„Â°ÃƒÂ§ermez",
                  startswith: "Ã„Â°le baÃ…Å¸lar",
                  endswith: "Ã„Â°le biter",
                  eq: "EÃ…Å¸ittir",
                  neq: "EÃ…Å¸it deÃ„Å¸ildir",
                  isempty: "BoÃ…Å¸",
                  isnotempty: "BoÃ…Å¸ deÃ„Å¸il",
                  isnull: "Null",
                  isnotnull: "Null deÃ„Å¸il"
                },
                number: {
                  eq: "EÃ…Å¸ittir",
                  neq: "EÃ…Å¸it deÃ„Å¸ildir",
                  gte: "BÃƒÂ¼yÃƒÂ¼k veya eÃ…Å¸it",
                  gt: "BÃƒÂ¼yÃƒÂ¼ktÃƒÂ¼r",
                  lte: "KÃƒÂ¼ÃƒÂ§ÃƒÂ¼k veya eÃ…Å¸it",
                  lt: "KÃƒÂ¼ÃƒÂ§ÃƒÂ¼ktÃƒÂ¼r",
                  isnull: "Null",
                  isnotnull: "Null deÃ„Å¸il"
                },
                date: {
                  eq: "EÃ…Å¸ittir",
                  neq: "EÃ…Å¸it deÃ„Å¸ildir",
                  gte: "BÃƒÂ¼yÃƒÂ¼k veya eÃ…Å¸it",
                  gt: "BÃƒÂ¼yÃƒÂ¼ktÃƒÂ¼r",
                  lte: "KÃƒÂ¼ÃƒÂ§ÃƒÂ¼k veya eÃ…Å¸it",
                  lt: "KÃƒÂ¼ÃƒÂ§ÃƒÂ¼ktÃƒÂ¼r",
                  isnull: "Null",
                  isnotnull: "Null deÃ„Å¸il"
                }
              }
            },
            resizable: false,
            pageable: false,
            editable: {
              mode: "incell",
              update: true
            },
            columns: [
              { 
                field: "son_odeme", 
                title: "SON Ãƒâ€“DEME", 
                width: 125, 
                format: "{0:dd.MM.yyyy}",
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoDatePicker({
                      culture: "tr-TR",
                      format: "dd.MM.yyyy",
                      value: options.model[options.field] || null
                    });
                }
              },
              { field: "kalan_gun", title: "KALAN GÃƒÅ“N", width: 95, attributes: { class: "center-cell", style: "text-align: center;" } },
              { 
                field: "tutar", 
                title: "TUTAR", 
                width: 115, 
                attributes: { class: "number-cell", style: "text-align: right;" },
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoNumericTextBox({
                      format: "n2",
                      decimals: 2,
                      culture: "tr-TR",
                      value: options.model[options.field] || 0,
                      min: 0
                    });
                }
              },
              { 
                field: "banka", 
                title: "BANKA", 
                width: 135,
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoComboBox({
                      dataSource: bankaListesi,
                      filter: "contains",
                      placeholder: "Banka seÃƒÂ§in...",
                      suggest: true,
                      value: options.model[options.field] || ""
                    });
                }
              },
              { field: "kime_ait", title: "KÃ„Â°ME AÃ„Â°T", width: 115 },
              { field: "kart_numarasi", title: "KART NUMARASI", width: 175 },
              { field: "son_kullanim_tarihi", title: "SON KULLANMA TARÃ„Â°HÃ„Â°", width: 135 },
              { field: "cv", title: "CV", width: 65, attributes: { class: "center-cell", style: "text-align: center;" } },
              { field: "iban", title: "Ã„Â°BAN", width: 195 },
              { field: "sifre", title: "Ã…ÂÃ„Â°FRE", width: 75, attributes: { class: "center-cell", style: "text-align: center;" } },
              { field: "sutun1", title: "SÃƒÂ¼tun1", width: 115 },
              { field: "sutun2", title: "SÃƒÂ¼tun2", width: 145 },
              { field: "sutun3", title: "SÃƒÂ¼tun3", width: 115 }
            ]
          });
        }
      }, 200);
      
      // BANKA GRID
      setTimeout(function() {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoGrid !== 'undefined') {
          var emptyRows = [];
          for (var i = 0; i < 20; i++) {
            emptyRows.push({
              banka_adi: "",
              hesap_numarasi: "",
              iban: "",
              bakiye: "",
              para_birimi: "",
              hesap_turu: "",
              sube: "",
              acilis_tarihi: null,
              durum: "",
              sutun1: "",
              sutun2: "",
              sutun3: ""
            });
          }
          
          var containerWidth = $("#banka-grid").parent().width() || $(window).width();
          var gridWidth = Math.min(containerWidth, 1920);
          
          $("#banka-grid").kendoGrid({
            dataSource: {
              data: emptyRows,
              schema: {
                model: {
                  fields: {
                    banka_adi: { type: "string" },
                    hesap_numarasi: { type: "string" },
                    iban: { type: "string" },
                    bakiye: { type: "string" },
                    para_birimi: { type: "string" },
                    hesap_turu: { type: "string" },
                    sube: { type: "string" },
                    acilis_tarihi: { type: "date" },
                    durum: { type: "string" },
                    sutun1: { type: "string" },
                    sutun2: { type: "string" },
                    sutun3: { type: "string" }
                  }
                }
              }
            },
            width: gridWidth,
            height: "100%",
            scrollable: false,
            sortable: true,
            filterable: true,
            resizable: false,
            pageable: false,
            editable: {
              mode: "incell",
              update: true
            },
            columns: [
              { 
                field: "banka_adi", 
                title: "BANKA ADI", 
                width: 150,
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoComboBox({
                      dataSource: bankaListesi,
                      filter: "contains",
                      placeholder: "Banka seÃƒÂ§in...",
                      suggest: true,
                      value: options.model[options.field] || ""
                    });
                }
              },
              { field: "hesap_numarasi", title: "HESAP NUMARASI", width: 150 },
              { field: "iban", title: "Ã„Â°BAN", width: 250 },
              { 
                field: "bakiye", 
                title: "BAKÃ„Â°YE", 
                width: 130, 
                attributes: { class: "number-cell", style: "text-align: right;" },
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoNumericTextBox({
                      format: "n2",
                      decimals: 2,
                      culture: "tr-TR",
                      value: options.model[options.field] || 0,
                      min: 0
                    });
                }
              },
              { 
                field: "para_birimi", 
                title: "PARA BÃ„Â°RÃ„Â°MÃ„Â°", 
                width: 110, 
                attributes: { class: "center-cell", style: "text-align: center;" },
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoComboBox({
                      dataSource: paraBirimiListesi,
                      filter: "contains",
                      placeholder: "Para birimi seÃƒÂ§in...",
                      suggest: true,
                      value: options.model[options.field] || ""
                    });
                }
              },
              { 
                field: "hesap_turu", 
                title: "HESAP TÃƒÅ“RÃƒÅ“", 
                width: 120,
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoComboBox({
                      dataSource: hesapTuruListesi,
                      filter: "contains",
                      placeholder: "Hesap tÃƒÂ¼rÃƒÂ¼ seÃƒÂ§in...",
                      suggest: true,
                      value: options.model[options.field] || ""
                    });
                }
              },
              { 
                field: "sube", 
                title: "ÅUBE", 
                width: 120,
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoComboBox({
                      dataSource: subeListesi,
                      filter: "contains",
                      placeholder: "Ã…Âube seÃƒÂ§in...",
                      suggest: true,
                      value: options.model[options.field] || ""
                    });
                }
              },
              { 
                field: "acilis_tarihi", 
                title: "AÃƒâ€¡ILIÃ…Â TARÃ„Â°HÃ„Â°", 
                width: 130, 
                format: "{0:dd.MM.yyyy}",
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoDatePicker({
                      culture: "tr-TR",
                      format: "dd.MM.yyyy",
                      value: options.model[options.field] || null
                    });
                }
              },
              { field: "durum", title: "DURUM", width: 100, attributes: { class: "center-cell", style: "text-align: center;" } },
              { field: "sutun1", title: "SÃƒÂ¼tun1", width: 140 },
              { field: "sutun2", title: "SÃƒÂ¼tun2", width: 140 },
              { field: "sutun3", title: "SÃƒÂ¼tun3", width: 140 }
            ]
          });
        }
      }, 200);
      
      // CARÃ„Â° KART GRID
      setTimeout(function() {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoGrid !== 'undefined') {
          var emptyRows = [];
          for (var i = 0; i < 20; i++) {
            emptyRows.push({
              kod: "",
              ad: "",
              soyad: "",
              unvan: "",
              ilgili: "",
              tel: "",
              cep: "",
              mail: "",
              fisbak: "",
              carbak: "",
              grp1: ""
            });
          }
          
          var containerWidth = $("#cari-kart-grid").parent().width() || $(window).width();
          var gridWidth = Math.min(containerWidth, 1920);
          
          $("#cari-kart-grid").kendoGrid({
            dataSource: {
              data: emptyRows,
              schema: {
                model: {
                  fields: {
                    kod: { type: "string" },
                    ad: { type: "string" },
                    soyad: { type: "string" },
                    unvan: { type: "string" },
                    ilgili: { type: "string" },
                    tel: { type: "string" },
                    cep: { type: "string" },
                    mail: { type: "string" },
                    fisbak: { type: "number" },
                    carbak: { type: "number" },
                    grp1: { type: "string" }
                  }
                }
              }
            },
            width: gridWidth,
            height: "100%",
            scrollable: false,
            sortable: true,
            filterable: true,
            resizable: false,
            pageable: false,
            editable: {
              mode: "incell",
              update: true
            },
            columns: [
              { field: "kod", title: "KOD", width: 120 },
              { field: "ad", title: "AD", width: 160 },
              { field: "soyad", title: "SOYAD", width: 160 },
              { field: "unvan", title: "ÃƒÅ“NVAN", width: 220 },
              { field: "ilgili", title: "Ã„Â°LGÃ„Â°LÃ„Â°", width: 160 },
              { field: "tel", title: "TEL", width: 140 },
              { field: "cep", title: "CEP", width: 140 },
              { field: "mail", title: "MAIL", width: 200 },
              {
                field: "fisbak",
                title: "FÃ„Â°Ã…Â BAKÃ„Â°YE",
                width: 130,
                attributes: { class: "number-cell", style: "text-align: right;" },
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoNumericTextBox({
                      format: "n2",
                      decimals: 2,
                      culture: "tr-TR",
                      value: options.model[options.field] || 0,
                      min: 0
                    });
                }
              },
              {
                field: "carbak",
                title: "CARÃ„Â° BAKÃ„Â°YE",
                width: 130,
                attributes: { class: "number-cell", style: "text-align: right;" },
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoNumericTextBox({
                      format: "n2",
                      decimals: 2,
                      culture: "tr-TR",
                      value: options.model[options.field] || 0,
                      min: 0
                    });
                }
              },
              { field: "grp1", title: "GRUP", width: 90 }
            ]
          });
        }
      }, 200);
      
      // FÄ°RMA TANIMLARI GRID
      window.selectedFirma = null;
      window.selectedSube = null;

      function initSubeKartiGrid() {
        if (typeof kendo === 'undefined' || typeof $.fn.kendoGrid === 'undefined') {
          return;
        }
        if ($("#sube-karti-grid").data("kendoGrid")) {
          return;
        }
        var containerWidth = $("#sube-karti-grid").parent().width() || $(window).width();
        var gridWidth = Math.min(containerWidth, 1200);

        $("#sube-karti-grid").kendoGrid({
          dataSource: {
            data: []
          },
          width: gridWidth,
          height: 350,
          scrollable: false,
          sortable: false,
          pageable: false,
          columns: [
            { field: "ad", title: "FÄ°RMA ADI", width: 320 },
            { field: "sube", title: "ÅUBESÄ°", width: 220 }
          ]
        });
      }

      window.updateSubeKartiView = function() {
        initSubeKartiGrid();
        var grid = $("#sube-karti-grid").data("kendoGrid");
        if (!grid) {
          return;
        }
        var data = [];
        if (window.selectedFirma) {
          data.push({
            ad: window.selectedFirma.ad || "",
            sube: window.selectedFirma.sube || ""
          });
        }
        grid.dataSource.data(data);
        if (typeof window.refreshSubeEvrakGrid === "function") {
          window.refreshSubeEvrakGrid();
        }
      };

      window.initSubeTanimlariGrid = function(forceRebuild) {
        if (typeof kendo === 'undefined' || typeof $.fn.kendoGrid === 'undefined') {
          setTimeout(function() { window.initSubeTanimlariGrid(forceRebuild); }, 200);
          return;
        }
        if (!$("#main-content-sube-tanimlari").is(":visible")) {
          setTimeout(function() { window.initSubeTanimlariGrid(forceRebuild); }, 200);
          return;
        }
        var existingGrid = $("#sube-tanimlari-grid").data("kendoGrid");
        if (existingGrid) {
          var gridContainer = $("#sube-tanimlari-grid");
          var needsRebuild = forceRebuild || gridContainer.width() === 0 || gridContainer.height() === 0;
          if (!needsRebuild) {
            existingGrid.refresh();
            existingGrid.resize();
            return;
          }
          existingGrid.destroy();
          gridContainer.empty();
        }
        var containerWidth = $("#sube-tanimlari-grid").parent().width();
        if (!containerWidth) {
          setTimeout(function() { window.initSubeTanimlariGrid(forceRebuild); }, 200);
          return;
        }
        var gridWidth = Math.min(containerWidth, 1920);

        $("#sube-tanimlari-grid").kendoGrid({
          dataSource: {
            transport: {
              read: {
                url: "/api/subeler/",
                dataType: "json",
                cache: false
              }
            },
            schema: {
              data: function(response) {
                return response && response.data ? response.data : response;
              },
              model: {
                id: "id",
                fields: {
                  id: { type: "number" },
                  sira_no: { type: "number" },
                  ana_firma_id: { type: "number" },
                  ana_firma_ad: { type: "string" },
                  sube_adi: { type: "string" },
                  istasyon_adi: { type: "string" },
                  vergi_dairesi: { type: "string" },
                  vergi_no: { type: "string" },
                  adres: { type: "string" },
                  telefon: { type: "string" },
                  eposta: { type: "string" },
                  yetkili_kisi: { type: "string" },
                  aktif: { type: "boolean" }
                }
              }
            },
            error: function(e) {
              var message = "Åube listesi alÄ±namadÄ±.";
              if (e && e.xhr && e.xhr.responseText) {
                message = e.xhr.responseText;
              } else if (e && e.errors) {
                message = JSON.stringify(e.errors);
              }
              if (typeof showError === "function") {
                showError(message);
              } else {
                alert(message);
              }
            }
          },
          width: gridWidth,
          height: 600,
          scrollable: { virtual: false },
          sortable: true,
          filterable: true,
          selectable: "row",
          dataBound: function() {
            var gridInstance = this;
            setTimeout(function() {
              if (!gridInstance || !gridInstance.wrapper) {
                return;
              }
              var content = gridInstance.wrapper.find(".k-grid-content")[0];
              var headerWrap = gridInstance.wrapper.find(".k-grid-header-wrap");
              if (content && headerWrap.length) {
                var pad = content.offsetWidth - content.clientWidth;
                if (pad < 0) {
                  pad = 0;
                }
                headerWrap.css("padding-right", pad + "px");
              }
              gridInstance.resize();
            }, 0);
          },
          columnMenu: {
            setColumnPosition: true,
            messages: {
              columns: "SÃ¼tun SeÃ§imi",
              filter: "Filtre",
              sortAscending: "Artan SÄ±rala",
              sortDescending: "Azalan SÄ±rala",
              settings: "Ayarlar",
              done: "Tamam",
              setColumnPosition: "SÃ¼tun Konumu",
              movePrev: "Ã–nceki",
              moveNext: "Sonraki",
              moveToStart: "BaÅŸa TaÅŸÄ±",
              moveToEnd: "Sona TaÅŸÄ±"
            }
          },
          resizable: {
            columns: true
          },
          columnResizeHandleWidth: 10,
          reorderable: {
            columns: true
          },
          change: function() {
            var dataItem = this.dataItem(this.select());
            if (dataItem) {
              window.selectedSube = {
                id: dataItem.id,
                ana_firma_id: dataItem.ana_firma_id,
                ana_firma_ad: dataItem.ana_firma_ad,
                sube_adi: dataItem.sube_adi,
                istasyon_adi: dataItem.istasyon_adi
              };
            }
          },
          columns: [
            { field: "sira_no", title: "SÄ±ra No", width: 90 },
            { field: "ana_firma_ad", title: "ANA FÄ°RMA", width: 200 },
            { field: "sube_adi", title: "ÅUBE ADI", width: 220 },
            { field: "istasyon_adi", title: "Ä°STASYON", width: 200 },
            { field: "vergi_dairesi", title: "VERGÄ° DAÄ°RESÄ°", width: 160 },
            { field: "vergi_no", title: "VERGÄ° NO", width: 140 },
            { field: "adres", title: "ADRES", width: 240 },
            { field: "telefon", title: "TELEFON", width: 140 },
            { field: "eposta", title: "E-POSTA", width: 180 },
            { field: "yetkili_kisi", title: "YETKÄ°LÄ° KÄ°ÅÄ°", width: 160 }
          ]
        });
      };

      window.initFirmaTanimlariGrid = function(forceRebuild) {
        if (typeof kendo === 'undefined' || typeof $.fn.kendoGrid === 'undefined') {
          setTimeout(function() { window.initFirmaTanimlariGrid(forceRebuild); }, 200);
          return;
        }
        if (!$("#main-content-firma-tanimlari").is(":visible")) {
          setTimeout(function() { window.initFirmaTanimlariGrid(forceRebuild); }, 200);
          return;
        }
        var existingGrid = $("#firma-tanimlari-grid").data("kendoGrid");
        if (existingGrid) {
          var gridContainer = $("#firma-tanimlari-grid");
          var needsRebuild = forceRebuild || gridContainer.width() === 0 || gridContainer.height() === 0;
          if (!needsRebuild) {
            existingGrid.dataSource.read();
            existingGrid.refresh();
            existingGrid.resize();
            return;
          }
          existingGrid.destroy();
          gridContainer.empty();
        }
        var containerWidth = $("#firma-tanimlari-grid").parent().width();
        if (!containerWidth) {
          setTimeout(function() { window.initFirmaTanimlariGrid(forceRebuild); }, 200);
          return;
        }
        var gridWidth = Math.min(containerWidth, 1920);
        
        var firmaTanimlariGridStorageKey = "firma_tanimlari_grid_columns_v1";
        function loadFirmaTanimlariHiddenColumns() {
          try {
            var raw = localStorage.getItem(firmaTanimlariGridStorageKey);
            var parsed = raw ? JSON.parse(raw) : null;
            return Array.isArray(parsed) ? parsed : [];
          } catch (error) {
            return [];
          }
        }
        function saveFirmaTanimlariHiddenColumns(grid) {
          if (!grid || !grid.columns) {
            return;
          }
          var hidden = [];
          grid.columns.forEach(function(col) {
            if (col && col.field && col.hidden) {
              hidden.push(col.field);
            }
          });
          localStorage.setItem(firmaTanimlariGridStorageKey, JSON.stringify(hidden));
        }
        var firmaHiddenColumns = loadFirmaTanimlariHiddenColumns();

        var firmaColumns = [
          { field: "sira_no", title: "SÄ±ra No", width: 90 },
          { field: "ad", title: "FÄ°RMA ADI", width: 220 },
          { field: "tur", title: "TÃœR", width: 140 },
          { field: "kod", title: "KOD", width: 120 },
          { field: "vergi_dairesi", title: "VERGÄ° DAÄ°RESÄ°", width: 160 },
          { field: "vergi_no", title: "VERGÄ° NO", width: 140 },
          { field: "mersis_no", title: "MERSÄ°S NO", width: 160 },
          { field: "adres", title: "ADRES", width: 240 },
          { field: "mahalle", title: "MAHALLE", width: 160 },
          { field: "cadde_sokak", title: "CADDE / SOKAK", width: 200 },
          { field: "no", title: "NO", width: 80 },
          { field: "bina_blok", title: "BÄ°NA / BLOK", width: 120 },
          { field: "kat", title: "KAT", width: 80 },
          { field: "daire", title: "DAÄ°RE", width: 80 },
          { field: "ilce", title: "Ä°LÃ‡E", width: 140 },
          { field: "il", title: "Ä°L", width: 120 },
          { field: "posta_kodu", title: "POSTA KODU", width: 120 },
          { field: "telefon", title: "TELEFON", width: 140 },
          { field: "eposta", title: "E-POSTA", width: 180 },
          { field: "yetkili_kisi", title: "YETKÄ°LÄ° KÄ°ÅÄ°", width: 160 },
          { field: "konum_lat", title: "KONUM ENLEM", width: 120 },
          { field: "konum_lng", title: "KONUM BOYLAM", width: 120 },
          { field: "konum_link", title: "KONUM LÄ°NK", width: 220 }
        ];

        if (firmaHiddenColumns.length > 0) {
          firmaColumns.forEach(function(col) {
            if (col.field && firmaHiddenColumns.indexOf(col.field) >= 0) {
              col.hidden = true;
            }
          });
        }

        function syncFirmaTanimlariLayout(gridInstance) {
          if (!gridInstance || !gridInstance.wrapper) {
            return;
          }
          var wrapper = gridInstance.wrapper;
          var contentTable = wrapper.find(".k-grid-content table");
          var headerTable = wrapper.find(".k-grid-header table");
          if (contentTable.length && headerTable.length) {
            contentTable.css({ width: "100%", minWidth: "100%" });
            headerTable.css({ width: "100%", minWidth: "100%" });
          }
          var headerWrap = wrapper.find(".k-grid-header");
          var contentWrap = wrapper.find(".k-grid-content");
          var gridTop = wrapper.offset() ? wrapper.offset().top : 0;
          var alan4 = $("#fixed-area-4-container");
          var alan4Height = alan4.length ? alan4.outerHeight() : 0;
          var viewportHeight = window.innerHeight || $(window).height();
          var targetHeight = Math.max(200, viewportHeight - alan4Height - gridTop);
          wrapper.css({ height: targetHeight + "px" });
          if (headerWrap.length && contentWrap.length) {
            var headerHeight = headerWrap.outerHeight() || 0;
            var contentHeight = Math.max(100, targetHeight - headerHeight);
            contentWrap.css({ height: contentHeight + "px" });
          }
          $("#firma-tanimlari-right-buttons").css({
            height: targetHeight + "px",
            minHeight: targetHeight + "px"
          });
        }

        $("#firma-tanimlari-grid").kendoGrid({
          dataSource: {
            transport: {
              read: {
                url: "/api/firmalar/",
                dataType: "json",
                cache: false
              }
            },
            schema: {
              data: function(response) {
                return response && response.data ? response.data : response;
              },
              model: {
                id: "id",
                fields: {
                  id: { type: "number" },
                  sira_no: { type: "number" },
                  ad: { type: "string" },
                  tur: { type: "string" },
                  kod: { type: "string" },
                  sube: { type: "string" },
                  vergi_no: { type: "string" },
                  vergi_dairesi: { type: "string" },
                  mersis_no: { type: "string" },
                  adres: { type: "string" },
                  mahalle: { type: "string" },
                  cadde_sokak: { type: "string" },
                  no: { type: "string" },
                  bina_blok: { type: "string" },
                  kat: { type: "string" },
                  daire: { type: "string" },
                  ilce: { type: "string" },
                  il: { type: "string" },
                  posta_kodu: { type: "string" },
                  telefon: { type: "string" },
                  eposta: { type: "string" },
                  yetkili_kisi: { type: "string" },
                  konum_lat: { type: "string" },
                  konum_lng: { type: "string" },
                  konum_link: { type: "string" },
                  aktif: { type: "boolean" }
                }
              }
            },
            requestEnd: function(e) {
              if (e && e.type === "read") {
                var response = e.response;
                var dataList = response && response.data ? response.data : response;
                var count = Array.isArray(dataList) ? dataList.length : 0;
                if (count === 0) {
                  console.log("Firma listesi boÅŸ gÃ¶rÃ¼nÃ¼yor.");
                }
              }
            },
            error: function(e) {
              var message = "Firma listesi alÄ±namadÄ±.";
              if (e && e.xhr && e.xhr.responseText) {
                message = e.xhr.responseText;
              } else if (e && e.errors) {
                message = JSON.stringify(e.errors);
              }
              if (typeof showError === "function") {
                showError(message);
              } else {
                alert(message);
              }
              showFirmaTanimlariNotice("error", "Firma listesi alÄ±namadÄ±.");
            }
          },
          width: gridWidth,
          height: 600,
          scrollable: { virtual: false },
          sortable: true,
          filterable: true,
          selectable: "row",
          change: function() {
            var dataItem = this.dataItem(this.select());
            if (dataItem) {
              window.selectedFirma = {
                id: dataItem.id,
                ad: dataItem.ad,
                sube: dataItem.sube
              };
            }
          },
          dataBound: function() {
            if (!window.__firmaDenemeEklendi) {
              var grid = this;
              var data = grid.dataSource.data() || [];
              var hasDeneme = false;
              for (var i = 0; i < data.length; i++) {
                var ad = (data[i].ad || "").toString().trim().toLowerCase();
                if (ad === "deneme") {
                  hasDeneme = true;
                  break;
                }
              }
              if (!hasDeneme) {
                grid.dataSource.add({
                  id: -1,
                  sira_no: 0,
                  ad: "Deneme",
                  sube: "",
                  vergi_dairesi: "",
                  vergi_no: "",
                  adres: "",
                  telefon: "",
                  eposta: "",
                  yetkili_kisi: "",
                  aktif: true
                });
              }
              window.__firmaDenemeEklendi = true;
            }

            var gridInstance = this;
            setTimeout(function() {
              if (!gridInstance || !gridInstance.wrapper) {
                return;
              }
              var content = gridInstance.wrapper.find(".k-grid-content")[0];
              var headerWrap = gridInstance.wrapper.find(".k-grid-header-wrap");
              if (content && headerWrap.length) {
                var pad = content.offsetWidth - content.clientWidth;
                if (pad < 0) {
                  pad = 0;
                }
                headerWrap.css("padding-right", pad + "px");
              }
              gridInstance.resize();
              syncFirmaTanimlariLayout(gridInstance);
            }, 0);

          },
          columnMenu: {
            setColumnPosition: true,
            columns: true,
            messages: {
              columns: "SÃ¼tun SeÃ§imi",
              filter: "Filtre",
              sortAscending: "Artan SÄ±rala",
              sortDescending: "Azalan SÄ±rala",
              settings: "Ayarlar",
              done: "Tamam",
              setColumnPosition: "SÃ¼tun Konumu",
              movePrev: "Ã–nceki",
              moveNext: "Sonraki",
              moveToStart: "BaÅŸa TaÅŸÄ±",
              moveToEnd: "Sona TaÅŸÄ±"
            }
          },
          resizable: {
            columns: true
          },
          columnResizeHandleWidth: 10,
          reorderable: {
            columns: true
          },
          columnHide: function() {
            saveFirmaTanimlariHiddenColumns(this);
          },
          columnShow: function() {
            saveFirmaTanimlariHiddenColumns(this);
          },
          pageable: false,
          editable: false,
          columns: firmaColumns
        });
        var createdGrid = $("#firma-tanimlari-grid").data("kendoGrid");
        if (createdGrid) {
          createdGrid.dataSource.read();
          createdGrid.refresh();
          setTimeout(function() { syncFirmaTanimlariLayout(createdGrid); }, 0);
        }
        $(window).off("resize.firmaTanimlariLayout").on("resize.firmaTanimlariLayout", function() {
          var grid = $("#firma-tanimlari-grid").data("kendoGrid");
          if (grid) {
            syncFirmaTanimlariLayout(grid);
          }
        });
        setTimeout(function() {
          var checkGrid = $("#firma-tanimlari-grid").data("kendoGrid");
          if (!checkGrid) {
            showFirmaTanimlariNotice("error", "Firma listesi Ã§izilemedi. Yeniden deneyin.");
          }
        }, 800);
      };

      $(document).on("click", "#firma-tanimlari-refresh-btn", function() {
        if (typeof window.initFirmaTanimlariGrid === "function") {
          window.initFirmaTanimlariGrid(true);
        }
        var grid = $("#firma-tanimlari-grid").data("kendoGrid");
          if (grid) {
          grid.dataSource.read();
          grid.refresh();
        } else {
          alert("Liste gÃ¶rÃ¼nmÃ¼yor. Sayfa yÃ¼klenmemiÅŸ olabilir.");
        }
      });

      
      // Ã…ÂUBE BAZLI SATIÃ…Â GRAFÃ„Â°Ã„ÂÃ„Â°
      setTimeout(function() {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoChart !== 'undefined') {
          $("#satis-grafik").kendoChart({
            dataSource: {
              data: [
                { sube: "YAÃ„ÂCILAR", motorin: 100000, benzin: 50000 },
                { sube: "TEPEKUM", motorin: 100000, benzin: 45000 },
                { sube: "NAMDAR", motorin: 29000, benzin: 25000 },
                { sube: "Ã…ÂEKER", motorin: 60000, benzin: 40000 },
                { sube: "AKOVA", motorin: 50000, benzin: 35000 },
                { sube: "KOOP.", motorin: 60000, benzin: 30000 },
                { sube: "NAZÃ„Â°LLÃ„Â°", motorin: 70000, benzin: 40000 }
              ]
            },
            title: {
              text: "Ã…Âube BazlÃ„Â± SatÃ„Â±Ã…Å¸ KarÃ…Å¸Ã„Â±laÃ…Å¸tÃ„Â±rmasÃ„Â±",
              font: "14px 'Segoe UI', Arial, sans-serif",
              color: "#2d3748"
            },
            legend: {
              position: "top",
              labels: {
                font: "12px 'Segoe UI', Arial, sans-serif"
              }
            },
            seriesDefaults: {
              type: "column",
              gap: 0.5
            },
            series: [{
              name: "Motorin",
              field: "motorin",
              color: "#4CAF50"
            }, {
              name: "Benzin",
              field: "benzin",
              color: "#2196F3"
            }],
            categoryAxis: {
              field: "sube",
              labels: {
                rotation: -45,
                font: "11px 'Segoe UI', Arial, sans-serif"
              }
            },
            valueAxis: {
              labels: {
                format: "N0",
                font: "11px 'Segoe UI', Arial, sans-serif"
              },
              title: {
                text: "SatÃ„Â±Ã…Å¸ (Litre)",
                font: "12px 'Segoe UI', Arial, sans-serif"
              }
            },
            tooltip: {
              visible: true,
              format: "{0}",
              template: "#= series.name #: #= kendo.format('{0:N0}', value) # Litre"
            }
          });
        }
      }, 300);
      
      // EXCEL DOSYASI YÃƒÅ“KLEME
      setTimeout(function() {
        console.log("ÄŸÅ¸â€â€ Upload baÃ…Å¸latÃ„Â±lÃ„Â±yor...");
        console.log("kendo var mÃ„Â±?", typeof kendo !== 'undefined');
        console.log("kendoUpload var mÃ„Â±?", typeof $.fn.kendoUpload !== 'undefined');
        console.log("#upload-area elementi var mÃ„Â±?", $("#upload-area").length);
        console.log("jQuery var mÃ„Â±?", typeof $ !== 'undefined');
        
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoUpload !== 'undefined' && $("#upload-area").length > 0) {
          try {
            // Ãƒâ€“nce mevcut upload varsa yok et
            var existingUpload = $("#upload-area").data("kendoUpload");
            if (existingUpload) {
              existingUpload.destroy();
              console.log("Eski upload yok edildi");
            }
            
            // Upload bileÃ…Å¸enini baÃ…Å¸lat
            var upload = $("#upload-area").kendoUpload({
              async: {
                saveUrl: "/api/upload-excel/",
                autoUpload: true
              },
              multiple: false,
              showFileList: false,  // Dosya listesini gizle, sadece buton gÃƒÂ¶ster
              validation: {
                allowedExtensions: [".xlsx", ".xls"],
                maxFileSize: 10485760  // 10 MB
              },
              upload: function(e) {
                // YÃƒÂ¼kleme baÃ…Å¸ladÃ„Â±
                console.log("ÄŸÅ¸â€œÂ¤ YÃƒÂ¼kleme baÃ…Å¸ladÃ„Â±:", e.files[0].name);
                $("#upload-progress").show().html("YÃƒÂ¼kleniyor...");
              },
              success: function(e) {
                // YÃƒÂ¼kleme baÃ…Å¸arÃ„Â±lÃ„Â±
                console.log("Ã¢Å“â€¦ YÃƒÂ¼kleme baÃ…Å¸arÃ„Â±lÃ„Â±:", e.response);
                var response = e.response;
                if (response && response.success) {
                  var message = "Dosya baÃ…Å¸arÃ„Â±yla yÃƒÂ¼klendi: " + (response.filename || "Excel dosyasÃ„Â±");
                  if (typeof showSuccess === 'function') {
                    showSuccess(message);
                  } else {
                    alert(message);
                  }
                } else {
                  var errorMsg = response && response.error ? response.error : "Dosya yÃƒÂ¼klendi ancak iÃ…Å¸lenirken hata oluÃ…Å¸tu";
                  if (typeof showError === 'function') {
                    showError(errorMsg);
                  } else {
                    alert(errorMsg);
                  }
                }
                $("#upload-progress").hide();
              },
              error: function(e) {
                // YÃƒÂ¼kleme hatasÃ„Â±
                console.error("Ã¢ÂÅ’ YÃƒÂ¼kleme hatasÃ„Â±:", e);
                var response = e.response;
                var errorMsg = "Dosya yÃƒÂ¼klenirken hata oluÃ…Å¸tu";
                
                if (response) {
                  try {
                    if (typeof response === 'string') {
                      var parsed = JSON.parse(response);
                      errorMsg = parsed.error || errorMsg;
                    } else if (response.error) {
                      errorMsg = response.error;
                    }
                  } catch(e) {
                    console.error("JSON parse hatasÃ„Â±:", e);
                  }
                }
                
                if (typeof showError === 'function') {
                  showError(errorMsg);
                } else {
                  alert(errorMsg);
                }
                $("#upload-progress").hide();
              },
              progress: function(e) {
                // Ã„Â°lerleme gÃƒÂ¼ncellemesi
                var percentComplete = e.percentComplete || 0;
                $("#upload-progress").html("YÃƒÂ¼kleniyor: %" + Math.round(percentComplete));
              },
              select: function(e) {
                // Dosya seÃƒÂ§ildi
                console.log("ÄŸÅ¸â€œÂ Dosya seÃƒÂ§ildi:", e.files);
                var files = e.files;
                if (files.length > 0) {
                  var file = files[0];
                  var fileSize = (file.size / 1024 / 1024).toFixed(2);
                  $("#upload-progress").show().html("Dosya seÃƒÂ§ildi: " + file.name + " (" + fileSize + " MB)");
                }
              }
            }).data("kendoUpload");
            
            console.log("Ã¢Å“â€¦ Upload baÃ…Å¸arÃ„Â±yla baÃ…Å¸latÃ„Â±ldÃ„Â±!", upload);
            
            // Upload HTML'inin oluÃ…Å¸masÃ„Â±nÃ„Â± bekle ve buton metnini deÃ„Å¸iÃ…Å¸tir
            var checkUploadReady = function(attempt) {
              attempt = attempt || 0;
              var maxAttempts = 15;
              
              // Sadece #upload-area icindeki butonlari hedefle
              var $uploadArea = $("#upload-area");
              var $uploadButton = $uploadArea.find(".k-upload-button");
              var $fileInput = $uploadArea.find("input[type='file']");
              
              console.log("Kontrol " + attempt + ": Buton=" + $uploadButton.length + ", FileInput=" + $fileInput.length);
              console.log("Upload area HTML:", $uploadArea.html().substring(0, 200));
              console.log("Upload area parent:", $uploadArea.parent().html().substring(0, 300));
              
              if ($uploadButton.length > 0) {
                // Buton metnini deÃ„Å¸iÃ…Å¸tir (Telerik'in handler'Ã„Â±na dokunmadan)
                var $span = $uploadButton.find(".k-button-text, span");
                if ($span.length > 0) {
                  $span.text("Dosya SeÃƒÂ§");
                  console.log("Ã¢Å“â€¦ Buton metni deÃ„Å¸iÃ…Å¸tirildi: Dosya SeÃƒÂ§");
                } else {
                  $uploadButton.text("Dosya SeÃƒÂ§");
                  console.log("Ã¢Å“â€¦ Buton metni direkt deÃ„Å¸iÃ…Å¸tirildi: Dosya SeÃƒÂ§");
                }
                
                // "Drop files here" metnini deÃ„Å¸iÃ…Å¸tir
                $uploadArea.find(".k-dropzone, .k-upload-files").add($uploadArea.siblings(".k-dropzone")).each(function() {
                  var $dropzone = $(this);
                  var html = $dropzone.html();
                  if (html) {
                    html = html.replace(/Drop files here to upload/gi, "DosyalarÃ„Â± buraya sÃƒÂ¼rÃƒÂ¼kleyin");
                    html = html.replace(/Select files\.\.\./gi, "Dosya SeÃƒÂ§");
                    $dropzone.html(html);
                  }
                });
                
                // File input'u bul ve ayarla
                if ($fileInput.length > 0) {
                  console.log("Ã¢Å“â€¦ File input bulundu!");
                  $fileInput.css({
                    position: "absolute",
                    opacity: 0,
                    width: "100%",
                    height: "100%",
                    cursor: "pointer",
                    zIndex: 10
                  });
                  
                  // Buton tÃ„Â±klanÃ„Â±nca file input'u tetikle
                  $uploadButton.off("click.upload-custom").on("click.upload-custom", function(e) {
                    console.log("ÄŸÅ¸â€œÂ Upload butonuna tÃ„Â±klandÃ„Â±!");
                    e.preventDefault();
                    e.stopPropagation();
                    $fileInput.first().trigger("click");
                    return false;
                  });
                } else {
                  // File input yoksa, Telerik'in kendi handler'Ã„Â±nÃ„Â±n ÃƒÂ§alÃ„Â±Ã…Å¸masÃ„Â±na izin ver
                  console.log("Ã¢Å¡Â Ã¯Â¸Â File input bulunamadÃ„Â±, Telerik'in kendi handler'Ã„Â± kullanÃ„Â±lacak");
                  console.log("Upload bileÃ…Å¸eni:", upload);
                  console.log("Upload metodlarÃ„Â±:", Object.keys(upload || {}));
                  
                  // Telerik Upload'un kendi handler'Ã„Â±na dokunmuyoruz
                  // Sadece buton metnini deÃ„Å¸iÃ…Å¸tirdik, handler ÃƒÂ§alÃ„Â±Ã…Å¸maya devam edecek
                  // Telerik Upload buton tÃ„Â±klandÃ„Â±Ã„Å¸Ã„Â±nda otomatik olarak file input oluÃ…Å¸turur ve tetikler
                  
                  // Buton tÃ„Â±klanÃ„Â±nca file input'un oluÃ…Å¸up oluÃ…Å¸madÃ„Â±Ã„Å¸Ã„Â±nÃ„Â± kontrol et
                  // Telerik Upload buton tÃ„Â±klandÃ„Â±Ã„Å¸Ã„Â±nda file input'u dinamik olarak oluÃ…Å¸turur
                  $uploadButton.on("click.upload-test", function(e) {
                    console.log("ÄŸÅ¸â€œÂ Upload butonuna tÃ„Â±klandÃ„Â± (test)!");
                    
                    // Telerik'in handler'Ã„Â±nÃ„Â±n ÃƒÂ§alÃ„Â±Ã…Å¸masÃ„Â±na izin ver (preventDefault yapmÃ„Â±yoruz)
                    // Handler ÃƒÂ§alÃ„Â±Ã…Å¸tÃ„Â±ktan sonra file input'u kontrol et
                    setTimeout(function() {
                      var $newFileInput = $(upload.wrapper).find("input[type='file']");
                      console.log("TÃ„Â±klamadan sonra file input sayÃ„Â±sÃ„Â±:", $newFileInput.length);
                      if ($newFileInput.length > 0) {
                        console.log("Ã¢Å“â€¦ File input oluÃ…Å¸turuldu!");
                        console.log("File input:", $newFileInput[0]);
                      } else {
                        console.log("Ã¢ÂÅ’ File input hala oluÃ…Å¸turulmadÃ„Â±!");
                        console.log("Wrapper HTML:", $(upload.wrapper).html().substring(0, 500));
                      }
                    }, 100);
                  });
                  
                  // Upload bileÃ…Å¸eninin tÃƒÂ¼m metodlarÃ„Â±nÃ„Â± listele
                  console.log("Upload bileÃ…Å¸eni detaylarÃ„Â±:");
                  console.log("- element:", upload.element);
                  console.log("- options:", upload.options);
                  console.log("- wrapper:", upload.wrapper);
                  
                  // Upload wrapper'Ã„Â± kontrol et
                  if (upload.wrapper) {
                    console.log("Upload wrapper HTML:", $(upload.wrapper).html().substring(0, 500));
                    var $wrapperFileInput = $(upload.wrapper).find("input[type='file']");
                    console.log("Wrapper iÃƒÂ§inde file input:", $wrapperFileInput.length);
                    
                    // Dropzone hint metnini deÃ„Å¸iÃ…Å¸tir
                    $(upload.wrapper).find(".k-dropzone-hint").text("DosyalarÃ„Â± buraya sÃƒÂ¼rÃƒÂ¼kleyin");
                  }
                }
                
                console.log("Ã¢Å“â€¦ Upload hazÃ„Â±r! Buton metni TÃƒÂ¼rkÃƒÂ§e, Telerik'in handler'Ã„Â± aktif.");
              } else if (attempt < maxAttempts) {
                // HenÃƒÂ¼z hazÃ„Â±r deÃ„Å¸il, tekrar dene
                setTimeout(function() {
                  checkUploadReady(attempt + 1);
                }, 200);
              } else {
                console.error("Ã¢ÂÅ’ Upload butonu bulunamadÃ„Â±!");
                console.error("Upload area:", $uploadArea[0]);
                console.error("Upload area parent:", $uploadArea.parent()[0]);
              }
            };
            
            // Ã„Â°lk kontrolÃƒÂ¼ baÃ…Å¸lat
            setTimeout(function() {
              checkUploadReady(0);
            }, 500);
            
          } catch(error) {
            console.error("Ã¢ÂÅ’ Upload baÃ…Å¸latÃ„Â±lÃ„Â±rken hata:", error);
            console.error("Hata detayÃ„Â±:", error.stack);
            $("#upload-progress").html("Upload baÃ…Å¸latÃ„Â±lamadÃ„Â±: " + error.message).show();
          }
        } else {
          // upload-area elementi yoksa sessizce geÃƒÂ§ (operasyon sayfasÃ„Â± dÃ„Â±Ã…Å¸Ã„Â±nda)
          if ($("#upload-area").length === 0) {
            // Element yok, bu normal (baÃ…Å¸ka sayfalarda)
            return;
          }
          console.warn("Ã¢Å¡Â Ã¯Â¸Â Telerik Upload yÃƒÂ¼klenmemiÃ…Å¸!");
          console.warn("kendo:", typeof kendo);
          console.warn("kendoUpload:", typeof $.fn.kendoUpload);
          if ($("#upload-progress").length > 0) {
            $("#upload-progress").html("Upload bileÃ…Å¸eni yÃƒÂ¼klenemedi. SayfayÃ„Â± yenileyin.").show();
          }
        }
      }, 500);
    });
    
    // ============================================
    // TANKER SAYFASI - TÃƒÅ“M TELERÃ„Â°K BÃ„Â°LEÃ…ÂENLERÃ„Â° BAÃ…ÂLATMA
    // ============================================
    function initTankerBilesenleri() {
      try {
        console.log("ÄŸÅ¸Å¡â‚¬ Tanker sayfasÃ„Â± bileÃ…Å¸enleri baÃ…Å¸latÃ„Â±lÃ„Â±yor...");
        
        // VERÃ„Â° YÃƒâ€“NETÃ„Â°MÃ„Â° BÃ„Â°LEÃ…ÂENLERÃ„Â°
        try {
          // #1 - Grid - Net Ãƒâ€“rneklerle
          $("#tanker-grid-1").kendoGrid({
            dataSource: {
              data: [
                { id: 1, sube: "YAÃ„ÂCILAR", urun: "Motorin", miktar: 125000, birim: "Litre", fiyat: 25.50, tutar: 3187500, tarih: "2024-01-15", durum: "Aktif" },
                { id: 2, sube: "YAÃ„ÂCILAR", urun: "Benzin", miktar: 85000, birim: "Litre", fiyat: 28.75, tutar: 2443750, tarih: "2024-01-15", durum: "Aktif" },
                { id: 3, sube: "TEPEKUM", urun: "Motorin", miktar: 98000, birim: "Litre", fiyat: 25.50, tutar: 2499000, tarih: "2024-01-16", durum: "Aktif" },
                { id: 4, sube: "TEPEKUM", urun: "Benzin", miktar: 72000, birim: "Litre", fiyat: 28.75, tutar: 2070000, tarih: "2024-01-16", durum: "Aktif" },
                { id: 5, sube: "NAMDAR", urun: "Motorin", miktar: 45000, birim: "Litre", fiyat: 25.50, tutar: 1147500, tarih: "2024-01-17", durum: "Aktif" },
                { id: 6, sube: "NAMDAR", urun: "Benzin", miktar: 32000, birim: "Litre", fiyat: 28.75, tutar: 920000, tarih: "2024-01-17", durum: "Pasif" },
                { id: 7, sube: "Ã…ÂEKER", urun: "Motorin", miktar: 67000, birim: "Litre", fiyat: 25.50, tutar: 1708500, tarih: "2024-01-18", durum: "Aktif" },
                { id: 8, sube: "Ã…ÂEKER", urun: "Benzin", miktar: 54000, birim: "Litre", fiyat: 28.75, tutar: 1552500, tarih: "2024-01-18", durum: "Aktif" }
              ],
              schema: {
                model: {
                  fields: {
                    tarih: { type: "date" },
                    miktar: { type: "number" },
                    fiyat: { type: "number" },
                    tutar: { type: "number" }
                  }
                }
              }
            },
            columns: [
              { field: "id", title: "ID", width: 60 },
              { field: "sube", title: "Ã…Âube", width: 120 },
              { field: "urun", title: "ÃƒÅ“rÃƒÂ¼n", width: 100 },
              { field: "miktar", title: "Miktar", width: 100, format: "{0:n0}", attributes: { style: "text-align:right;" } },
              { field: "birim", title: "Birim", width: 80 },
              { field: "fiyat", title: "Fiyat", width: 100, format: "{0:n2} TL", attributes: { style: "text-align:right;" } },
              { field: "tutar", title: "Tutar", width: 120, format: "{0:n2} TL", attributes: { style: "text-align:right;font-weight:bold;" } },
              { field: "tarih", title: "Tarih", width: 100, format: "{0:dd.MM.yyyy}" },
              { field: "durum", title: "Durum", width: 80 }
            ],
            height: 300,
            sortable: true,
            filterable: true,
            pageable: { pageSize: 5, pageSizes: [5, 10, 20] },
            resizable: true,
            reorderable: true,
            groupable: true,
            toolbar: ["excel", "pdf"],
            excel: { fileName: "Satis_Raporu.xlsx", allPages: true },
            pdf: { fileName: "Satis_Raporu.pdf", allPages: true }
          });
          console.log("Ã¢Å“â€¦ #1 Grid baÃ…Å¸latÃ„Â±ldÃ„Â± - Net ÃƒÂ¶rneklerle");
        } catch(e) { console.error("Ã¢ÂÅ’ #1 Grid hatasÃ„Â±:", e); }
        
        try {
          // #2 - PivotGrid - Net Ãƒâ€“rneklerle
          $("#tanker-pivotgrid-2").kendoPivotGrid({
            dataSource: {
              data: [
                { sube: "YAÃ„ÂCILAR", urun: "Motorin", ay: "Ocak", miktar: 125000, tutar: 3187500 },
                { sube: "YAÃ„ÂCILAR", urun: "Benzin", ay: "Ocak", miktar: 85000, tutar: 2443750 },
                { sube: "YAÃ„ÂCILAR", urun: "Motorin", ay: "Ã…Âubat", miktar: 132000, tutar: 3366000 },
                { sube: "YAÃ„ÂCILAR", urun: "Benzin", ay: "Ã…Âubat", miktar: 92000, tutar: 2645000 },
                { sube: "TEPEKUM", urun: "Motorin", ay: "Ocak", miktar: 98000, tutar: 2499000 },
                { sube: "TEPEKUM", urun: "Benzin", ay: "Ocak", miktar: 72000, tutar: 2070000 },
                { sube: "TEPEKUM", urun: "Motorin", ay: "Ã…Âubat", miktar: 105000, tutar: 2677500 },
                { sube: "TEPEKUM", urun: "Benzin", ay: "Ã…Âubat", miktar: 78000, tutar: 2242500 },
                { sube: "NAMDAR", urun: "Motorin", ay: "Ocak", miktar: 45000, tutar: 1147500 },
                { sube: "NAMDAR", urun: "Benzin", ay: "Ocak", miktar: 32000, tutar: 920000 },
                { sube: "Ã…ÂEKER", urun: "Motorin", ay: "Ocak", miktar: 67000, tutar: 1708500 },
                { sube: "Ã…ÂEKER", urun: "Benzin", ay: "Ocak", miktar: 54000, tutar: 1552500 }
              ],
              columns: [{ name: "urun", expand: true }, { name: "ay", expand: true }],
              rows: [{ name: "sube", expand: true }],
              measures: [
                { values: [{ field: "miktar", aggregate: "sum" }], format: "{0:n0} L" },
                { values: [{ field: "tutar", aggregate: "sum" }], format: "{0:n2} TL" }
              ]
            },
            height: 400
          });
          console.log("Ã¢Å“â€¦ #2 PivotGrid baÃ…Å¸latÃ„Â±ldÃ„Â± - Net ÃƒÂ¶rneklerle");
        } catch(e) { console.error("Ã¢ÂÅ’ #2 PivotGrid hatasÃ„Â±:", e); }
        
        try {
          // #3 - Spreadsheet
          $("#tanker-spreadsheet-3").kendoSpreadsheet({
            sheets: [{
              name: "SatÃ„Â±Ã…Å¸lar",
              rows: [{
                cells: [
                  { value: "Ã…Âube" }, { value: "Miktar" }, { value: "Fiyat" }, { formula: "B1*C1", format: "#,##0.00" }
                ]
              }, {
                cells: [
                  { value: "YAÃ„ÂCILAR" }, { value: 100000 }, { value: 25.50 }, { formula: "B2*C2", format: "#,##0.00" }
                ]
              }]
            }],
            height: 300
          });
          console.log("Ã¢Å“â€¦ #3 Spreadsheet baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #3 Spreadsheet hatasÃ„Â±:", e); }
        
        try {
          // #4 - TreeList - Net Ãƒâ€“rneklerle
          $("#tanker-treelist-4").kendoTreeList({
            dataSource: {
              data: [
                { id: 1, sube: "YAÃ„ÂCILAR", miktar: 210000, tutar: 5631250, parentId: null },
                { id: 2, sube: "Motorin SatÃ„Â±Ã…Å¸larÃ„Â±", miktar: 125000, tutar: 3187500, parentId: 1 },
                { id: 3, sube: "Benzin SatÃ„Â±Ã…Å¸larÃ„Â±", miktar: 85000, tutar: 2443750, parentId: 1 },
                { id: 4, sube: "TEPEKUM", miktar: 170000, tutar: 4569000, parentId: null },
                { id: 5, sube: "Motorin SatÃ„Â±Ã…Å¸larÃ„Â±", miktar: 98000, tutar: 2499000, parentId: 4 },
                { id: 6, sube: "Benzin SatÃ„Â±Ã…Å¸larÃ„Â±", miktar: 72000, tutar: 2070000, parentId: 4 },
                { id: 7, sube: "NAMDAR", miktar: 77000, tutar: 2067500, parentId: null },
                { id: 8, sube: "Motorin SatÃ„Â±Ã…Å¸larÃ„Â±", miktar: 45000, tutar: 1147500, parentId: 7 },
                { id: 9, sube: "Benzin SatÃ„Â±Ã…Å¸larÃ„Â±", miktar: 32000, tutar: 920000, parentId: 7 }
              ],
              schema: {
                model: {
                  id: "id",
                  parentId: "parentId",
                  fields: {
                    miktar: { type: "number" },
                    tutar: { type: "number" }
                  }
                }
              }
            },
            columns: [
              { field: "sube", title: "Ã…Âube/ÃƒÅ“rÃƒÂ¼n", width: 200, expandable: true },
              { field: "miktar", title: "Miktar (L)", width: 120, format: "{0:n0}", attributes: { style: "text-align:right;" } },
              { field: "tutar", title: "Tutar (TL)", width: 150, format: "{0:n2}", attributes: { style: "text-align:right;font-weight:bold;" } }
            ],
            height: 400,
            sortable: true,
            filterable: true
          });
          console.log("Ã¢Å“â€¦ #4 TreeList baÃ…Å¸latÃ„Â±ldÃ„Â± - Net ÃƒÂ¶rneklerle");
        } catch(e) { console.error("Ã¢ÂÅ’ #4 TreeList hatasÃ„Â±:", e); }
        
        try {
          // #5 - ListView - Net Ãƒâ€“rneklerle
          $("#tanker-listview-5").kendoListView({
            dataSource: {
              data: [
                { sube: "YAÃ„ÂCILAR", urun: "Motorin", miktar: 125000, fiyat: 25.50, tutar: 3187500, durum: "Aktif" },
                { sube: "YAÃ„ÂCILAR", urun: "Benzin", miktar: 85000, fiyat: 28.75, tutar: 2443750, durum: "Aktif" },
                { sube: "TEPEKUM", urun: "Motorin", miktar: 98000, fiyat: 25.50, tutar: 2499000, durum: "Aktif" },
                { sube: "TEPEKUM", urun: "Benzin", miktar: 72000, fiyat: 28.75, tutar: 2070000, durum: "Aktif" },
                { sube: "NAMDAR", urun: "Motorin", miktar: 45000, fiyat: 25.50, tutar: 1147500, durum: "Pasif" }
              ]
            },
            template: "<div class='k-card' style='padding:15px;margin:10px;background:#f5f5f5;border-radius:8px;border-left:4px solid #206d7d;'>" +
                      "<h4 style='margin:0 0 10px 0;color:#206d7d;'>#: sube # - #: urun #</h4>" +
                      "<p style='margin:5px 0;'><strong>Miktar:</strong> #: miktar # L</p>" +
                      "<p style='margin:5px 0;'><strong>Fiyat:</strong> #: fiyat # TL</p>" +
                      "<p style='margin:5px 0;'><strong>Tutar:</strong> <span style='color:#28a745;font-weight:bold;'>#: tutar # TL</span></p>" +
                      "<p style='margin:5px 0;'><strong>Durum:</strong> #: durum #</p>" +
                      "</div>",
            height: 400
          });
          console.log("Ã¢Å“â€¦ #5 ListView baÃ…Å¸latÃ„Â±ldÃ„Â± - Net ÃƒÂ¶rneklerle");
        } catch(e) { console.error("Ã¢ÂÅ’ #5 ListView hatasÃ„Â±:", e); }
        
        // NAVÃ„Â°GASYON BÃ„Â°LEÃ…ÂENLERÃ„Â°
        try {
          // #7 - Menu
          $("#tanker-menu-7").kendoMenu({
            dataSource: [
              { text: "TanÃ„Â±mlar", items: [{ text: "Firmalar" }, { text: "ÃƒÅ“rÃƒÂ¼nler" }] },
              { text: "Kartlar" },
              { text: "Raporlar" }
            ]
          });
          console.log("Ã¢Å“â€¦ #7 Menu baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #7 Menu hatasÃ„Â±:", e); }
        
        try {
          // #8 - TabStrip
          $("#tanker-tabstrip-8").kendoTabStrip({
            items: [
              { text: "Operasyon", content: "Operasyon iÃƒÂ§eriÃ„Å¸i" },
              { text: "Banka", content: "Banka iÃƒÂ§eriÃ„Å¸i" },
              { text: "Raporlar", content: "Raporlar iÃƒÂ§eriÃ„Å¸i" }
            ]
          });
          console.log("Ã¢Å“â€¦ #8 TabStrip baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #8 TabStrip hatasÃ„Â±:", e); }
        
        try {
          // #9 - TreeView
          $("#tanker-treeview-9").kendoTreeView({
            dataSource: [
              {
                text: "YAÃ„ÂCILAR",
                items: [
                  { text: "Alt Ã…Âube 1" },
                  { text: "Alt Ã…Âube 2" }
                ]
              },
              { text: "TEPEKUM" }
            ]
          });
          console.log("Ã¢Å“â€¦ #9 TreeView baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #9 TreeView hatasÃ„Â±:", e); }
        
        try {
          // #10 - PanelBar
          $("#tanker-panelbar-10").kendoPanelBar({
            items: [
              { text: "Motorin DetaylarÃ„Â±", content: "Motorin bilgileri burada..." },
              { text: "Benzin DetaylarÃ„Â±", content: "Benzin bilgileri burada..." }
            ]
          });
          console.log("Ã¢Å“â€¦ #10 PanelBar baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #10 PanelBar hatasÃ„Â±:", e); }
        
        try {
          // #11 - Breadcrumb
          $("#tanker-breadcrumb-11").kendoBreadcrumb({
            items: [
              { text: "Ana Sayfa", href: "#" },
              { text: "Ã…Âubeler", href: "#" },
              { text: "YAÃ„ÂCILAR" }
            ]
          });
          console.log("Ã¢Å“â€¦ #11 Breadcrumb baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #11 Breadcrumb hatasÃ„Â±:", e); }
        
        try {
          // #12 - Toolbar
          $("#tanker-toolbar-12").kendoToolbar({
            items: [
              { type: "button", text: "Kaydet", icon: "save" },
              { type: "button", text: "Sil", icon: "trash" },
              { type: "separator" },
              { type: "button", text: "YazdÃ„Â±r", icon: "print" }
            ]
          });
          console.log("Ã¢Å“â€¦ #12 Toolbar baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #12 Toolbar hatasÃ„Â±:", e); }
        
        try {
          // #13 - Splitter
          $("#tanker-splitter-13").kendoSplitter({
            panes: [
              { collapsible: true, size: "200px", content: "Sol Panel" },
              { collapsible: true, content: "SaÃ„Å¸ Panel" }
            ],
            height: 300
          });
          console.log("Ã¢Å“â€¦ #13 Splitter baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #13 Splitter hatasÃ„Â±:", e); }
        
        try {
          // #14 - ResponsivePanel
          $("#tanker-responsivepanel-14").kendoResponsivePanel({
            breakpoint: 768,
            autoClose: false
          });
          $("#tanker-responsivepanel-toggle-14").click(function() {
            var panel = $("#tanker-responsivepanel-14").data("kendoResponsivePanel");
            panel.toggle();
          });
          console.log("Ã¢Å“â€¦ #14 ResponsivePanel baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #14 ResponsivePanel hatasÃ„Â±:", e); }
        
        try {
          // #15 - Drawer
          $("#tanker-drawer-15").kendoDrawer({
            template: "<ul><li>MenÃƒÂ¼ 1</li><li>MenÃƒÂ¼ 2</li></ul>",
            minHeight: 200,
            swipeToOpen: false
          });
          $("#tanker-drawer-toggle-15").click(function() {
            var drawer = $("#tanker-drawer-15").data("kendoDrawer");
            drawer.show();
          });
          console.log("Ã¢Å“â€¦ #15 Drawer baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #15 Drawer hatasÃ„Â±:", e); }
        
        try {
          // #16 - Stepper
          $("#tanker-stepper-16").kendoStepper({
            steps: [
              { label: "AdÃ„Â±m 1", selected: true },
              { label: "AdÃ„Â±m 2" },
              { label: "AdÃ„Â±m 3" }
            ],
            orientation: "horizontal"
          });
          console.log("Ã¢Å“â€¦ #16 Stepper baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #16 Stepper hatasÃ„Â±:", e); }
        
        // DÃƒÅ“ZENLEYÃ„Â°CÃ„Â°LER BÃ„Â°LEÃ…ÂENLERÃ„Â°
        try {
          // #17 - DatePicker
          $("#tanker-datepicker-17").kendoDatePicker({
            culture: "tr-TR",
            format: "dd/MM/yyyy",
            value: new Date()
          });
          console.log("Ã¢Å“â€¦ #17 DatePicker baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #17 DatePicker hatasÃ„Â±:", e); }
        
        try {
          // #18 - DateTimePicker
          $("#tanker-datetimepicker-18").kendoDateTimePicker({
            culture: "tr-TR",
            format: "dd/MM/yyyy HH:mm"
          });
          console.log("Ã¢Å“â€¦ #18 DateTimePicker baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #18 DateTimePicker hatasÃ„Â±:", e); }
        
        try {
          // #19 - TimePicker
          $("#tanker-timepicker-19").kendoTimePicker({
            culture: "tr-TR",
            format: "HH:mm"
          });
          console.log("Ã¢Å“â€¦ #19 TimePicker baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #19 TimePicker hatasÃ„Â±:", e); }
        
        try {
          // #20 - Calendar
          $("#tanker-calendar-20").kendoCalendar({
            value: new Date(),
            culture: "tr-TR"
          });
          console.log("Ã¢Å“â€¦ #20 Calendar baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #20 Calendar hatasÃ„Â±:", e); }
        
        try {
          // #21 - ComboBox
          $("#tanker-combobox-21").kendoComboBox({
            dataSource: ["YAÃ„ÂCILAR", "TEPEKUM", "NAMDAR", "Ã…ÂEKER"],
            placeholder: "Ã…Âube seÃƒÂ§in...",
            filter: "contains"
          });
          console.log("Ã¢Å“â€¦ #21 ComboBox baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #21 ComboBox hatasÃ„Â±:", e); }
        
        try {
          // #22 - DropDownList
          $("#tanker-dropdownlist-22").kendoDropDownList({
            dataSource: ["Aktif", "Pasif", "Beklemede"],
            value: "Aktif"
          });
          console.log("Ã¢Å“â€¦ #22 DropDownList baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #22 DropDownList hatasÃ„Â±:", e); }
        
        try {
          // #23 - MultiSelect
          $("#tanker-multiselect-23").kendoMultiSelect({
            dataSource: ["YAÃ„ÂCILAR", "TEPEKUM", "NAMDAR", "Ã…ÂEKER"],
            placeholder: "Ã…Âube seÃƒÂ§in..."
          });
          console.log("Ã¢Å“â€¦ #23 MultiSelect baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #23 MultiSelect hatasÃ„Â±:", e); }
        
        try {
          // #24 - AutoComplete
          $("#tanker-autocomplete-24").kendoAutoComplete({
            dataSource: ["Aria Petrol", "Namdar Petrol", "Aygaz", "BP"],
            filter: "contains",
            placeholder: "Firma ara..."
          });
          console.log("Ã¢Å“â€¦ #24 AutoComplete baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #24 AutoComplete hatasÃ„Â±:", e); }
        
        try {
          // #25 - NumericTextBox
          $("#tanker-numerictextbox-25").kendoNumericTextBox({
            format: "n2",
            decimals: 2,
            min: 0,
            max: 1000000,
            value: 1000
          });
          console.log("Ã¢Å“â€¦ #25 NumericTextBox baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #25 NumericTextBox hatasÃ„Â±:", e); }
        
        try {
          // #26 - MaskedTextBox
          $("#tanker-maskedtextbox-26").kendoMaskedTextBox({
            mask: "000-000-0000",
            value: "5551234567"
          });
          console.log("Ã¢Å“â€¦ #26 MaskedTextBox baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #26 MaskedTextBox hatasÃ„Â±:", e); }
        
        try {
          // #27 - Editor
          $("#tanker-editor-27").kendoEditor({
            tools: ["bold", "italic", "underline", "foreColor", "backColor"],
            value: "Metin editÃƒÂ¶rÃƒÂ¼ ÃƒÂ¶rneÃ„Å¸i"
          });
          console.log("Ã¢Å“â€¦ #27 Editor baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #27 Editor hatasÃ„Â±:", e); }
        
        try {
          // #28 - ColorPicker
          $("#tanker-colorpicker-28").kendoColorPicker({
            value: "#ff0000",
            buttons: true
          });
          console.log("Ã¢Å“â€¦ #28 ColorPicker baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #28 ColorPicker hatasÃ„Â±:", e); }
        
        try {
          // #29 - FlatColorPicker
          $("#tanker-flatcolorpicker-29").kendoFlatColorPicker({
            value: "#00ff00"
          });
          console.log("Ã¢Å“â€¦ #29 FlatColorPicker baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #29 FlatColorPicker hatasÃ„Â±:", e); }
        
        try {
          // #30 - ColorPalette
          $("#tanker-colorpalette-30").kendoColorPalette({
            value: "#0000ff",
            palette: "basic"
          });
          console.log("Ã¢Å“â€¦ #30 ColorPalette baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #30 ColorPalette hatasÃ„Â±:", e); }
        
        try {
          // #31 - Slider
          $("#tanker-slider-31").kendoSlider({
            min: 0,
            max: 100,
            value: 50,
            smallStep: 1,
            largeStep: 10
          });
          console.log("Ã¢Å“â€¦ #31 Slider baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #31 Slider hatasÃ„Â±:", e); }
        
        try {
          // #32 - RangeSlider
          $("#tanker-rangeslider-32").kendoRangeSlider({
            min: 0,
            max: 100,
            smallStep: 1,
            largeStep: 10
          });
          console.log("Ã¢Å“â€¦ #32 RangeSlider baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #32 RangeSlider hatasÃ„Â±:", e); }
        
        try {
          // #33 - Rating
          $("#tanker-rating-33").kendoRating({
            min: 1,
            max: 5,
            value: 3
          });
          console.log("Ã¢Å“â€¦ #33 Rating baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #33 Rating hatasÃ„Â±:", e); }
        
        try {
          // #34 - ListBox
          $("#tanker-listbox-34").kendoListBox({
            dataSource: ["YAÃ„ÂCILAR", "TEPEKUM", "NAMDAR", "Ã…ÂEKER"],
            selectable: "multiple"
          });
          console.log("Ã¢Å“â€¦ #34 ListBox baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #34 ListBox hatasÃ„Â±:", e); }
        
        try {
          // #35 - SearchBox
          $("#tanker-searchbox-35").kendoSearchBox({
            dataSource: {
              data: ["YAÃ„ÂCILAR", "TEPEKUM", "NAMDAR"],
              serverFiltering: false
            },
            placeholder: "Ara..."
          });
          console.log("Ã¢Å“â€¦ #35 SearchBox baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #35 SearchBox hatasÃ„Â±:", e); }
        
        // VERÃ„Â° GÃƒâ€“RSELLEÃ…ÂTÃ„Â°RME BÃ„Â°LEÃ…ÂENLERÃ„Â°
        try {
          // #36 - Chart Column
          $("#tanker-chart-column-36").kendoChart({
            dataSource: {
              data: [
                { sube: "YAÃ„ÂCILAR", satis: 100000 },
                { sube: "TEPEKUM", satis: 100000 },
                { sube: "NAMDAR", satis: 29000 }
              ]
            },
            series: [{
              type: "column",
              field: "satis",
              categoryField: "sube"
            }],
            height: 300
          });
          console.log("Ã¢Å“â€¦ #36 Chart Column baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #36 Chart Column hatasÃ„Â±:", e); }
        
        try {
          // #37 - Chart Line
          $("#tanker-chart-line-37").kendoChart({
            dataSource: {
              data: [
                { ay: "Ocak", satis: 50000 },
                { ay: "Ã…Âubat", satis: 60000 },
                { ay: "Mart", satis: 55000 }
              ]
            },
            series: [{
              type: "line",
              field: "satis",
              categoryField: "ay"
            }],
            height: 300
          });
          console.log("Ã¢Å“â€¦ #37 Chart Line baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #37 Chart Line hatasÃ„Â±:", e); }
        
        try {
          // #38 - Chart Pie
          $("#tanker-chart-pie-38").kendoChart({
            dataSource: {
              data: [
                { urun: "Motorin", yuzde: 60 },
                { urun: "Benzin", yuzde: 40 }
              ]
            },
            series: [{
              type: "pie",
              field: "yuzde",
              categoryField: "urun"
            }],
            height: 300
          });
          console.log("Ã¢Å“â€¦ #38 Chart Pie baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #38 Chart Pie hatasÃ„Â±:", e); }
        
        try {
          // #39 - Chart Area
          $("#tanker-chart-area-39").kendoChart({
            dataSource: {
              data: [
                { ay: "Ocak", satis: 50000 },
                { ay: "Ã…Âubat", satis: 60000 },
                { ay: "Mart", satis: 55000 }
              ]
            },
            series: [{
              type: "area",
              field: "satis",
              categoryField: "ay"
            }],
            height: 300
          });
          console.log("Ã¢Å“â€¦ #39 Chart Area baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #39 Chart Area hatasÃ„Â±:", e); }
        
        try {
          // #40 - Chart Bar
          $("#tanker-chart-bar-40").kendoChart({
            dataSource: {
              data: [
                { sube: "YAÃ„ÂCILAR", satis: 100000 },
                { sube: "TEPEKUM", satis: 100000 }
              ]
            },
            series: [{
              type: "bar",
              field: "satis",
              categoryField: "sube"
            }],
            height: 300
          });
          console.log("Ã¢Å“â€¦ #40 Chart Bar baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #40 Chart Bar hatasÃ„Â±:", e); }
        
        try {
          // #41 - StockChart
          $("#tanker-stockchart-41").kendoStockChart({
            dataSource: {
              data: [
                { date: new Date("2024-01-01"), open: 100, high: 110, low: 95, close: 105, volume: 1000 },
                { date: new Date("2024-01-02"), open: 105, high: 115, low: 100, close: 112, volume: 1200 },
                { date: new Date("2024-01-03"), open: 112, high: 120, low: 108, close: 118, volume: 1500 },
                { date: new Date("2024-01-04"), open: 118, high: 125, low: 115, close: 122, volume: 1800 },
                { date: new Date("2024-01-05"), open: 122, high: 130, low: 120, close: 128, volume: 2000 }
              ]
            },
            dateField: "date",
            series: [{
              type: "candlestick",
              openField: "open",
              highField: "high",
              lowField: "low",
              closeField: "close"
            }],
            height: 300
          });
          console.log("Ã¢Å“â€¦ #41 StockChart baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #41 StockChart hatasÃ„Â±:", e); }
        
        try {
          // #42 - Sparkline
          $("#tanker-sparkline-42").kendoSparkline({
            data: [100, 105, 112, 118, 122, 128, 125, 130, 135, 140],
            type: "line",
            height: 100
          });
          console.log("Ã¢Å“â€¦ #42 Sparkline baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #42 Sparkline hatasÃ„Â±:", e); }
        
        try {
          // #43 - CircularGauge
          $("#tanker-circulargauge-43").kendoCircularGauge({
            value: 75,
            min: 0,
            max: 100,
            scale: {
              labels: { visible: true },
              ranges: [
                { from: 0, to: 50, color: "#ff0000" },
                { from: 50, to: 80, color: "#ffaa00" },
                { from: 80, to: 100, color: "#00ff00" }
              ]
            }
          });
          console.log("Ã¢Å“â€¦ #43 CircularGauge baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #43 CircularGauge hatasÃ„Â±:", e); }
        
        try {
          // #45 - ArcGauge
          $("#tanker-arcgauge-45").kendoArcGauge({
            value: 65,
            center: { x: 100, y: 100 },
            scale: {
              min: 0,
              max: 100,
              labels: { visible: true }
            }
          });
          console.log("Ã¢Å“â€¦ #45 ArcGauge baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #45 ArcGauge hatasÃ„Â±:", e); }
        
        try {
          // #46 - Map
          $("#tanker-map-46").kendoMap({
            center: [39.9, 32.8],
            zoom: 10,
            layers: [{
              type: "tile",
              urlTemplate: "https://#= subdomain #.tile.openstreetmap.org/#= zoom #/#= x #/#= y #.png",
              subdomains: ["a", "b", "c"],
              attribution: "&copy; OpenStreetMap"
            }],
            markers: [{
              location: [39.9, 32.8],
              title: "Ankara",
              shape: "pinTarget"
            }],
            height: 300
          });
          console.log("Ã¢Å“â€¦ #46 Map baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #46 Map hatasÃ„Â±:", e); }
        
        try {
          // #47 - Diagram
          $("#tanker-diagram-47").kendoDiagram({
            dataSource: {
              data: [
                { id: 1, text: "YAÃ„ÂCILAR", x: 100, y: 100 },
                { id: 2, text: "TEPEKUM", x: 300, y: 100 },
                { id: 3, text: "NAMDAR", x: 200, y: 250 }
              ]
            },
            connections: [
              { from: 1, to: 2 },
              { from: 2, to: 3 }
            ],
            layout: {
              type: "layered",
              subtype: "topdown"
            },
            height: 400
          });
          console.log("Ã¢Å“â€¦ #47 Diagram baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #47 Diagram hatasÃ„Â±:", e); }
        
        try {
          // #44 - LinearGauge
          $("#tanker-lineargauge-44").kendoLinearGauge({
            value: 60,
            min: 0,
            max: 100
          });
          console.log("Ã¢Å“â€¦ #44 LinearGauge baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #44 LinearGauge hatasÃ„Â±:", e); }
        
        // BÃ„Â°LDÃ„Â°RÃ„Â°MLER VE DÃ„Â°Ã„ÂERLERÃ„Â°
        try {
          // #48 - Notification
          var notification = $("#tanker-notification-48").kendoNotification({
            position: { top: 50, right: 50 }
          }).data("kendoNotification");
          $("#tanker-notification-test-48").click(function() {
            notification.show("Bildirim ÃƒÂ¶rneÃ„Å¸i!", "success");
          });
          console.log("Ã¢Å“â€¦ #48 Notification baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #48 Notification hatasÃ„Â±:", e); }
        
        try {
          // #49 - ProgressBar
          var progressBar = $("#tanker-progressbar-49").kendoProgressBar({
            value: 0,
            max: 100
          }).data("kendoProgressBar");
          $("#tanker-progressbar-test-49").click(function() {
            var value = 0;
            var interval = setInterval(function() {
              value += 10;
              progressBar.value(value);
              if (value >= 100) clearInterval(interval);
            }, 200);
          });
          console.log("Ã¢Å“â€¦ #49 ProgressBar baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #49 ProgressBar hatasÃ„Â±:", e); }
        
        try {
          // #50 - Window
          $("#tanker-window-50").kendoWindow({
            title: "Telerik Window",
            width: 400,
            height: 300,
            visible: false,
            modal: true
          });
          $("#tanker-window-open-50").click(function() {
            $("#tanker-window-50").data("kendoWindow").center().open();
          });
          console.log("Ã¢Å“â€¦ #50 Window baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #50 Window hatasÃ„Â±:", e); }
        
        try {
          // #51 - Dialog
          $("#tanker-dialog-51").kendoDialog({
            title: "Onay Dialog",
            content: "Bu iÃ…Å¸lemi yapmak istediÃ„Å¸inize emin misiniz?",
            width: 400,
            height: 200,
            visible: false,
            modal: true,
            actions: [
              { text: "Evet", primary: true, action: function() { console.log("Evet tÃ„Â±klandÃ„Â±"); } },
              { text: "HayÃ„Â±r", action: function() { console.log("HayÃ„Â±r tÃ„Â±klandÃ„Â±"); } }
            ]
          });
          $("#tanker-dialog-open-51").click(function() {
            $("#tanker-dialog-51").data("kendoDialog").open();
          });
          console.log("Ã¢Å“â€¦ #51 Dialog baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #51 Dialog hatasÃ„Â±:", e); }
        
        try {
          // #52 - Tooltip
          $("#tanker-tooltip-52").kendoTooltip({
            content: "Bu bir Telerik Tooltip ÃƒÂ¶rneÃ„Å¸idir!"
          });
          console.log("Ã¢Å“â€¦ #52 Tooltip baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #52 Tooltip hatasÃ„Â±:", e); }
        
        try {
          // #53 - Upload
          $("#tanker-upload-53").kendoUpload({
            async: {
              saveUrl: "/api/upload/",
              removeUrl: "/api/remove/"
            },
            multiple: true
          });
          console.log("Ã¢Å“â€¦ #53 Upload baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #53 Upload hatasÃ„Â±:", e); }
        
        try {
          // #54 - FileManager
          $("#tanker-filemanager-54").kendoFileManager({
            dataSource: {
              transport: {
                read: function(options) {
                  options.success([
                    { name: "Dosya1.xlsx", size: 1024, isDirectory: false },
                    { name: "Dosya2.pdf", size: 2048, isDirectory: false },
                    { name: "KlasÃƒÂ¶r1", size: 0, isDirectory: true }
                  ]);
                }
              },
              schema: {
                model: {
                  id: "name",
                  fields: {
                    name: { type: "string" },
                    size: { type: "number" },
                    isDirectory: { type: "boolean" }
                  }
                }
              }
            },
            height: 400
          });
          console.log("Ã¢Å“â€¦ #54 FileManager baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #54 FileManager hatasÃ„Â±:", e); }
        
        try {
          // #55 - PDFViewer
          $("#tanker-pdfviewer-55").kendoPDFViewer({
            pdfjsProcessing: {
              file: "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"
            },
            height: 400
          });
          console.log("Ã¢Å“â€¦ #55 PDFViewer baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #55 PDFViewer hatasÃ„Â±:", e); }
        
        // FORM BÃ„Â°LEÃ…ÂENLERÃ„Â°
        try {
          // #56 - Button
          $("#tanker-button-56").kendoButton({
            content: "Telerik Buton",
            icon: "save"
          });
          console.log("Ã¢Å“â€¦ #56 Button baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #56 Button hatasÃ„Â±:", e); }
        
        try {
          // #57 - Switch
          $("#tanker-switch-57").kendoSwitch({
            checked: true
          });
          console.log("Ã¢Å“â€¦ #57 Switch baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #57 Switch hatasÃ„Â±:", e); }
        
        try {
          // #58 - CheckBox
          $("#tanker-checkbox-58").kendoCheckBox({
            checked: true,
            label: "Onay Kutusu"
          });
          console.log("Ã¢Å“â€¦ #58 CheckBox baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #58 CheckBox hatasÃ„Â±:", e); }
        
        // PLANLAMA BÃ„Â°LEÃ…ÂENLERÃ„Â°
        try {
          // #60 - Scheduler
          $("#tanker-scheduler-60").kendoScheduler({
            date: new Date(),
            startTime: new Date(new Date().setHours(8, 0, 0, 0)),
            endTime: new Date(new Date().setHours(18, 0, 0, 0)),
            dataSource: [{
              id: 1,
              title: "ToplantÃ„Â± - YAÃ„ÂCILAR",
              start: new Date(new Date().setHours(10, 0, 0, 0)),
              end: new Date(new Date().setHours(11, 0, 0, 0)),
              description: "AylÃ„Â±k satÃ„Â±Ã…Å¸ toplantÃ„Â±sÃ„Â±"
            }, {
              id: 2,
              title: "Tanker Teslimi",
              start: new Date(new Date().setHours(14, 0, 0, 0)),
              end: new Date(new Date().setHours(15, 30, 0, 0)),
              description: "TEPEKUM Ã…Å¸ubesi tanker teslimi"
            }],
            views: [
              { type: "day", selected: true },
              { type: "week" },
              { type: "month" }
            ],
            height: 500
          });
          console.log("Ã¢Å“â€¦ #60 Scheduler baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #60 Scheduler hatasÃ„Â±:", e); }
        
        try {
          // #61 - Gantt
          $("#tanker-gantt-61").kendoGantt({
            dataSource: [{
              id: 1,
              orderId: 0,
              parentId: null,
              title: "Proje BaÃ…Å¸langÃ„Â±cÃ„Â±",
              start: new Date("2024-01-01"),
              end: new Date("2024-01-05"),
              percentComplete: 100
            }, {
              id: 2,
              orderId: 1,
              parentId: null,
              title: "SatÃ„Â±Ã…Å¸ Planlama",
              start: new Date("2024-01-06"),
              end: new Date("2024-01-15"),
              percentComplete: 75
            }, {
              id: 3,
              orderId: 2,
              parentId: 2,
              title: "YAÃ„ÂCILAR Ã…Âubesi",
              start: new Date("2024-01-06"),
              end: new Date("2024-01-10"),
              percentComplete: 100
            }, {
              id: 4,
              orderId: 3,
              parentId: 2,
              title: "TEPEKUM Ã…Âubesi",
              start: new Date("2024-01-11"),
              end: new Date("2024-01-15"),
              percentComplete: 50
            }],
            dependencies: [{
              id: 1,
              predecessorId: 1,
              successorId: 2,
              type: 0
            }],
            height: 400
          });
          console.log("Ã¢Å“â€¦ #61 Gantt baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #61 Gantt hatasÃ„Â±:", e); }
        
        // FÃ„Â°LTRE VE SIRALAMA
        try {
          // #64 - Sortable
          $("#tanker-sortable-64").kendoSortable({
            hint: function(element) { return element.clone().css("opacity", 0.5); }
          });
          console.log("Ã¢Å“â€¦ #64 Sortable baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #64 Sortable hatasÃ„Â±:", e); }
        
        try {
          // #65 - Draggable
          $("#tanker-draggable-65").kendoDraggable({
            hint: function(element) { return element.clone().css("opacity", 0.5); }
          });
          console.log("Ã¢Å“â€¦ #65 Draggable baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #65 Draggable hatasÃ„Â±:", e); }
        
        try {
          // #66 - DropTarget
          $("#tanker-drop-target-66").kendoDropTarget({
            drop: function(e) { $(this).text("BÃ„Â±rakÃ„Â±ldÃ„Â±!"); }
          });
          $("#tanker-draggable-for-drop-66").kendoDraggable({
            hint: function(element) { return element.clone().css("opacity", 0.5); }
          });
          console.log("Ã¢Å“â€¦ #66 DropTarget baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #66 DropTarget hatasÃ„Â±:", e); }
        
        // DÃ„Â°Ã„ÂER BÃ„Â°LEÃ…ÂENLER
        try {
          // #67 - Popup
          var popup = $("#tanker-popup-67").kendoPopup({
            anchor: "#tanker-popup-toggle-67",
            origin: "bottom left",
            collision: "fit"
          }).data("kendoPopup");
          $("#tanker-popup-toggle-67").click(function() {
            popup.toggle();
          });
          console.log("Ã¢Å“â€¦ #67 Popup baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #67 Popup hatasÃ„Â±:", e); }
        
        try {
          // #68 - Validator
          $("#tanker-validator-form-68").kendoValidator();
          console.log("Ã¢Å“â€¦ #68 Validator baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #68 Validator hatasÃ„Â±:", e); }
        
        try {
          // #85 - Pager
          $("#tanker-pager-85").kendoPager({
            dataSource: {
              data: new Array(100),
              pageSize: 10,
              total: 100
            }
          });
          console.log("Ã¢Å“â€¦ #85 Pager baÃ…Å¸latÃ„Â±ldÃ„Â±");
        } catch(e) { console.error("Ã¢ÂÅ’ #85 Pager hatasÃ„Â±:", e); }
        
        console.log("Ã¢Å“â€¦ Tanker sayfasÃ„Â± bileÃ…Å¸enleri baÃ…Å¸latma tamamlandÃ„Â±!");
      } catch(error) {
        console.error("Ã¢ÂÅ’ Tanker sayfasÃ„Â± bileÃ…Å¸enleri baÃ…Å¸latÃ„Â±lÃ„Â±rken genel hata:", error);
      }
    }
    
    // TANKER OVERRIDE KALDIRILDI - Ã…Âu an kullanÃ„Â±lmÃ„Â±yor, operasyon override'Ã„Â±nÃ„Â± bozuyordu
    // var originalShowPageOnlyTanker = window.showPageOnly;
    // if (typeof originalShowPageOnlyTanker === 'function') {
    //   window.showPageOnly = function(pageId) {
    //     originalShowPageOnlyTanker(pageId);
    //     if (pageId === 'tanker') {
    //       setTimeout(function() {
    //         if ($("#main-content-tanker").is(":visible")) {
    //           console.log("ÄŸÅ¸Å¡â‚¬ Tanker sayfasÃ„Â± gÃƒÂ¶sterildi, bileÃ…Å¸enler baÃ…Å¸latÃ„Â±lÃ„Â±yor...");
    //           initTankerBilesenleri();
    //         }
    //       }, 300);
    //     }
    //   };
    // }
    
    // TabStrip select event'inde de kontrol et
    if (typeof tabStrip !== 'undefined' && tabStrip) {
      tabStrip.bind("select", function(e) {
        var tabItem = $(e.item);
        var tabId = tabItem.attr("data-tab-id");
        var tabText = tabItem.text() || tabItem.html() || "";
        
        if (!tabId && tabText.indexOf("Tanker") >= 0) {
          tabId = "tanker";
        }
        
        if (tabId === "tanker") {
          // Tanker sayfasi artik bos; ek islem yok.
        }
      });
    }
    
    // Ribbon buton tÃ„Â±klamasÃ„Â±nda da kontrol et
    $(document).on("click", ".ribbon-button", function() {
      var buttonText = $(this).text().trim();
      if (buttonText === "Tanker" || buttonText.includes("Tanker")) {
        // Tanker sayfasi artik bos; ek islem yok.
      }
    });
    
    // Sayfa yÃƒÂ¼klendiÃ„Å¸inde eÃ„Å¸er Tanker sayfasÃ„Â± aÃƒÂ§Ã„Â±ksa baÃ…Å¸lat
    $(document).ready(function() {
      setTimeout(function() {
        // Tanker sayfasi artik bos; ek islem yok.
      }, 1000);
    });
    
    // ============================================
    // FÃ„Â°YAT DEÃ„ÂÃ„Â°Ã…ÂÃ„Â°MÃ„Â° SAYFASI - TELERÃ„Â°K BÃ„Â°LEÃ…ÂENLER REFERANS TABLOSU
    // ============================================
    function initFiyatDegisimiBilesenlerTablosu() {
      try {
        console.log("ÄŸÅ¸Å¡â‚¬ Fiyat DeÃ„Å¸iÃ…Å¸imi referans tablosu baÃ…Å¸latÃ„Â±lÃ„Â±yor...");
        
        // EÃ„Å¸er Grid zaten varsa destroy et
        var existingGrid = $("#telerik-bilesenler-tablo").data("kendoGrid");
        if (existingGrid) {
          existingGrid.destroy();
        }
        
        // TÃƒÂ¼m Telerik bileÃ…Å¸enleri listesi
        var bilesenler = [
          // VERÃ„Â° YÃƒâ€“NETÃ„Â°MÃ„Â° (1-6)
          {numara: 1, ad: "Grid", kategori: "Veri YÃƒÂ¶netimi", aciklama: "Veri tablosu - SÃ„Â±ralama, filtreleme, sayfalama, Excel/PDF export", ornek: "grid"},
          {numara: 2, ad: "PivotGrid", kategori: "Veri YÃƒÂ¶netimi", aciklama: "Ãƒâ€“zet tablo - Excel PivotTable gibi ÃƒÂ§ok boyutlu analiz", ornek: "pivotgrid"},
          {numara: 3, ad: "Spreadsheet", kategori: "Veri YÃƒÂ¶netimi", aciklama: "Excel benzeri tablo - FormÃƒÂ¼l yazma, hesaplama", ornek: "spreadsheet"},
          {numara: 4, ad: "TreeList", kategori: "Veri YÃƒÂ¶netimi", aciklama: "HiyerarÃ…Å¸ik tablo - Kategori ve alt kategoriler", ornek: "treelist"},
          {numara: 5, ad: "ListView", kategori: "Veri YÃƒÂ¶netimi", aciklama: "Kart gÃƒÂ¶rÃƒÂ¼nÃƒÂ¼mÃƒÂ¼ - Instagram/Facebook gibi liste", ornek: "listview"},
          {numara: 6, ad: "DataSource", kategori: "Veri YÃƒÂ¶netimi", aciklama: "Veri kaynaÃ„Å¸Ã„Â± yÃƒÂ¶netimi - JavaScript yardÃ„Â±mcÃ„Â±", ornek: "datasource"},
          
          // NAVÃ„Â°GASYON (7-16)
          {numara: 7, ad: "Menu", kategori: "Navigasyon", aciklama: "AÃƒÂ§Ã„Â±lÃ„Â±r menÃƒÂ¼ - ÃƒÅ“st menÃƒÂ¼, alt menÃƒÂ¼ler", ornek: "menu"},
          {numara: 8, ad: "TabStrip", kategori: "Navigasyon", aciklama: "Sekmeler - Tab sistemi, sayfa geÃƒÂ§iÃ…Å¸leri", ornek: "tabstrip"},
          {numara: 9, ad: "TreeView", kategori: "Navigasyon", aciklama: "AÃ„Å¸aÃƒÂ§ gÃƒÂ¶rÃƒÂ¼nÃƒÂ¼mÃƒÂ¼ - KlasÃƒÂ¶r yapÃ„Â±sÃ„Â±, hiyerarÃ…Å¸i", ornek: "treeview"},
          {numara: 10, ad: "PanelBar", kategori: "Navigasyon", aciklama: "AÃƒÂ§Ã„Â±lÃ„Â±r paneller - Detay panelleri, ayarlar", ornek: "panelbar"},
          {numara: 11, ad: "Breadcrumb", kategori: "Navigasyon", aciklama: "Sayfa yolu - Ana Sayfa > Ã…Âubeler > YAÃ„ÂCILAR", ornek: "breadcrumb"},
          {numara: 12, ad: "Toolbar", kategori: "Navigasyon", aciklama: "AraÃƒÂ§ ÃƒÂ§ubuÃ„Å¸u - Kaydet, Sil, YazdÃ„Â±r butonlarÃ„Â±", ornek: "toolbar"},
          {numara: 13, ad: "Splitter", kategori: "Navigasyon", aciklama: "Ekran bÃƒÂ¶lÃƒÂ¼cÃƒÂ¼ - Sol liste, saÃ„Å¸ detay", ornek: "splitter"},
          {numara: 14, ad: "ResponsivePanel", kategori: "Navigasyon", aciklama: "DuyarlÃ„Â± panel - Mobil menÃƒÂ¼ paneli", ornek: "responsivepanel"},
          {numara: 15, ad: "Drawer", kategori: "Navigasyon", aciklama: "Yan ÃƒÂ§ekmece - Mobil ÃƒÂ§ekmece menÃƒÂ¼", ornek: "drawer"},
          {numara: 16, ad: "Stepper", kategori: "Navigasyon", aciklama: "AdÃ„Â±m gÃƒÂ¶stergesi - Ãƒâ€¡ok adÃ„Â±mlÃ„Â± formlar", ornek: "stepper"},
          
          // DÃƒÅ“ZENLEYÃ„Â°CÃ„Â°LER (17-35)
          {numara: 17, ad: "DatePicker", kategori: "DÃƒÂ¼zenleyici", aciklama: "Tarih seÃƒÂ§ici - Takvimden tarih seÃƒÂ§me", ornek: "datepicker"},
          {numara: 18, ad: "DateTimePicker", kategori: "DÃƒÂ¼zenleyici", aciklama: "Tarih + Saat seÃƒÂ§ici - Randevu tarihi + saati", ornek: "datetimepicker"},
          {numara: 19, ad: "TimePicker", kategori: "DÃƒÂ¼zenleyici", aciklama: "Saat seÃƒÂ§ici - Sadece saat seÃƒÂ§imi", ornek: "timepicker"},
          {numara: 20, ad: "Calendar", kategori: "DÃƒÂ¼zenleyici", aciklama: "Takvim - Tam takvim gÃƒÂ¶rÃƒÂ¼nÃƒÂ¼mÃƒÂ¼", ornek: "calendar"},
          {numara: 21, ad: "ComboBox", kategori: "DÃƒÂ¼zenleyici", aciklama: "Dropdown + Arama - Ã…Âube seÃƒÂ§imi, yazarken filtreleme", ornek: "combobox"},
          {numara: 22, ad: "DropDownList", kategori: "DÃƒÂ¼zenleyici", aciklama: "Dropdown liste - Durum seÃƒÂ§imi (Aktif/Pasif)", ornek: "dropdownlist"},
          {numara: 23, ad: "MultiSelect", kategori: "DÃƒÂ¼zenleyici", aciklama: "Ãƒâ€¡oklu seÃƒÂ§im - Birden fazla Ã…Å¸ube seÃƒÂ§imi", ornek: "multiselect"},
          {numara: 24, ad: "AutoComplete", kategori: "DÃƒÂ¼zenleyici", aciklama: "Otomatik tamamlama - Firma adÃ„Â± arama", ornek: "autocomplete"},
          {numara: 25, ad: "NumericTextBox", kategori: "DÃƒÂ¼zenleyici", aciklama: "SayÃ„Â± giriÃ…Å¸i - Miktar, fiyat (sadece sayÃ„Â±)", ornek: "numerictextbox"},
          {numara: 26, ad: "MaskedTextBox", kategori: "DÃƒÂ¼zenleyici", aciklama: "Maskeli metin - Telefon, TC kimlik formatÃ„Â±", ornek: "maskedtextbox"},
          {numara: 27, ad: "Editor", kategori: "DÃƒÂ¼zenleyici", aciklama: "Metin editÃƒÂ¶rÃƒÂ¼ - Word benzeri zengin metin", ornek: "editor"},
          {numara: 28, ad: "ColorPicker", kategori: "DÃƒÂ¼zenleyici", aciklama: "Renk seÃƒÂ§ici - Renk paletinden seÃƒÂ§im", ornek: "colorpicker"},
          {numara: 29, ad: "FlatColorPicker", kategori: "DÃƒÂ¼zenleyici", aciklama: "DÃƒÂ¼z renk seÃƒÂ§ici - Basit renk seÃƒÂ§imi", ornek: "flatcolorpicker"},
          {numara: 30, ad: "ColorPalette", kategori: "DÃƒÂ¼zenleyici", aciklama: "Renk paleti - Ãƒâ€“nceden tanÃ„Â±mlÃ„Â± renkler", ornek: "colorpalette"},
          {numara: 31, ad: "Slider", kategori: "DÃƒÂ¼zenleyici", aciklama: "KaydÃ„Â±rÃ„Â±cÃ„Â± - DeÃ„Å¸er seÃƒÂ§imi kaydÃ„Â±rarak", ornek: "slider"},
          {numara: 32, ad: "RangeSlider", kategori: "DÃƒÂ¼zenleyici", aciklama: "AralÃ„Â±k kaydÃ„Â±rÃ„Â±cÃ„Â± - Min-max deÃ„Å¸er seÃƒÂ§imi", ornek: "rangeslider"},
          {numara: 33, ad: "Rating", kategori: "DÃƒÂ¼zenleyici", aciklama: "YÃ„Â±ldÃ„Â±z puanlama - 1-5 yÃ„Â±ldÃ„Â±z deÃ„Å¸erlendirme", ornek: "rating"},
          {numara: 34, ad: "ListBox", kategori: "DÃƒÂ¼zenleyici", aciklama: "Liste kutusu - Ãƒâ€¡oklu seÃƒÂ§im listesi", ornek: "listbox"},
          {numara: 35, ad: "SearchBox", kategori: "DÃƒÂ¼zenleyici", aciklama: "Arama kutusu - Metin arama", ornek: "searchbox"},
          
          // GRAFÃ„Â°KLER (36-50)
          {numara: 36, ad: "Chart - Column", kategori: "Grafik", aciklama: "SÃƒÂ¼tun grafik - KarÃ…Å¸Ã„Â±laÃ…Å¸tÃ„Â±rma grafikleri", ornek: "chart-column"},
          {numara: 37, ad: "Chart - Line", kategori: "Grafik", aciklama: "Ãƒâ€¡izgi grafik - Zaman serisi, trend", ornek: "chart-line"},
          {numara: 38, ad: "Chart - Pie", kategori: "Grafik", aciklama: "Pasta grafik - Oran gÃƒÂ¶sterimi", ornek: "chart-pie"},
          {numara: 39, ad: "Chart - Area", kategori: "Grafik", aciklama: "Alan grafik - DoldurulmuÃ…Å¸ ÃƒÂ§izgi grafik", ornek: "chart-area"},
          {numara: 40, ad: "Chart - Bar", kategori: "Grafik", aciklama: "Ãƒâ€¡ubuk grafik - Yatay sÃƒÂ¼tun grafik", ornek: "chart-bar"},
          {numara: 41, ad: "StockChart", kategori: "Grafik", aciklama: "Hisse senedi grafik - Finansal grafikler", ornek: "stockchart"},
          {numara: 42, ad: "Sparkline", kategori: "Grafik", aciklama: "Mini grafik - KÃƒÂ¼ÃƒÂ§ÃƒÂ¼k inline grafikler", ornek: "sparkline"},
          {numara: 43, ad: "CircularGauge", kategori: "Grafik", aciklama: "Dairesel gÃƒÂ¶sterge - HÃ„Â±z gÃƒÂ¶stergesi gibi", ornek: "circulargauge"},
          {numara: 44, ad: "LinearGauge", kategori: "Grafik", aciklama: "DoÃ„Å¸rusal gÃƒÂ¶sterge - Yatay gÃƒÂ¶sterge", ornek: "lineargauge"},
          {numara: 45, ad: "ArcGauge", kategori: "Grafik", aciklama: "Yay gÃƒÂ¶sterge - YarÃ„Â± dairesel gÃƒÂ¶sterge", ornek: "arcgauge"},
          {numara: 46, ad: "RadialGauge", kategori: "Grafik", aciklama: "Radyal gÃƒÂ¶sterge - Merkezden dÃ„Â±Ã…Å¸a gÃƒÂ¶sterge", ornek: "radialgauge"},
          {numara: 47, ad: "Chart - Donut", kategori: "Grafik", aciklama: "Halka grafik - Ã„Â°ÃƒÂ§i boÃ…Å¸ pasta grafik", ornek: "chart-donut"},
          {numara: 48, ad: "Chart - Bubble", kategori: "Grafik", aciklama: "Baloncuk grafik - 3 boyutlu veri", ornek: "chart-bubble"},
          {numara: 49, ad: "Chart - Scatter", kategori: "Grafik", aciklama: "DaÃ„Å¸Ã„Â±lÃ„Â±m grafik - Ã„Â°liÃ…Å¸ki analizi", ornek: "chart-scatter"},
          {numara: 50, ad: "Chart - Radar", kategori: "Grafik", aciklama: "Radar grafik - Ãƒâ€¡oklu deÃ„Å¸iÃ…Å¸ken analizi", ornek: "chart-radar"},
          
          // DÃ„Â°Ã„ÂER BÃ„Â°LEÃ…ÂENLER (51-70)
          {numara: 51, ad: "Button", kategori: "DiÃ„Å¸er", aciklama: "Buton - TÃ„Â±klanabilir butonlar", ornek: "button"},
          {numara: 52, ad: "Window", kategori: "DiÃ„Å¸er", aciklama: "Pencere - Popup, modal pencereler", ornek: "window"},
          {numara: 53, ad: "Notification", kategori: "DiÃ„Å¸er", aciklama: "Bildirim - BaÃ…Å¸arÃ„Â±/hata mesajlarÃ„Â±", ornek: "notification"},
          {numara: 54, ad: "Tooltip", kategori: "DiÃ„Å¸er", aciklama: "Ã„Â°pucu - Hover'da aÃƒÂ§Ã„Â±klama", ornek: "tooltip"},
          {numara: 55, ad: "Upload", kategori: "DiÃ„Å¸er", aciklama: "Dosya yÃƒÂ¼kleme - Excel, resim yÃƒÂ¼kleme", ornek: "upload"},
          {numara: 56, ad: "ProgressBar", kategori: "DiÃ„Å¸er", aciklama: "Ã„Â°lerleme ÃƒÂ§ubuÃ„Å¸u - YÃƒÂ¼kleme gÃƒÂ¶stergesi", ornek: "progressbar"},
          {numara: 57, ad: "Scheduler", kategori: "DiÃ„Å¸er", aciklama: "PlanlayÃ„Â±cÃ„Â± - Takvim, randevu sistemi", ornek: "scheduler"},
          {numara: 58, ad: "Gantt", kategori: "DiÃ„Å¸er", aciklama: "Proje yÃƒÂ¶netimi - GÃƒÂ¶rev zaman ÃƒÂ§izelgesi", ornek: "gantt"},
          {numara: 59, ad: "Diagram", kategori: "DiÃ„Å¸er", aciklama: "Diyagram - AkÃ„Â±Ã…Å¸ Ã…Å¸emasÃ„Â±, Ã…Å¸ema ÃƒÂ§izimi", ornek: "diagram"},
          {numara: 60, ad: "Map", kategori: "DiÃ„Å¸er", aciklama: "Harita - CoÃ„Å¸rafi veri gÃƒÂ¶sterimi", ornek: "map"},
          {numara: 61, ad: "Barcode", kategori: "DiÃ„Å¸er", aciklama: "Barkod - Barkod oluÃ…Å¸turma", ornek: "barcode"},
          {numara: 62, ad: "QRCode", kategori: "DiÃ„Å¸er", aciklama: "QR Kod - QR kod oluÃ…Å¸turma", ornek: "qrcode"},
          {numara: 63, ad: "Signature", kategori: "DiÃ„Å¸er", aciklama: "Ã„Â°mza - Ã„Â°mza ÃƒÂ§izme", ornek: "signature"},
          {numara: 64, ad: "Badge", kategori: "DiÃ„Å¸er", aciklama: "Rozet - Bildirim sayÃ„Â±sÃ„Â±, etiket", ornek: "badge"},
          {numara: 65, ad: "Avatar", kategori: "DiÃ„Å¸er", aciklama: "Avatar - KullanÃ„Â±cÃ„Â± profil resmi", ornek: "avatar"},
          {numara: 66, ad: "Loader", kategori: "DiÃ„Å¸er", aciklama: "YÃƒÂ¼kleyici - YÃƒÂ¼kleme animasyonu", ornek: "loader"},
          {numara: 67, ad: "Skeleton", kategori: "DiÃ„Å¸er", aciklama: "Ã„Â°skelet - YÃƒÂ¼kleme placeholder", ornek: "skeleton"},
          {numara: 68, ad: "Pager", kategori: "DiÃ„Å¸er", aciklama: "Sayfalama - Sayfa numaralarÃ„Â±", ornek: "pager"},
          {numara: 69, ad: "Validator", kategori: "DiÃ„Å¸er", aciklama: "DoÃ„Å¸rulayÃ„Â±cÃ„Â± - Form validasyonu", ornek: "validator"},
          {numara: 70, ad: "Popup", kategori: "DiÃ„Å¸er", aciklama: "AÃƒÂ§Ã„Â±lÃ„Â±r pencere - KÃƒÂ¼ÃƒÂ§ÃƒÂ¼k popup", ornek: "popup"},
          {numara: 71, ad: "Sortable", kategori: "DiÃ„Å¸er", aciklama: "SÃ„Â±ralanabilir - SÃƒÂ¼rÃƒÂ¼kle-bÃ„Â±rak sÃ„Â±ralama", ornek: "sortable"},
          {numara: 72, ad: "Draggable", kategori: "DiÃ„Å¸er", aciklama: "SÃƒÂ¼rÃƒÂ¼klenebilir ÃƒÂ¶Ã„Å¸e - Bir ÃƒÂ¶Ã„Å¸eyi fare ile tutup sÃƒÂ¼rÃƒÂ¼kleyebilirsiniz (72 ve 73 birlikte kullanÃ„Â±lÃ„Â±r)", ornek: "draggable"},
          {numara: 73, ad: "DropTarget", kategori: "DiÃ„Å¸er", aciklama: "BÃ„Â±rakma alanÃ„Â± - SÃƒÂ¼rÃƒÂ¼klenen ÃƒÂ¶Ã„Å¸elerin bÃ„Â±rakÃ„Â±labileceÃ„Å¸i alanÃ„Â± tanÃ„Â±mlar (72 ve 73 birlikte kullanÃ„Â±lÃ„Â±r)", ornek: "droptarget"}
        ];
        
        // Grid tablosu oluÃ…Å¸tur
        $("#telerik-bilesenler-tablo").kendoGrid({
          dataSource: {
            data: bilesenler,
            pageSize: 20
          },
          columns: [
            { field: "numara", title: "#", width: 60, attributes: { style: "text-align:center;font-weight:bold;" } },
            { field: "ad", title: "BileÃ…Å¸en AdÃ„Â±", width: 200, attributes: { style: "font-weight:bold;color:#206d7d;" } },
            { field: "kategori", title: "Kategori", width: 150 },
            { field: "aciklama", title: "AÃƒÂ§Ã„Â±klama", width: 400 },
            { 
              title: "Ã„Â°Ã…Å¸lem", 
              width: 120,
              template: function(dataItem) {
                // 8, 9, 10 numaralÃ„Â± satÃ„Â±rlar iÃƒÂ§in buton gÃƒÂ¶sterme (ÃƒÂ¶rnekler sayfada)
                if (dataItem.numara === 8 || dataItem.numara === 9 || dataItem.numara === 10) {
                  return '<span style="color:#999;font-size:12px;">Sayfada gÃƒÂ¶steriliyor</span>';
                }
                return '<button class="k-button k-button-md k-button-solid k-button-solid-primary" onclick="gosterBilesenOrnegi(' + dataItem.numara + ', \'' + dataItem.ad + '\', \'' + dataItem.ornek + '\')">Ãƒâ€“rnek GÃƒÂ¶ster</button>';
              }
            }
          ],
          height: 600,
          scrollable: true,
          sortable: true,
          filterable: true,
          pageable: {
            pageSizes: [10, 20, 50, 100],
            buttonCount: 5
          },
          resizable: true,
          selectable: "row",
          change: function(e) {
            var selectedRow = this.dataItem(this.select());
            if (selectedRow) {
              console.log("SeÃƒÂ§ilen bileÃ…Å¸en:", selectedRow.ad);
              // SatÃ„Â±ra tÃ„Â±klayÃ„Â±nca otomatik ÃƒÂ¶rnek gÃƒÂ¶ster
              gosterBilesenOrnegi(selectedRow.numara, selectedRow.ad, selectedRow.ornek);
            }
          }
        });
        
        // Grid satÃ„Â±rlarÃ„Â±na direkt click event'i ekle - CALISAN VERSIYON
        var grid = $("#telerik-bilesenler-tablo").data("kendoGrid");
        $("#telerik-bilesenler-tablo").on("click", "tbody tr", function(e) {
          // Butona tÃ„Â±klama deÃ„Å¸ilse (buton dÃ„Â±Ã…Å¸Ã„Â±nda bir yere tÃ„Â±klanmÃ„Â±Ã…Å¸sa)
          if (!$(e.target).is("button") && !$(e.target).closest("button").length) {
            var row = $(this);
            var dataItem = grid.dataItem(row);
            if (dataItem) {
              console.log("SatÃ„Â±ra tÃ„Â±klandÃ„Â±:", dataItem.ad);
              // Ãƒâ€“rnek gÃƒÂ¶ster
              gosterBilesenOrnegi(dataItem.numara, dataItem.ad, dataItem.ornek);
            }
          }
        });
        
        console.log("Ã¢Å“â€¦ Fiyat DeÃ„Å¸iÃ…Å¸imi referans tablosu baÃ…Å¸latÃ„Â±ldÃ„Â± - " + bilesenler.length + " bileÃ…Å¸en");
      } catch(error) {
        console.error("Ã¢ÂÅ’ Fiyat DeÃ„Å¸iÃ…Å¸imi referans tablosu hatasÃ„Â±:", error);
      }
    }
    
    // BileÃ…Å¸en ÃƒÂ¶rneÃ„Å¸i gÃƒÂ¶sterme fonksiyonu
    function gosterBilesenOrnegi(numara, ad, ornekTip) {
      try {
        console.log("BileÃ…Å¸en ÃƒÂ¶rneÃ„Å¸i gÃƒÂ¶steriliyor:", numara, ad, ornekTip);
        $("#bilesen-ornek-baslik").text("#" + numara + " - " + ad + " Ãƒâ€“rneÃ„Å¸i");
        $("#bilesen-ornek-container").empty();
        
        var containerId = "ornek-" + ornekTip + "-" + numara;
        $("#bilesen-ornek-container").html('<div id="' + containerId + '" style="min-height:300px;width:100%;"></div>');
        
        // Ãƒâ€“rnek oluÃ…Å¸tur (tÃƒÂ¼m bileÃ…Å¸enler iÃƒÂ§in)
        switch(ornekTip) {
          case "grid":
            $("#" + containerId).kendoGrid({
              dataSource: {
                data: [
                  {id: 1, sube: "YAÃ„ÂCILAR", urun: "Motorin", miktar: 125000, fiyat: 25.50, tutar: 3187500},
                  {id: 2, sube: "TEPEKUM", urun: "Benzin", miktar: 85000, fiyat: 28.75, tutar: 2443750}
                ]
              },
              columns: [
                {field: "id", title: "ID", width: 60},
                {field: "sube", title: "Ã…Âube", width: 120},
                {field: "urun", title: "ÃƒÅ“rÃƒÂ¼n", width: 100},
                {field: "miktar", title: "Miktar", width: 100, format: "{0:n0}"},
                {field: "fiyat", title: "Fiyat", width: 100, format: "{0:n2} TL"},
                {field: "tutar", title: "Tutar", width: 120, format: "{0:n2} TL"}
              ],
              height: 300,
              sortable: true,
              filterable: true,
              pageable: {pageSize: 5}
            });
            break;
          case "pivotgrid":
            $("#" + containerId).kendoPivotGrid({
              dataSource: {
                data: [
                  {sube: "YAÃ„ÂCILAR", urun: "Motorin", ay: "Ocak", miktar: 125000, tutar: 3187500},
                  {sube: "TEPEKUM", urun: "Benzin", ay: "Ocak", miktar: 85000, tutar: 2443750}
                ],
                columns: [{name: "urun", expand: true}],
                rows: [{name: "sube", expand: true}],
                measures: [{values: [{field: "miktar", aggregate: "sum"}], format: "{0:n0} L"}]
              },
              height: 300
            });
            break;
          case "spreadsheet":
            $("#" + containerId).kendoSpreadsheet({
              sheets: [{
                name: "Ãƒâ€“rnek",
                rows: [{
                  cells: [
                    {value: "Ã…Âube"}, {value: "Miktar"}, {value: "Fiyat"}, {formula: "B1*C1"}
                  ]
                }, {
                  cells: [
                    {value: "YAÃ„ÂCILAR"}, {value: 100000}, {value: 25.50}, {formula: "B2*C2"}
                  ]
                }]
              }],
              height: 300
            });
            break;
          case "treelist":
            $("#" + containerId).kendoTreeList({
              dataSource: {
                data: [
                  {id: 1, sube: "YAÃ„ÂCILAR", miktar: 210000, parentId: null},
                  {id: 2, sube: "Motorin", miktar: 125000, parentId: 1}
                ],
                schema: {model: {id: "id", parentId: "parentId"}}
              },
              columns: [
                {field: "sube", title: "Ã…Âube/ÃƒÅ“rÃƒÂ¼n", width: 200, expandable: true},
                {field: "miktar", title: "Miktar", width: 120, format: "{0:n0}"}
              ],
              height: 300
            });
            break;
          case "listview":
            $("#" + containerId).kendoListView({
              dataSource: {
                data: [
                  {id: 1, ad: "YAÃ„ÂCILAR", miktar: 125000},
                  {id: 2, ad: "TEPEKUM", miktar: 85000}
                ]
              },
              template: "<div class=\"k-card\" style=\"padding:10px;margin:5px;border:1px solid #ddd;\">#:ad# - #:miktar# L</div>",
              height: 300
            });
            break;
          case "menu":
            // Menu ÃƒÂ¶rneÃ„Å¸i - RESIMDEKI GIBI BASIT TABLO
            var menuData = [
              {id: 1, menuText: "Ã…Âubeler"},
              {id: 2, menuText: "ÃƒÅ“rÃƒÂ¼nler"},
              {id: 3, menuText: "Firmalar"},
              {id: 4, menuText: "SatÃ„Â±Ã…Å¸ Raporu"},
              {id: 5, menuText: "Stok Raporu"},
              {id: 6, menuText: "Gelir Raporu"},
              {id: 7, menuText: "SatÃ„Â±Ã…Å¸"},
              {id: 8, menuText: "AlÃ„Â±Ã…Å¸"}
            ];
            
            // Ãƒâ€“nce eski Grid'i destroy et
            var oldGrid = $("#menu-grid-" + numara).data("kendoGrid");
            if (oldGrid) {
              oldGrid.destroy();
            }
            // Eski click event'lerini temizle
            $("#menu-grid-" + numara).off("click", "tbody tr");
            
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€œâ€¹ Menu Ãƒâ€“rneÃ„Å¸i</h3><p style="margin:0 0 20px 0;color:#666;">MenÃƒÂ¼ ÃƒÂ¶Ã„Å¸elerine tÃ„Â±klayÃ„Â±n, her tÃ„Â±klamada bildirim gÃƒÂ¶receksiniz. MantÃ„Â±Ã„Å¸Ã„Â± anlamak iÃƒÂ§in tÃ„Â±klayÃ„Â±n!</p><div id="menu-grid-' + numara + '" style="width:100%;"></div><div id="menu-aciklama-' + numara + '" style="margin-top:20px;padding:15px;background:#f5f5f5;border-radius:5px;display:none;"></div></div>');
            
            setTimeout(function() {
              if (typeof kendo !== 'undefined' && typeof $.fn.kendoGrid !== 'undefined') {
                var grid = $("#menu-grid-" + numara).kendoGrid({
                  dataSource: {
                    data: menuData,
                    schema: {
                      model: {
                        fields: {
                          id: { type: "number" },
                          menuText: { type: "string" }
                        }
                      }
                    }
                  },
                  columns: [
                    { field: "id", title: "#", width: 60 },
                    { field: "menuText", title: "MENÃƒÅ“ Ãƒâ€“Ã„ÂESÃ„Â°", width: 200 }
                  ],
                  height: 400,
                  sortable: true,
                  selectable: "row"
                }).data("kendoGrid");
                
                // Grid satÃ„Â±rlarÃ„Â±na direkt click event'i ekle - RESIMDEKI GIBI
                $("#menu-grid-" + numara).on("click", "tbody tr", function(e) {
                  var row = $(this);
                  var dataItem = grid.dataItem(row);
                  
                  if (dataItem) {
                    var menuText = dataItem.menuText;
                    console.log("MenÃƒÂ¼ tÃ„Â±klandÃ„Â±:", menuText);
                    
                    // TÃ„Â±klanan menÃƒÂ¼ ÃƒÂ¶Ã„Å¸esine gÃƒÂ¶re aÃƒÂ§Ã„Â±klama metni gÃƒÂ¶ster
                    var aciklama = "";
                    
                    if (menuText === "Ã…Âubeler") {
                      aciklama = "<strong>Ã…Âubeler</strong> menÃƒÂ¼sÃƒÂ¼ne tÃ„Â±klandÃ„Â±!<br><br>Projede 'Ã…Âubeler' alanÃ„Â± yapÃ„Â±nca:<br><code>showPageOnly('subeler');</code>";
                    } else if (menuText === "ÃƒÅ“rÃƒÂ¼nler") {
                      aciklama = "<strong>ÃƒÅ“rÃƒÂ¼nler</strong> menÃƒÂ¼sÃƒÂ¼ne tÃ„Â±klandÃ„Â±!<br><br>Projede 'ÃƒÅ“rÃƒÂ¼nler' alanÃ„Â± yapÃ„Â±nca:<br><code>showPageOnly('urunler');</code>";
                    } else if (menuText === "Firmalar") {
                      aciklama = "<strong>Firmalar</strong> menÃƒÂ¼sÃƒÂ¼ne tÃ„Â±klandÃ„Â±!<br><br>Projede 'Firmalar' alanÃ„Â± yapÃ„Â±nca:<br><code>showPageOnly('firmalar');</code>";
                    } else if (menuText === "SatÃ„Â±Ã…Å¸ Raporu") {
                      aciklama = "<strong>SatÃ„Â±Ã…Å¸ Raporu</strong> menÃƒÂ¼sÃƒÂ¼ne tÃ„Â±klandÃ„Â±!<br><br>Projede 'SatÃ„Â±Ã…Å¸ Raporu' alanÃ„Â± yapÃ„Â±nca:<br><code>showPageOnly('satis-raporu');</code>";
                    } else if (menuText === "Stok Raporu") {
                      aciklama = "<strong>Stok Raporu</strong> menÃƒÂ¼sÃƒÂ¼ne tÃ„Â±klandÃ„Â±!<br><br>Projede 'Stok Raporu' alanÃ„Â± yapÃ„Â±nca:<br><code>showPageOnly('stok-raporu');</code>";
                    } else if (menuText === "Gelir Raporu") {
                      aciklama = "<strong>Gelir Raporu</strong> menÃƒÂ¼sÃƒÂ¼ne tÃ„Â±klandÃ„Â±!<br><br>Projede 'Gelir Raporu' alanÃ„Â± yapÃ„Â±nca:<br><code>showPageOnly('gelir-raporu');</code>";
                    } else if (menuText === "SatÃ„Â±Ã…Å¸") {
                      aciklama = "<strong>SatÃ„Â±Ã…Å¸</strong> menÃƒÂ¼sÃƒÂ¼ne tÃ„Â±klandÃ„Â±!<br><br>Projede 'SatÃ„Â±Ã…Å¸' alanÃ„Â± yapÃ„Â±nca:<br><code>showPageOnly('satis');</code>";
                    } else if (menuText === "AlÃ„Â±Ã…Å¸") {
                      aciklama = "<strong>AlÃ„Â±Ã…Å¸</strong> menÃƒÂ¼sÃƒÂ¼ne tÃ„Â±klandÃ„Â±!<br><br>Projede 'AlÃ„Â±Ã…Å¸' alanÃ„Â± yapÃ„Â±nca:<br><code>showPageOnly('alis');</code>";
                    } else {
                      aciklama = "<strong>" + menuText + "</strong> menÃƒÂ¼sÃƒÂ¼ne tÃ„Â±klandÃ„Â±!";
                    }
                    
                    // AÃƒÂ§Ã„Â±klama metnini gÃƒÂ¶ster (bildirim yerine tablonun altÃ„Â±nda)
                    var aciklamaDiv = $("#menu-aciklama-" + numara);
                    aciklamaDiv.html(aciklama);
                    if (aciklamaDiv.is(":hidden")) {
                      aciklamaDiv.slideDown(200);
                    } else {
                      aciklamaDiv.fadeOut(100, function() {
                        $(this).fadeIn(200);
                      });
                    }
                  }
                });
                
                console.log("Ã¢Å“â€¦ Menu Grid baÃ…Å¸arÃ„Â±yla oluÃ…Å¸turuldu");
              }
            }, 200);
            break;
          case "tabstrip":
            // TabStrip ÃƒÂ¶rneÃ„Å¸i - CALISAN VERSIYON (HEMEN OLUSTUR)
            var containerElement = $("#" + containerId);
            if (containerElement.length === 0) {
              console.error("Ã¢ÂÅ’ Container elementi bulunamadÃ„Â±:", containerId);
              break;
            }
            
            containerElement.html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€œâ€˜ TabStrip Ãƒâ€“rneÃ„Å¸i</h3><p style="margin:0 0 20px 0;color:#666;">Sekmelere tÃ„Â±klayarak iÃƒÂ§erikleri deÃ„Å¸iÃ…Å¸tirebilirsiniz.</p><div id="tabstrip-' + numara + '" style="width:100%;min-height:300px;"></div></div>');
            
            // TabStrip'i hemen oluÃ…Å¸tur (setTimeout yok)
            if (typeof kendo !== 'undefined' && typeof $.fn.kendoTabStrip !== 'undefined') {
              try {
                var tabstripElement = $("#tabstrip-" + numara);
                if (tabstripElement.length === 0) {
                  console.error("Ã¢ÂÅ’ TabStrip elementi bulunamadÃ„Â±:", "tabstrip-" + numara);
                  break;
                }
                
                // EÃ„Å¸er daha ÃƒÂ¶nce oluÃ…Å¸turulmuÃ…Å¸sa destroy et
                if (tabstripElement.data("kendoTabStrip")) {
                  tabstripElement.data("kendoTabStrip").destroy();
                }
                
                tabstripElement.kendoTabStrip({
                  animation: {
                    open: { effects: "fadeIn", duration: 200 }
                  },
                  select: function(e) {
                    var tabText = $(e.item).text();
                    console.log("TabStrip tab tÃ„Â±klandÃ„Â±:", tabText);
                  },
                  items: [
                    {
                      text: "Ã…Âubeler",
                      content: '<div style="padding:20px;"><h4 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€œâ€¹ Ã…Âubeler</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">YAÃ„ÂCILAR</li><li style="margin:8px 0;">TEPEKUM</li><li style="margin:8px 0;">NAMDAR</li><li style="margin:8px 0;">Ã…ÂEKER</li></ul><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-radius:4px;"><strong>ÄŸÅ¸â€™Â¡ Projede kullanÃ„Â±m:</strong><br><code>showPageOnly(\'subeler\');</code></p></div>'
                    },
                    {
                      text: "ÃƒÅ“rÃƒÂ¼nler",
                      content: '<div style="padding:20px;"><h4 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€œÂ¦ ÃƒÅ“rÃƒÂ¼nler</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">Motorin</li><li style="margin:8px 0;">Benzin</li><li style="margin:8px 0;">Mazot</li></ul><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-radius:4px;"><strong>ÄŸÅ¸â€™Â¡ Projede kullanÃ„Â±m:</strong><br><code>showPageOnly(\'urunler\');</code></p></div>'
                    },
                    {
                      text: "Firmalar",
                      content: '<div style="padding:20px;"><h4 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸ÂÂ¢ Firmalar</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">Firma 1</li><li style="margin:8px 0;">Firma 2</li><li style="margin:8px 0;">Firma 3</li></ul><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-radius:4px;"><strong>ÄŸÅ¸â€™Â¡ Projede kullanÃ„Â±m:</strong><br><code>showPageOnly(\'firmalar\');</code></p></div>'
                    }
                  ]
                });
                console.log("Ã¢Å“â€¦ TabStrip baÃ…Å¸arÃ„Â±yla oluÃ…Å¸turuldu:", numara);
              } catch(error) {
                console.error("Ã¢ÂÅ’ TabStrip oluÃ…Å¸turulurken hata:", error);
              }
            } else {
              console.error("Ã¢ÂÅ’ Telerik TabStrip yÃƒÂ¼klenmedi");
            }
            break;
          case "treeview":
            $("#" + containerId).kendoTreeView({
              dataSource: [
                {text: "YAÃ„ÂCILAR", items: [{text: "Motorin"}, {text: "Benzin"}]},
                {text: "TEPEKUM"}
              ]
            });
            break;
          case "panelbar":
            // PanelBar ÃƒÂ¶rneÃ„Å¸i - CALISAN VERSIYON (HEMEN OLUSTUR)
            var containerElement = $("#" + containerId);
            if (containerElement.length === 0) {
              console.error("Ã¢ÂÅ’ Container elementi bulunamadÃ„Â±:", containerId);
              break;
            }
            
            containerElement.html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€œâ€¹ PanelBar Ãƒâ€“rneÃ„Å¸i</h3><p style="margin:0 0 20px 0;color:#666;">Panellere tÃ„Â±klayarak aÃƒÂ§Ã„Â±p kapatabilirsiniz.</p><div id="panelbar-' + numara + '" style="width:100%;"></div></div>');
            
            // PanelBar'i hemen oluÃ…Å¸tur (setTimeout yok)
            if (typeof kendo !== 'undefined' && typeof $.fn.kendoPanelBar !== 'undefined') {
              try {
                var panelbarElement = $("#panelbar-" + numara);
                if (panelbarElement.length === 0) {
                  console.error("Ã¢ÂÅ’ PanelBar elementi bulunamadÃ„Â±:", "panelbar-" + numara);
                  break;
                }
                
                // EÃ„Å¸er daha ÃƒÂ¶nce oluÃ…Å¸turulmuÃ…Å¸sa destroy et
                if (panelbarElement.data("kendoPanelBar")) {
                  panelbarElement.data("kendoPanelBar").destroy();
                }
                
                panelbarElement.kendoPanelBar({
                  expandMode: "multiple",
                  items: [
                    {
                      text: "ÄŸÅ¸â€œâ€¹ Ã…Âubeler",
                      content: '<div style="padding:20px;"><h4 style="margin:0 0 15px 0;color:#206d7d;">Ã…Âube Listesi</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">YAÃ„ÂCILAR</li><li style="margin:8px 0;">TEPEKUM</li><li style="margin:8px 0;">NAMDAR</li><li style="margin:8px 0;">Ã…ÂEKER</li></ul><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-radius:4px;"><strong>ÄŸÅ¸â€™Â¡ Projede kullanÃ„Â±m:</strong><br><code>showPageOnly(\'subeler\');</code></p></div>'
                    },
                    {
                      text: "ÄŸÅ¸â€œÂ¦ ÃƒÅ“rÃƒÂ¼nler",
                      content: '<div style="padding:20px;"><h4 style="margin:0 0 15px 0;color:#206d7d;">ÃƒÅ“rÃƒÂ¼n Listesi</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">Motorin</li><li style="margin:8px 0;">Benzin</li><li style="margin:8px 0;">Mazot</li></ul><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-radius:4px;"><strong>ÄŸÅ¸â€™Â¡ Projede kullanÃ„Â±m:</strong><br><code>showPageOnly(\'urunler\');</code></p></div>'
                    },
                    {
                      text: "ÄŸÅ¸ÂÂ¢ Firmalar",
                      content: '<div style="padding:20px;"><h4 style="margin:0 0 15px 0;color:#206d7d;">Firma Listesi</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">Firma 1</li><li style="margin:8px 0;">Firma 2</li><li style="margin:8px 0;">Firma 3</li></ul><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-radius:4px;"><strong>ÄŸÅ¸â€™Â¡ Projede kullanÃ„Â±m:</strong><br><code>showPageOnly(\'firmalar\');</code></p></div>'
                    }
                  ]
                });
                console.log("Ã¢Å“â€¦ PanelBar baÃ…Å¸arÃ„Â±yla oluÃ…Å¸turuldu:", numara);
              } catch(error) {
                console.error("Ã¢ÂÅ’ PanelBar oluÃ…Å¸turulurken hata:", error);
              }
            } else {
              console.error("Ã¢ÂÅ’ Telerik PanelBar yÃƒÂ¼klenmedi");
            }
            break;
          case "breadcrumb":
            $("#" + containerId).kendoBreadcrumb({
              items: [
                {text: "Ana Sayfa", type: "rootItem"},
                {text: "Ã…Âubeler", type: "item"},
                {text: "YAÃ„ÂCILAR", type: "item"}
              ]
            });
            break;
          case "toolbar":
            try {
              $("#" + containerId).kendoToolBar({
                items: [
                  {type: "button", text: "Kaydet"},
                  {type: "button", text: "Sil"},
                  {type: "button", text: "YazdÃ„Â±r"}
                ]
              });
            } catch(e) {
              // ToolBar yoksa alternatif gÃƒÂ¶ster
              $("#" + containerId).html('<div style="padding:10px;"><button class="k-button">Kaydet</button> <button class="k-button">Sil</button> <button class="k-button">YazdÃ„Â±r</button></div>');
            }
            break;
          case "splitter":
            // Ãƒâ€“nce basit HTML gÃƒÂ¶ster, sonra Splitter baÃ…Å¸lat
            $("#" + containerId).html('<div id="splitter-wrapper-' + numara + '" style="width:100%;height:500px;border:1px solid #ddd;background:#f9f9f9;"><div style="display:flex;height:100%;"><div id="splitter-left-' + numara + '" style="width:250px;background:#e3f2fd;padding:15px;border-right:3px solid #1976d2;overflow:auto;"><h3 style="margin:0 0 15px 0;color:#1976d2;">ÄŸÅ¸â€œâ€¹ SOL PANEL</h3><p style="margin:0 0 10px 0;font-weight:bold;">Ã…Âube Listesi:</p><ul style="margin:0;padding-left:20px;"><li style="margin:5px 0;">YAÃ„ÂCILAR</li><li style="margin:5px 0;">TEPEKUM</li><li style="margin:5px 0;">NAMDAR</li><li style="margin:5px 0;">Ã…ÂEKER</li></ul><p style="margin-top:20px;padding:10px;background:#fff;border-radius:4px;font-size:12px;"><strong>ÄŸÅ¸â€™Â¡ Ã„Â°pucu:</strong> SaÃ„Å¸daki gri ÃƒÂ§izgiyi sÃƒÂ¼rÃƒÂ¼kleyerek panel geniÃ…Å¸liÃ„Å¸ini deÃ„Å¸iÃ…Å¸tirebilirsiniz.</p></div><div id="splitter-divider-' + numara + '" style="width:5px;background:#ccc;cursor:col-resize;position:relative;" title="SÃƒÂ¼rÃƒÂ¼kleyerek geniÃ…Å¸lik deÃ„Å¸iÃ…Å¸tirin"></div><div id="splitter-right-' + numara + '" style="flex:1;background:#fff;padding:15px;overflow:auto;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€œÅ  SAÃ„Â PANEL</h3><p style="margin:0 0 10px 0;">SeÃƒÂ§ilen Ã…Å¸ubenin detaylarÃ„Â± burada gÃƒÂ¶sterilir.</p><div style="padding:15px;background:#f5f5f5;border-radius:4px;margin-top:20px;"><p style="margin:5px 0;"><strong>Ã…Âube:</strong> YAÃ„ÂCILAR</p><p style="margin:5px 0;"><strong>Motorin SatÃ„Â±Ã…Å¸Ã„Â±:</strong> 125,000 L</p><p style="margin:5px 0;"><strong>Benzin SatÃ„Â±Ã…Å¸Ã„Â±:</strong> 85,000 L</p><p style="margin:5px 0;"><strong>Toplam:</strong> 210,000 L</p></div><p style="margin-top:20px;padding:10px;background:#fff3cd;border-left:4px solid #ffc107;font-size:12px;"><strong>Ã¢Å“Â¨ NasÃ„Â±l KullanÃ„Â±lÃ„Â±r:</strong> Splitter ekranÃ„Â± ikiye bÃƒÂ¶ler. Sol panelde liste, saÃ„Å¸ panelde detay gÃƒÂ¶sterilir. KullanÃ„Â±cÃ„Â± paneller arasÃ„Â±ndaki ÃƒÂ§izgiyi sÃƒÂ¼rÃƒÂ¼kleyerek istediÃ„Å¸i geniÃ…Å¸liÃ„Å¸i ayarlayabilir.</p></div></div></div>');
            
            // Basit sÃƒÂ¼rÃƒÂ¼kle-bÃ„Â±rak iÃ…Å¸levselliÃ„Å¸i ekle
            setTimeout(function() {
              var $divider = $("#splitter-divider-" + numara);
              var $left = $("#splitter-left-" + numara);
              var $right = $("#splitter-right-" + numara);
              var isDragging = false;
              
              $divider.on("mousedown", function(e) {
                isDragging = true;
                $("body").css("cursor", "col-resize");
                e.preventDefault();
              });
              
              $(document).on("mousemove", function(e) {
                if (isDragging) {
                  var containerWidth = $("#splitter-wrapper-" + numara).width();
                  var newLeftWidth = e.pageX - $("#splitter-wrapper-" + numara).offset().left;
                  if (newLeftWidth > 150 && newLeftWidth < containerWidth - 150) {
                    $left.css("width", newLeftWidth + "px");
                  }
                }
              });
              
              $(document).on("mouseup", function() {
                if (isDragging) {
                  isDragging = false;
                  $("body").css("cursor", "");
                }
              });
              
              // Telerik Splitter'Ã„Â± da dene
              try {
                $("#splitter-wrapper-" + numara).kendoSplitter({
                  panes: [
                    {size: "250px", collapsible: true, resizable: true},
                    {collapsible: true, resizable: true}
                  ],
                  orientation: "horizontal"
                });
              } catch(e) {
                console.log("Telerik Splitter yÃƒÂ¼klenemedi, basit versiyon kullanÃ„Â±lÃ„Â±yor");
              }
            }, 200);
            break;
          case "responsivepanel":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€œÂ± ResponsivePanel Ãƒâ€“rneÃ„Å¸i</h3><p style="margin:0 0 20px 0;">Mobil cihazlarda otomatik aÃƒÂ§Ã„Â±lÃ„Â±p kapanan panel. Butona tÃ„Â±klayarak paneli aÃƒÂ§Ã„Â±p kapatabilirsiniz.</p><button id="ornek-rp-toggle-' + numara + '" class="k-button k-button-md k-button-solid k-button-solid-primary" style="margin-bottom:15px;">ÄŸÅ¸â€œÂ± Panel AÃƒÂ§/Kapat</button><div id="ornek-rp-' + numara + '" style="min-height:300px;background:#e3f2fd;padding:20px;border:2px solid #1976d2;border-radius:4px;display:none;"><h4 style="margin:0 0 15px 0;color:#1976d2;">ÄŸÅ¸â€œâ€¹ Panel Ã„Â°ÃƒÂ§eriÃ„Å¸i</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">MenÃƒÂ¼ Ãƒâ€“Ã„Å¸esi 1</li><li style="margin:8px 0;">MenÃƒÂ¼ Ãƒâ€“Ã„Å¸esi 2</li><li style="margin:8px 0;">MenÃƒÂ¼ Ãƒâ€“Ã„Å¸esi 3</li><li style="margin:8px 0;">MenÃƒÂ¼ Ãƒâ€“Ã„Å¸esi 4</li></ul><p style="margin-top:20px;padding:10px;background:#fff;border-radius:4px;font-size:12px;"><strong>ÄŸÅ¸â€™Â¡ NasÃ„Â±l KullanÃ„Â±lÃ„Â±r:</strong> ResponsivePanel mobil cihazlarda yan taraftan aÃƒÂ§Ã„Â±lan menÃƒÂ¼ paneli olarak kullanÃ„Â±lÃ„Â±r. KÃƒÂ¼ÃƒÂ§ÃƒÂ¼k ekranlarda otomatik olarak gÃƒÂ¶rÃƒÂ¼nÃƒÂ¼r.</p></div></div>');
            
            // Basit aÃƒÂ§/kapat iÃ…Å¸levselliÃ„Å¸i
            $("#ornek-rp-toggle-" + numara).click(function() {
              var $panel = $("#ornek-rp-" + numara);
              if ($panel.is(":visible")) {
                $panel.slideUp(300);
                $(this).text("ÄŸÅ¸â€œÂ± Panel AÃƒÂ§");
              } else {
                $panel.slideDown(300);
                $(this).text("ÄŸÅ¸â€œÂ± Panel Kapat");
              }
            });
            
            // Telerik ResponsivePanel'i de dene
            setTimeout(function() {
              try {
                $("#ornek-rp-" + numara).kendoResponsivePanel({
                  orientation: "left",
                  toggleButton: "#ornek-rp-toggle-" + numara,
                  breakpoint: 640
                });
              } catch(e) {
                console.log("Telerik ResponsivePanel yÃƒÂ¼klenemedi, basit versiyon kullanÃ„Â±lÃ„Â±yor");
              }
            }, 100);
            break;
          case "drawer":
            $("#" + containerId).html('<button id="ornek-drawer-toggle-' + numara + '" class="k-button">Drawer AÃƒÂ§/Kapat</button><div id="ornek-drawer-' + numara + '"></div>');
            $("#ornek-drawer-" + numara).kendoDrawer({
              template: "<ul><li>MenÃƒÂ¼ 1</li><li>MenÃƒÂ¼ 2</li></ul>",
              mode: "overlay",
              mini: true
            });
            $("#ornek-drawer-toggle-" + numara).click(function() {
              $("#ornek-drawer-" + numara).data("kendoDrawer").show();
            });
            break;
          case "stepper":
            $("#" + containerId).kendoStepper({
              steps: [
                {label: "AdÃ„Â±m 1", selected: true},
                {label: "AdÃ„Â±m 2"},
                {label: "AdÃ„Â±m 3"}
              ],
              orientation: "horizontal"
            });
            break;
          case "datepicker":
            $("#" + containerId).html('<input id="ornek-datepicker-' + numara + '" style="width:300px;" />');
            $("#ornek-datepicker-" + numara).kendoDatePicker({
              value: new Date(),
              format: "dd.MM.yyyy"
            });
            break;
          case "datetimepicker":
            $("#" + containerId).html('<input id="ornek-datetimepicker-' + numara + '" style="width:300px;" />');
            $("#ornek-datetimepicker-" + numara).kendoDateTimePicker({
              value: new Date(),
              format: "dd.MM.yyyy HH:mm"
            });
            break;
          case "timepicker":
            $("#" + containerId).html('<input id="ornek-timepicker-' + numara + '" style="width:300px;" />');
            $("#ornek-timepicker-" + numara).kendoTimePicker({
              value: new Date()
            });
            break;
          case "calendar":
            $("#" + containerId).kendoCalendar({
              value: new Date()
            });
            break;
          case "combobox":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€œâ€¹ ComboBox Ãƒâ€“rneÃ„Å¸i</h3><p style="margin:0 0 10px 0;color:#666;font-weight:bold;">ÄŸÅ¸â€œÅ’ ComboBox = Dropdown + Arama Kutusu</p><p style="margin:0 0 20px 0;color:#666;line-height:1.6;"><strong>MantÃ„Â±k:</strong> Hem listeden seÃƒÂ§ebilirsiniz, hem de yazarken otomatik filtreleme yapar. Ãƒâ€“rnek: Ã…Âube seÃƒÂ§imi yaparken "YAÃ„Â" yazarsanÃ„Â±z sadece "YAÃ„ÂCILAR" gÃƒÂ¶sterir.</p><div style="margin-bottom:20px;"><label style="display:block;margin-bottom:8px;font-weight:bold;color:#333;">Ã…Âube SeÃƒÂ§in (Yazarken filtreleme yapar):</label><input id="ornek-combobox-' + numara + '" style="width:300px;" /></div><div style="padding:15px;background:#e3f2fd;border-radius:5px;font-size:12px;"><strong>ÄŸÅ¸â€™Â¡ KullanÃ„Â±m SenaryolarÃ„Â±:</strong><ul style="margin:10px 0 0 20px;padding:0;"><li style="margin:5px 0;">Ã…Âube seÃƒÂ§imi (ÃƒÂ§ok Ã…Å¸ube varsa yazarken filtreleme)</li><li style="margin:5px 0;">Firma seÃƒÂ§imi (firma adÃ„Â± yazarken arama)</li><li style="margin:5px 0;">ÃƒÅ“rÃƒÂ¼n seÃƒÂ§imi (ÃƒÂ¼rÃƒÂ¼n adÃ„Â± yazarken filtreleme)</li></ul><strong>Kod:</strong> <code>$("#combobox").kendoComboBox({ dataSource: ["SeÃƒÂ§enek1", "SeÃƒÂ§enek2"], placeholder: "SeÃƒÂ§in..." });</code></div></div>');
            setTimeout(function() {
              $("#ornek-combobox-" + numara).kendoComboBox({
                dataSource: ["YAÃ„ÂCILAR", "TEPEKUM", "NAMDAR", "Ã…ÂEKER"],
                placeholder: "Ã…Âube seÃƒÂ§in veya yazÃ„Â±n...",
                filter: "contains", // Yazarken iÃƒÂ§inde geÃƒÂ§enleri bul
                suggest: true // Yazarken ÃƒÂ¶neri gÃƒÂ¶ster
              });
            }, 100);
            break;
          case "dropdownlist":
            $("#" + containerId).html('<input id="ornek-dropdownlist-' + numara + '" style="width:300px;" />');
            $("#ornek-dropdownlist-" + numara).kendoDropDownList({
              dataSource: ["Aktif", "Pasif"],
              value: "Aktif"
            });
            break;
          case "multiselect":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€œâ€¹ MultiSelect Ãƒâ€“rneÃ„Å¸i</h3><p style="margin:0 0 10px 0;color:#666;font-weight:bold;">ÄŸÅ¸â€œÅ’ MultiSelect = Ãƒâ€¡oklu SeÃƒÂ§im Dropdown</p><p style="margin:0 0 20px 0;color:#666;line-height:1.6;"><strong>MantÃ„Â±k:</strong> Birden fazla seÃƒÂ§enek seÃƒÂ§ebilirsiniz. Ãƒâ€“rnek: Birden fazla Ã…Å¸ube seÃƒÂ§mek iÃƒÂ§in kullanÃ„Â±lÃ„Â±r. SeÃƒÂ§ilenler ÃƒÂ¼stte etiket olarak gÃƒÂ¶sterilir.</p><div style="margin-bottom:20px;"><label style="display:block;margin-bottom:8px;font-weight:bold;color:#333;">Ã…Âubeler SeÃƒÂ§in (Birden fazla seÃƒÂ§ebilirsiniz):</label><input id="ornek-multiselect-' + numara + '" style="width:300px;" /></div><div style="padding:15px;background:#e3f2fd;border-radius:5px;font-size:12px;"><strong>ÄŸÅ¸â€™Â¡ KullanÃ„Â±m SenaryolarÃ„Â±:</strong><ul style="margin:10px 0 0 20px;padding:0;"><li style="margin:5px 0;">Birden fazla Ã…Å¸ube seÃƒÂ§imi</li><li style="margin:5px 0;">Birden fazla ÃƒÂ¼rÃƒÂ¼n seÃƒÂ§imi</li><li style="margin:5px 0;">Birden fazla firma seÃƒÂ§imi</li></ul><strong>Kod:</strong> <code>$("#multiselect").kendoMultiSelect({ dataSource: ["SeÃƒÂ§enek1", "SeÃƒÂ§enek2"], placeholder: "SeÃƒÂ§in..." });</code></div></div>');
            setTimeout(function() {
              if (typeof kendo !== 'undefined' && typeof $.fn.kendoMultiSelect !== 'undefined') {
                var multiselectEl = $("#ornek-multiselect-" + numara);
                if (multiselectEl.length > 0) {
                  // EÃ„Å¸er daha ÃƒÂ¶nce oluÃ…Å¸turulmuÃ…Å¸sa destroy et
                  if (multiselectEl.data("kendoMultiSelect")) {
                    multiselectEl.data("kendoMultiSelect").destroy();
                  }
                  multiselectEl.kendoMultiSelect({
                    dataSource: ["YAÃ„ÂCILAR", "TEPEKUM", "NAMDAR", "Ã…ÂEKER"],
                    placeholder: "Ã…Âube seÃƒÂ§in (ÃƒÂ§oklu seÃƒÂ§im)...",
                    filter: "contains",
                    autoClose: false // SeÃƒÂ§im yapÃ„Â±nca kapanmasÃ„Â±n
                  });
                  console.log("Ã¢Å“â€¦ MultiSelect oluÃ…Å¸turuldu:", numara);
                }
              } else {
                console.error("Ã¢ÂÅ’ Telerik MultiSelect yÃƒÂ¼klenmedi");
              }
            }, 100);
            break;
          case "autocomplete":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€œâ€¹ AutoComplete Ãƒâ€“rneÃ„Å¸i</h3><p style="margin:0 0 10px 0;color:#666;font-weight:bold;">ÄŸÅ¸â€œÅ’ AutoComplete = Otomatik Tamamlama</p><p style="margin:0 0 20px 0;color:#666;line-height:1.6;"><strong>MantÃ„Â±k:</strong> Yazmaya baÃ…Å¸ladÃ„Â±Ã„Å¸Ã„Â±nÃ„Â±zda otomatik ÃƒÂ¶neriler gÃƒÂ¶sterir. Ãƒâ€“rnek: "YAÃ„Â" yazarsanÃ„Â±z "YAÃ„ÂCILAR" ÃƒÂ¶nerisi ÃƒÂ§Ã„Â±kar. Google arama gibi ÃƒÂ§alÃ„Â±Ã…Å¸Ã„Â±r.</p><div style="margin-bottom:20px;"><label style="display:block;margin-bottom:8px;font-weight:bold;color:#333;">Firma Ara (Yazarken otomatik ÃƒÂ¶neriler gÃƒÂ¶sterir):</label><input id="ornek-autocomplete-' + numara + '" style="width:300px;" /></div><div style="padding:15px;background:#fff3cd;border-left:4px solid #ffc107;margin-bottom:20px;border-radius:4px;"><strong>ÄŸÅ¸â€™Â¡ Deneyin:</strong><ul style="margin:10px 0 0 20px;padding:0;"><li style="margin:5px 0;">"YAÃ„Â" yazÃ„Â±n Ã¢â€ â€™ "YAÃ„ÂCILAR" ÃƒÂ¶nerisi ÃƒÂ§Ã„Â±kar</li><li style="margin:5px 0;">"TEPE" yazÃ„Â±n Ã¢â€ â€™ "TEPEKUM" ÃƒÂ¶nerisi ÃƒÂ§Ã„Â±kar</li><li style="margin:5px 0;">"NAM" yazÃ„Â±n Ã¢â€ â€™ "NAMDAR" ÃƒÂ¶nerisi ÃƒÂ§Ã„Â±kar</li></ul></div><div style="padding:15px;background:#e3f2fd;border-radius:5px;font-size:12px;"><strong>ÄŸÅ¸â€™Â¡ KullanÃ„Â±m SenaryolarÃ„Â±:</strong><ul style="margin:10px 0 0 20px;padding:0;"><li style="margin:5px 0;">Firma adÃ„Â± arama (yazarken ÃƒÂ¶neriler)</li><li style="margin:5px 0;">ÃƒÅ“rÃƒÂ¼n adÃ„Â± arama</li><li style="margin:5px 0;">Ã…Âube adÃ„Â± arama</li></ul><strong>Kod:</strong> <code>$("#autocomplete").kendoAutoComplete({ dataSource: ["SeÃƒÂ§enek1", "SeÃƒÂ§enek2"], placeholder: "Ara..." });</code></div></div>');
            setTimeout(function() {
              if (typeof kendo !== 'undefined' && typeof $.fn.kendoAutoComplete !== 'undefined') {
                var autocompleteEl = $("#ornek-autocomplete-" + numara);
                if (autocompleteEl.length > 0) {
                  // EÃ„Å¸er daha ÃƒÂ¶nce oluÃ…Å¸turulmuÃ…Å¸sa destroy et
                  if (autocompleteEl.data("kendoAutoComplete")) {
                    autocompleteEl.data("kendoAutoComplete").destroy();
                  }
                  autocompleteEl.kendoAutoComplete({
                    dataSource: ["YAÃ„ÂCILAR", "TEPEKUM", "NAMDAR", "Ã…ÂEKER"],
                    placeholder: "Firma ara (ÃƒÂ¶rnek: YAÃ„Â yazÃ„Â±n)...",
                    filter: "contains",
                    minLength: 1 // 1 karakter yazÃ„Â±nca ÃƒÂ¶neri gÃƒÂ¶ster
                  });
                  console.log("Ã¢Å“â€¦ AutoComplete oluÃ…Å¸turuldu:", numara);
                }
              } else {
                console.error("Ã¢ÂÅ’ Telerik AutoComplete yÃƒÂ¼klenmedi");
              }
            }, 100);
            break;
          case "numerictextbox":
            $("#" + containerId).html('<input id="ornek-numerictextbox-' + numara + '" style="width:300px;" />');
            setTimeout(function() {
              try {
                if (typeof kendo !== 'undefined' && typeof $.fn.kendoNumericTextBox !== 'undefined') {
                  var numericEl = $("#ornek-numerictextbox-" + numara);
                  if (numericEl.length > 0) {
                    // EÃ„Å¸er daha ÃƒÂ¶nce oluÃ…Å¸turulmuÃ…Å¸sa destroy et
                    if (numericEl.data("kendoNumericTextBox")) {
                      numericEl.data("kendoNumericTextBox").destroy();
                    }
                    // Culture kontrolÃƒÂ¼ yap, yoksa varsayÃ„Â±lan kullan
                    var config = {
                      value: 1000,
                      format: "n0",
                      min: 0
                    };
                    // Culture varsa ekle, yoksa ekleme
                    if (typeof kendo.culture !== 'undefined' && kendo.culture("tr-TR")) {
                      config.culture = "tr-TR";
                    }
                    numericEl.kendoNumericTextBox(config);
                    console.log("Ã¢Å“â€¦ NumericTextBox oluÃ…Å¸turuldu:", numara);
                  }
                }
              } catch(e) {
                console.error("NumericTextBox hatasÃ„Â±:", e);
                $("#ornek-numerictextbox-" + numara).attr("type", "number").val(1000);
              }
            }, 100);
            break;
          case "maskedtextbox":
            $("#" + containerId).html('<input id="ornek-maskedtextbox-' + numara + '" style="width:300px;" />');
            setTimeout(function() {
              try {
                if (typeof kendo !== 'undefined' && typeof $.fn.kendoMaskedTextBox !== 'undefined') {
                  var maskedEl = $("#ornek-maskedtextbox-" + numara);
                  if (maskedEl.length > 0) {
                    // EÃ„Å¸er daha ÃƒÂ¶nce oluÃ…Å¸turulmuÃ…Å¸sa destroy et
                    if (maskedEl.data("kendoMaskedTextBox")) {
                      maskedEl.data("kendoMaskedTextBox").destroy();
                    }
                    // Culture kontrolÃƒÂ¼ yap, yoksa varsayÃ„Â±lan kullan
                    var config = {
                      mask: "000-000-0000",
                      value: "5551234567"
                    };
                    // Culture varsa ekle, yoksa ekleme
                    if (typeof kendo.culture !== 'undefined' && kendo.culture("tr-TR")) {
                      config.culture = "tr-TR";
                    }
                    maskedEl.kendoMaskedTextBox(config);
                    console.log("Ã¢Å“â€¦ MaskedTextBox oluÃ…Å¸turuldu:", numara);
                  }
                }
              } catch(e) {
                console.error("MaskedTextBox hatasÃ„Â±:", e);
                $("#ornek-maskedtextbox-" + numara).val("555-123-4567").attr("placeholder", "000-000-0000");
              }
            }, 100);
            break;
          case "editor":
            $("#" + containerId).html('<textarea id="ornek-editor-' + numara + '" style="width:100%;height:300px;"></textarea>');
            $("#ornek-editor-" + numara).kendoEditor({
              value: "<p>Zengin metin editÃƒÂ¶rÃƒÂ¼ ÃƒÂ¶rneÃ„Å¸i</p>"
            });
            break;
          case "colorpicker":
            $("#" + containerId).html('<input id="ornek-colorpicker-' + numara + '" style="width:200px;" />');
            $("#ornek-colorpicker-" + numara).kendoColorPicker({
              value: "#ff0000"
            });
            break;
          case "flatcolorpicker":
            $("#" + containerId).html('<input id="ornek-flatcolorpicker-' + numara + '" style="width:200px;" />');
            $("#ornek-flatcolorpicker-" + numara).kendoFlatColorPicker({
              value: "#ff0000"
            });
            break;
          case "colorpalette":
            $("#" + containerId).kendoColorPalette({
              palette: "basic"
            });
            break;
          case "slider":
            $("#" + containerId).html('<input id="ornek-slider-' + numara + '" style="width:400px;" />');
            $("#ornek-slider-" + numara).kendoSlider({
              min: 0,
              max: 100,
              value: 50
            });
            break;
          case "rangeslider":
            // RangeSlider iÃƒÂ§in gÃƒÂ¶rsel ÃƒÂ¶rnek gÃƒÂ¶ster (Telerik RangeSlider sorunlu)
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€œÅ  RangeSlider Ãƒâ€“rneÃ„Å¸i</h3><p style="margin:0 0 20px 0;color:#666;">AralÃ„Â±k kaydÃ„Â±rÃ„Â±cÃ„Â± - Min ve max deÃ„Å¸er seÃƒÂ§imi iÃƒÂ§in kullanÃ„Â±lÃ„Â±r.</p><div style="position:relative;width:400px;height:50px;background:#f5f5f5;border-radius:4px;padding:10px;"><div style="position:relative;width:100%;height:30px;background:#e0e0e0;border-radius:15px;margin-top:10px;"><div style="position:absolute;left:20%;width:60%;height:100%;background:linear-gradient(to right, #1976d2, #42a5f5);border-radius:15px;box-shadow:inset 0 1px 3px rgba(0,0,0,0.2);"></div><div style="position:absolute;left:20%;top:-5px;width:40px;height:40px;background:#fff;border:2px solid #1976d2;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,0.3);cursor:ew-resize;"></div><div style="position:absolute;left:80%;top:-5px;width:40px;height:40px;background:#fff;border:2px solid #1976d2;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,0.3);cursor:ew-resize;"></div></div><div style="margin-top:15px;display:flex;justify-content:space-between;font-size:12px;color:#666;"><span>Min: 0</span><span>SeÃƒÂ§im: 20 - 80</span><span>Max: 100</span></div><p style="margin-top:20px;padding:10px;background:#fff3cd;border-left:4px solid #ffc107;font-size:12px;"><strong>Ã¢Å“Â¨ NasÃ„Â±l KullanÃ„Â±lÃ„Â±r:</strong> RangeSlider iki kaydÃ„Â±rÃ„Â±cÃ„Â± ile min ve max deÃ„Å¸er seÃƒÂ§imi yapmanÃ„Â±zÃ„Â± saÃ„Å¸lar. KaydÃ„Â±rÃ„Â±cÃ„Â±larÃ„Â± sÃƒÂ¼rÃƒÂ¼kleyerek aralÃ„Â±Ã„Å¸Ã„Â± ayarlayabilirsiniz.</p></div>');
            break;
          case "rating":
            $("#" + containerId).kendoRating({
              value: 3,
              min: 1,
              max: 5
            });
            break;
          case "listbox":
            $("#" + containerId).html('<select id="ornek-listbox-' + numara + '" multiple style="width:300px;height:150px;"></select>');
            $("#ornek-listbox-" + numara).kendoListBox({
              dataSource: ["YAÃ„ÂCILAR", "TEPEKUM", "NAMDAR", "Ã…ÂEKER"],
              selectable: "multiple"
            });
            break;
          case "searchbox":
            $("#" + containerId).html('<input id="ornek-searchbox-' + numara + '" style="width:300px;" />');
            $("#ornek-searchbox-" + numara).kendoSearchBox({
              placeholder: "Ara..."
            });
            break;
          case "chart-column":
            $("#" + containerId).kendoChart({
              series: [{
                type: "column",
                data: [125000, 85000, 98000, 72000]
              }],
              categoryAxis: {
                categories: ["YAÃ„ÂCILAR", "TEPEKUM", "NAMDAR", "Ã…ÂEKER"]
              },
              height: 300
            });
            break;
          case "chart-line":
            $("#" + containerId).kendoChart({
              series: [{
                type: "line",
                data: [125000, 132000, 98000, 105000]
              }],
              categoryAxis: {
                categories: ["Ocak", "Ã…Âubat", "Mart", "Nisan"]
              },
              height: 300
            });
            break;
          case "chart-pie":
            $("#" + containerId).kendoChart({
              series: [{
                type: "pie",
                data: [
                  {category: "YAÃ„ÂCILAR", value: 125000},
                  {category: "TEPEKUM", value: 85000},
                  {category: "NAMDAR", value: 45000}
                ]
              }],
              height: 300
            });
            break;
          case "chart-area":
            $("#" + containerId).kendoChart({
              series: [{
                type: "area",
                data: [125000, 132000, 98000, 105000]
              }],
              categoryAxis: {
                categories: ["Ocak", "Ã…Âubat", "Mart", "Nisan"]
              },
              height: 300
            });
            break;
          case "chart-bar":
            $("#" + containerId).kendoChart({
              series: [{
                type: "bar",
                data: [125000, 85000, 98000, 72000]
              }],
              categoryAxis: {
                categories: ["YAÃ„ÂCILAR", "TEPEKUM", "NAMDAR", "Ã…ÂEKER"]
              },
              height: 300
            });
            break;
          case "stockchart":
            $("#" + containerId).kendoStockChart({
              dataSource: {
                data: [
                  {date: new Date("2024-01-01"), open: 100, high: 110, low: 95, close: 105},
                  {date: new Date("2024-01-02"), open: 105, high: 115, low: 100, close: 110}
                ]
              },
              height: 300
            });
            break;
          case "sparkline":
            $("#" + containerId).html('<span id="ornek-sparkline-' + numara + '"></span>');
            $("#ornek-sparkline-" + numara).kendoSparkline({
              data: [125000, 132000, 98000, 105000, 110000],
              type: "line"
            });
            break;
          case "circulargauge":
            $("#" + containerId).kendoCircularGauge({
              value: 75,
              scale: {
                min: 0,
                max: 100
              },
              height: 250
            });
            break;
          case "lineargauge":
            $("#" + containerId).kendoLinearGauge({
              value: 75,
              scale: {
                min: 0,
                max: 100
              },
              height: 150
            });
            break;
          case "arcgauge":
            $("#" + containerId).kendoArcGauge({
              value: 75,
              scale: {
                min: 0,
                max: 100
              },
              height: 200
            });
            break;
          case "radialgauge":
            $("#" + containerId).kendoRadialGauge({
              value: 75,
              scale: {
                min: 0,
                max: 100
              },
              height: 200
            });
            break;
          case "chart-donut":
            $("#" + containerId).kendoChart({
              series: [{
                type: "donut",
                data: [
                  {category: "YAÃ„ÂCILAR", value: 125000},
                  {category: "TEPEKUM", value: 85000},
                  {category: "NAMDAR", value: 45000}
                ]
              }],
              height: 300
            });
            break;
          case "chart-bubble":
            $("#" + containerId).kendoChart({
              series: [{
                type: "bubble",
                data: [
                  {x: 10, y: 20, size: 30},
                  {x: 15, y: 25, size: 40}
                ]
              }],
              height: 300
            });
            break;
          case "chart-scatter":
            $("#" + containerId).kendoChart({
              series: [{
                type: "scatter",
                data: [
                  {x: 10, y: 20},
                  {x: 15, y: 25},
                  {x: 20, y: 30}
                ]
              }],
              height: 300
            });
            break;
          case "chart-radar":
            $("#" + containerId).kendoChart({
              series: [{
                type: "radar",
                data: [125000, 85000, 98000, 72000]
              }],
              categoryAxis: {
                categories: ["YAÃ„ÂCILAR", "TEPEKUM", "NAMDAR", "Ã…ÂEKER"]
              },
              height: 300
            });
            break;
          case "button":
            $("#" + containerId).html('<button id="ornek-button-' + numara + '" class="k-button k-button-md k-button-solid k-button-solid-primary">Ãƒâ€“rnek Buton</button>');
            $("#ornek-button-" + numara).kendoButton({
              click: function() {
                alert("Buton tÃ„Â±klandÃ„Â±!");
              }
            });
            break;
          case "window":
            $("#" + containerId).html('<button id="ornek-window-btn-' + numara + '" class="k-button">Pencere AÃƒÂ§</button>');
            $("#ornek-window-btn-" + numara).click(function() {
              $("<div id='ornek-window-" + numara + "'>Pencere iÃƒÂ§eriÃ„Å¸i</div>").kendoWindow({
                title: "Ãƒâ€“rnek Pencere",
                width: 400,
                height: 300,
                modal: true
              }).data("kendoWindow").center().open();
            });
            break;
          case "notification":
            $("#" + containerId).html('<button id="ornek-notification-btn-' + numara + '" class="k-button">Bildirim GÃƒÂ¶ster</button>');
            var notification = $("#" + containerId).kendoNotification({
              position: {top: 20, right: 20}
            }).data("kendoNotification");
            $("#ornek-notification-btn-" + numara).click(function() {
              notification.show("BaÃ…Å¸arÃ„Â±lÃ„Â± iÃ…Å¸lem!", "success");
            });
            break;
          case "tooltip":
            $("#" + containerId).html('<span id="ornek-tooltip-' + numara + '" style="padding:10px;background:#f0f0f0;cursor:pointer;">Hover yapÃ„Â±n</span>');
            $("#ornek-tooltip-" + numara).kendoTooltip({
              content: "Bu bir tooltip ÃƒÂ¶rneÃ„Å¸idir"
            });
            break;
          case "upload":
            $("#" + containerId).html('<input id="ornek-upload-' + numara + '" name="files" type="file" />');
            setTimeout(function() {
              if ($("#ornek-upload-" + numara).length > 0) {
                try {
                  $("#ornek-upload-" + numara).kendoUpload({
                    async: {
                      saveUrl: "/api/upload-excel/",
                      removeUrl: "/api/upload-excel/"
                    }
                  });
                } catch(e) {
                  $("#" + containerId).html('<p style="color:#666;padding:20px;">Upload bileÃ…Å¸eni yÃƒÂ¼klenemedi. SayfayÃ„Â± yenileyin.</p>');
                }
              }
            }, 100);
            break;
          case "progressbar":
            $("#" + containerId).kendoProgressBar({
              value: 50,
              type: "percent"
            });
            break;
          case "scheduler":
            $("#" + containerId).kendoScheduler({
              date: new Date(),
              startTime: new Date("2024-01-15T08:00"),
              height: 400,
              views: ["day", "week"],
              dataSource: []
            });
            break;
          case "gantt":
            $("#" + containerId).kendoGantt({
              dataSource: [{
                id: 1,
                orderId: 0,
                parentId: null,
                title: "Proje",
                start: new Date("2024-01-15"),
                end: new Date("2024-01-20"),
                percentComplete: 50
              }],
              dependencies: [],
              height: 300
            });
            break;
          case "diagram":
            $("#" + containerId).kendoDiagram({
              dataSource: {
                data: [
                  {id: 1, text: "BaÃ…Å¸langÃ„Â±ÃƒÂ§"},
                  {id: 2, text: "BitiÃ…Å¸"}
                ],
                schema: {
                  model: {
                    children: "items"
                  }
                }
              },
              layout: {
                type: "tree",
                subtype: "right"
              },
              height: 300
            });
            break;
          case "map":
            $("#" + containerId).kendoMap({
              center: [41.0082, 28.9784],
              zoom: 10,
              layers: [{
                type: "tile",
                urlTemplate: "https://#= subdomain #.tile.openstreetmap.org/#= zoom #/#= x #/#= y #.png",
                subdomains: ["a", "b", "c"]
              }],
              height: 300
            });
            break;
          case "barcode":
            $("#" + containerId).kendoBarcode({
              value: "123456789",
              type: "code128",
              height: 100
            });
            break;
          case "qrcode":
            $("#" + containerId).kendoQRCode({
              value: "https://www.telerik.com",
              size: 200
            });
            break;
          case "signature":
            $("#" + containerId).kendoSignature({
              width: 400,
              height: 200
            });
            break;
          case "badge":
            $("#" + containerId).html('<span class="k-badge k-badge-solid k-badge-solid-primary" style="font-size:20px;">5</span>');
            break;
          case "avatar":
            $("#" + containerId).html('<div class="k-avatar k-avatar-circle k-avatar-md" style="background:#206d7d;color:white;display:inline-flex;align-items:center;justify-content:center;width:60px;height:60px;">AB</div>');
            break;
          case "loader":
            $("#" + containerId).html('<div style="padding:40px;text-align:center;"><h3 style="margin:0 0 20px 0;color:#206d7d;">Ã¢ÂÂ³ Loader Ãƒâ€“rneÃ„Å¸i</h3><p style="margin:0 0 30px 0;color:#666;">YÃƒÂ¼kleme animasyonu gÃƒÂ¶steriliyor...</p><div class="k-loader k-loader-md k-loader-primary" style="margin:0 auto;"></div><div style="margin-top:30px;padding:15px;background:#e3f2fd;border-radius:4px;"><p style="margin:0;font-size:12px;"><strong>ÄŸÅ¸â€™Â¡ NasÃ„Â±l KullanÃ„Â±lÃ„Â±r:</strong> Loader, veri yÃƒÂ¼klenirken veya iÃ…Å¸lem yapÃ„Â±lÃ„Â±rken kullanÃ„Â±cÃ„Â±ya bekleme gÃƒÂ¶stergesi sunar. Sayfa yÃƒÂ¼klenirken, API ÃƒÂ§aÃ„Å¸rÃ„Â±sÃ„Â± yapÃ„Â±lÃ„Â±rken kullanÃ„Â±labilir.</p></div></div>');
            break;
          case "skeleton":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€™â‚¬ Skeleton Ãƒâ€“rneÃ„Å¸i</h3><p style="margin:0 0 20px 0;color:#666;">YÃƒÂ¼kleme sÃ„Â±rasÃ„Â±nda placeholder gÃƒÂ¶sterimi. Ã„Â°ÃƒÂ§erik yÃƒÂ¼klenene kadar gÃƒÂ¶sterilir.</p><div style="border:1px solid #ddd;border-radius:4px;padding:20px;background:#fafafa;"><div class="k-skeleton" style="width:100%;height:20px;margin-bottom:15px;border-radius:4px;"></div><div class="k-skeleton" style="width:80%;height:20px;margin-bottom:15px;border-radius:4px;"></div><div class="k-skeleton" style="width:100%;height:100px;margin-bottom:15px;border-radius:4px;"></div><div class="k-skeleton" style="width:60%;height:20px;border-radius:4px;"></div></div><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-left:4px solid #1976d2;font-size:12px;"><strong>ÄŸÅ¸â€™Â¡ NasÃ„Â±l KullanÃ„Â±lÃ„Â±r:</strong> Skeleton, veri yÃƒÂ¼klenirken iÃƒÂ§eriÃ„Å¸in yerini tutan placeholder gÃƒÂ¶sterir. KullanÃ„Â±cÃ„Â±ya iÃƒÂ§eriÃ„Å¸in yÃƒÂ¼klendiÃ„Å¸ini gÃƒÂ¶sterir ve daha iyi bir kullanÃ„Â±cÃ„Â± deneyimi sunar.</p></div>');
            break;
          case "pager":
            $("#" + containerId).kendoPager({
              dataSource: new kendo.data.DataSource({
                data: new Array(100),
                pageSize: 10
              }),
              total: 100
            });
            break;
          case "validator":
            $("#" + containerId).html('<form id="ornek-validator-form-' + numara + '"><input name="email" required style="width:300px;" placeholder="E-posta" /><br><br><button type="submit" class="k-button">GÃƒÂ¶nder</button></form>');
            $("#ornek-validator-form-" + numara).kendoValidator();
            break;
          case "popup":
            // Tamamen basit ve garantili ÃƒÂ§ÃƒÂ¶zÃƒÂ¼m - jQuery event kullan
            var popupHtml = '<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€â€ Popup Ãƒâ€“rneÃ„Å¸i</h3><p style="margin:0 0 20px 0;color:#666;">KÃƒÂ¼ÃƒÂ§ÃƒÂ¼k aÃƒÂ§Ã„Â±lÃ„Â±r pencere. Butona tÃ„Â±klayarak aÃƒÂ§Ã„Â±p kapatabilirsiniz.</p><button id="popup-btn-' + numara + '" class="k-button k-button-md k-button-solid k-button-solid-primary" style="margin-bottom:15px;">ÄŸÅ¸â€â€ Popup AÃƒÂ§</button><div id="popup-content-' + numara + '" style="display:none;padding:20px;background:white;border:2px solid #1976d2;border-radius:4px;box-shadow:0 4px 8px rgba(0,0,0,0.2);min-width:250px;margin-top:10px;"><h4 style="margin:0 0 10px 0;color:#1976d2;">ÄŸÅ¸â€œâ€¹ Popup BaÃ…Å¸lÃ„Â±k</h4><p style="margin:0 0 10px 0;color:#666;">Bu bir popup penceresidir. Ã„Â°ÃƒÂ§erik burada gÃƒÂ¶sterilir.</p><ul style="margin:10px 0 0 0;padding-left:20px;"><li style="margin:5px 0;">Ãƒâ€“Ã„Å¸e 1</li><li style="margin:5px 0;">Ãƒâ€“Ã„Å¸e 2</li><li style="margin:5px 0;">Ãƒâ€“Ã„Å¸e 3</li></ul><p style="margin-top:15px;padding:10px;background:#e3f2fd;border-radius:4px;font-size:12px;"><strong>ÄŸÅ¸â€™Â¡ NasÃ„Â±l KullanÃ„Â±lÃ„Â±r:</strong> Popup kÃƒÂ¼ÃƒÂ§ÃƒÂ¼k aÃƒÂ§Ã„Â±lÃ„Â±r pencereler iÃƒÂ§in kullanÃ„Â±lÃ„Â±r.</p></div><p style="margin-top:20px;padding:10px;background:#fff3cd;border-left:4px solid #ffc107;font-size:12px;"><strong>Ã¢Å“Â¨ Test:</strong> YukarÃ„Â±daki butona tÃ„Â±klayÃ„Â±n.</p></div>';
            $("#" + containerId).html(popupHtml);
            
            // jQuery event ile aÃƒÂ§/kapat
            setTimeout(function() {
              $("#popup-btn-" + numara).on("click", function() {
                var $popup = $("#popup-content-" + numara);
                var $btn = $(this);
                if ($popup.is(":visible")) {
                  $popup.slideUp(300);
                  $btn.text("ÄŸÅ¸â€â€ Popup AÃƒÂ§");
                } else {
                  $popup.slideDown(300);
                  $btn.text("ÄŸÅ¸â€â€ Popup Kapat");
                }
              });
            }, 100);
            break;
          case "sortable":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€â€ Sortable Ãƒâ€“rneÃ„Å¸i</h3><p style="margin:0 0 20px 0;color:#666;">Ãƒâ€“Ã„Å¸eleri sÃƒÂ¼rÃƒÂ¼kleyerek sÃ„Â±ralayabilirsiniz. AÃ…Å¸aÃ„Å¸Ã„Â±daki ÃƒÂ¶Ã„Å¸eleri sÃƒÂ¼rÃƒÂ¼kle-bÃ„Â±rak ile yeniden sÃ„Â±ralayÃ„Â±n.</p><ul id="sortable-list-' + numara + '" style="list-style:none;padding:0;margin:0;min-height:200px;"><li data-id="1" style="padding:15px;margin:8px 0;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;"><strong>1. YAÃ„ÂCILAR</strong> - Motorin: 125,000 L</li><li data-id="2" style="padding:15px;margin:8px 0;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;"><strong>2. TEPEKUM</strong> - Benzin: 85,000 L</li><li data-id="3" style="padding:15px;margin:8px 0;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;"><strong>3. NAMDAR</strong> - Motorin: 45,000 L</li><li data-id="4" style="padding:15px;margin:8px 0;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;"><strong>4. Ã…ÂEKER</strong> - Benzin: 67,000 L</li></ul><p style="margin-top:20px;padding:10px;background:#fff3cd;border-left:4px solid #ffc107;font-size:12px;"><strong>Ã¢Å“Â¨ NasÃ„Â±l KullanÃ„Â±lÃ„Â±r:</strong> Ãƒâ€“Ã„Å¸eleri fare ile tutup sÃƒÂ¼rÃƒÂ¼kleyerek sÃ„Â±ralayabilirsiniz.</p></div>');
            
            setTimeout(function() {
              var $list = $("#sortable-list-" + numara);
              var $items = $list.children("li");
              var draggedItem = null;
              
              // HTML5 drag-drop (garantili ÃƒÂ§alÃ„Â±Ã…Å¸Ã„Â±r)
              $items.each(function() {
                this.draggable = true;
              });
              
              $items.on("dragstart", function(e) {
                draggedItem = this;
                $(this).css({"opacity": "0.5", "background": "#fff3cd"});
                e.originalEvent.dataTransfer.effectAllowed = "move";
                e.originalEvent.dataTransfer.setData("text/html", this.innerHTML);
              });
              
              $items.on("dragover", function(e) {
                e.preventDefault();
                if (this !== draggedItem) {
                  $(this).css("border-top", "4px solid #1976d2");
                }
              });
              
              $items.on("dragleave", function() {
                $(this).css("border-top", "");
              });
              
              $items.on("drop", function(e) {
                e.preventDefault();
                $(this).css("border-top", "");
                if (draggedItem && this !== draggedItem) {
                  if ($(this).index() < $(draggedItem).index()) {
                    $(this).before(draggedItem);
                  } else {
                    $(this).after(draggedItem);
                  }
                  // Numara gÃƒÂ¼ncelle
                  $list.children("li").each(function(index) {
                    var text = $(this).html();
                    text = text.replace(/^\d+\./, (index + 1) + ".");
                    $(this).html(text);
                  });
                }
              });
              
              $items.on("dragend", function() {
                $(this).css({"opacity": "", "background": "#e3f2fd"});
                $items.css("border-top", "");
                draggedItem = null;
              });
              
              // Telerik Sortable'Ã„Â± da dene
              try {
                $list.kendoSortable({
                  filter: "li",
                  hint: function(element) {
                    return element.clone().css({"opacity": 0.7, "background": "#fff3cd"});
                  }
                });
              } catch(e) {
                console.log("Telerik Sortable yÃƒÂ¼klenemedi, HTML5 drag-drop kullanÃ„Â±lÃ„Â±yor");
              }
            }, 200);
            break;
          case "draggable":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€“Â±Ã¯Â¸Â Draggable Ãƒâ€“rneÃ„Å¸i (72)</h3><p style="margin:0 0 10px 0;color:#666;font-weight:bold;">ÄŸÅ¸â€œÅ’ Draggable = SÃƒÂ¼rÃƒÂ¼klenebilir Ãƒâ€“Ã„Å¸e</p><p style="margin:0 0 20px 0;color:#666;">Bir ÃƒÂ¶Ã„Å¸eyi fare ile tutup sÃƒÂ¼rÃƒÂ¼kleyebilir hale getirir. DropTarget (73) ile birlikte kullanÃ„Â±lÃ„Â±r.</p><div style="display:flex;gap:20px;align-items:flex-start;"><div style="flex:1;"><h4 style="margin:0 0 10px 0;color:#333;font-size:14px;">ÄŸÅ¸â€“Â±Ã¯Â¸Â Draggable Ãƒâ€“Ã„Å¸e:</h4><div id="ornek-draggable-' + numara + '" style="padding:20px;background:#206d7d;color:white;width:150px;cursor:move;border-radius:4px;box-shadow:0 2px 4px rgba(0,0,0,0.2);user-select:none;text-align:center;"><strong>ÄŸÅ¸â€œÂ¦ YAÃ„ÂCILAR</strong><br><small style="font-size:11px;">Motorin: 125,000 L</small><br><small style="font-size:10px;opacity:0.8;">SÃƒÂ¼rÃƒÂ¼kle Ã¢â€ â€™</small></div></div><div style="flex:1;"><h4 style="margin:0 0 10px 0;color:#333;font-size:14px;">ÄŸÅ¸â€œÂ¥ DropTarget AlanÃ„Â±:</h4><div id="ornek-drop-area-' + numara + '" style="min-height:150px;padding:30px;background:#e3f2fd;border:3px dashed #1976d2;border-radius:4px;text-align:center;"><p style="margin:0;color:#1976d2;font-size:16px;font-weight:bold;">ÄŸÅ¸â€œÂ¥ BIRAKMA ALANI</p><p style="margin:10px 0 0 0;color:#666;font-size:12px;">Kutuyu buraya sÃƒÂ¼rÃƒÂ¼kleyin</p><div id="dropped-items-' + numara + '" style="margin-top:20px;"></div></div></div></div><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-left:4px solid #1976d2;font-size:12px;"><strong>ÄŸÅ¸â€™Â¡ Fark:</strong> Draggable (72) = SÃƒÂ¼rÃƒÂ¼klenebilir ÃƒÂ¶Ã„Å¸e yapar. DropTarget (73) = BÃ„Â±rakma alanÃ„Â± tanÃ„Â±mlar. Ã„Â°kisi birlikte kullanÃ„Â±lÃ„Â±r.</p></div>');
            setTimeout(function() {
              var $draggable = $("#ornek-draggable-" + numara);
              var $dropArea = $("#ornek-drop-area-" + numara);
              var $droppedItems = $("#dropped-items-" + numara);
              
              // HTML5 drag-drop
              $draggable.attr("draggable", "true");
              
              $draggable.on("dragstart", function(e) {
                $(this).css("opacity", "0.5");
                e.originalEvent.dataTransfer.effectAllowed = "move";
                e.originalEvent.dataTransfer.setData("text/html", this.outerHTML);
              });
              
              $draggable.on("dragend", function() {
                $(this).css("opacity", "");
              });
              
              $dropArea.on("dragover", function(e) {
                e.preventDefault();
                $(this).css({"background": "#bbdefb", "border-color": "#0d47a1"});
              });
              
              $dropArea.on("dragleave", function() {
                $(this).css({"background": "#e3f2fd", "border-color": "#1976d2"});
              });
              
              $dropArea.on("drop", function(e) {
                e.preventDefault();
                $(this).css({"background": "#c8e6c9", "border-color": "#2e7d32"});
                setTimeout(function() {
                  $dropArea.css({"background": "#e3f2fd", "border-color": "#1976d2"});
                }, 500);
                
                var data = e.originalEvent.dataTransfer.getData("text/html");
                if (data) {
                  var $newItem = $(data).css({
                    "margin": "10px auto",
                    "opacity": "1",
                    "background": "#4caf50",
                    "cursor": "default"
                  });
                  $droppedItems.append($newItem);
                  $droppedItems.find("p").remove();
                  if ($droppedItems.children().length > 0) {
                    $dropArea.find("p:first").text("Ã¢Å“â€¦ BÃ„Â±rakÃ„Â±ldÃ„Â±! (" + $droppedItems.children().length + " ÃƒÂ¶Ã„Å¸e)");
                  }
                }
              });
              
              // Telerik Draggable/DropTarget'Ã„Â± da dene
              try {
                $dropArea.kendoDropTarget({
                  drop: function() {
                    var $newItem = $draggable.clone().css({
                      "margin": "10px auto",
                      "opacity": "1",
                      "background": "#4caf50",
                      "cursor": "default"
                    });
                    $droppedItems.append($newItem);
                    if ($droppedItems.children().length > 0) {
                      $dropArea.find("p:first").text("Ã¢Å“â€¦ BÃ„Â±rakÃ„Â±ldÃ„Â±! (" + $droppedItems.children().length + " ÃƒÂ¶Ã„Å¸e)");
                    }
                  }
                });
                $draggable.kendoDraggable({
                  hint: function(element) {
                    return element.clone().css("opacity", 0.7);
                  }
                });
              } catch(e) {
                console.log("Telerik Draggable/DropTarget yÃƒÂ¼klenemedi, HTML5 kullanÃ„Â±lÃ„Â±yor");
              }
            }, 100);
            break;
          case "droptarget":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸ÂÂ¯ DropTarget Ãƒâ€“rneÃ„Å¸i (73)</h3><p style="margin:0 0 10px 0;color:#666;font-weight:bold;">ÄŸÅ¸â€œÅ’ DropTarget = BÃ„Â±rakma AlanÃ„Â±</p><p style="margin:0 0 20px 0;color:#666;">SÃƒÂ¼rÃƒÂ¼klenen ÃƒÂ¶Ã„Å¸elerin bÃ„Â±rakÃ„Â±labileceÃ„Å¸i alanÃ„Â± tanÃ„Â±mlar. Draggable (72) ile birlikte kullanÃ„Â±lÃ„Â±r.</p><div style="display:flex;gap:20px;align-items:flex-start;"><div style="flex:1;"><h4 style="margin:0 0 15px 0;color:#333;">ÄŸÅ¸â€“Â±Ã¯Â¸Â Draggable Ãƒâ€“Ã„Å¸eler (72):</h4><div id="draggable-items-' + numara + '" style="display:flex;flex-direction:column;gap:10px;"><div id="draggable-item-1-' + numara + '" class="draggable-item" style="padding:15px;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;text-align:center;"><strong>ÄŸÅ¸â€œÂ¦ YAÃ„ÂCILAR</strong><br><small>Motorin: 125,000 L</small></div><div id="draggable-item-2-' + numara + '" class="draggable-item" style="padding:15px;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;text-align:center;"><strong>ÄŸÅ¸â€œÂ¦ TEPEKUM</strong><br><small>Benzin: 85,000 L</small></div><div id="draggable-item-3-' + numara + '" class="draggable-item" style="padding:15px;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;text-align:center;"><strong>ÄŸÅ¸â€œÂ¦ NAMDAR</strong><br><small>Motorin: 45,000 L</small></div></div></div><div style="flex:1;"><h4 style="margin:0 0 15px 0;color:#333;">ÄŸÅ¸ÂÂ¯ DropTarget AlanÃ„Â± (73):</h4><div id="ornek-drop-target-' + numara + '" style="min-height:200px;padding:30px;background:#e3f2fd;border:3px dashed #1976d2;border-radius:4px;text-align:center;"><p style="margin:0;color:#1976d2;font-size:16px;font-weight:bold;">ÄŸÅ¸ÂÂ¯ BIRAKMA ALANI</p><p style="margin:10px 0 0 0;color:#666;font-size:12px;">KutularÃ„Â± buraya sÃƒÂ¼rÃƒÂ¼kleyin</p><div id="dropped-content-' + numara + '" style="margin-top:20px;min-height:50px;"></div></div></div></div><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-left:4px solid #1976d2;font-size:12px;"><strong>ÄŸÅ¸â€™Â¡ Fark:</strong> Draggable (72) = Ãƒâ€“Ã„Å¸eyi sÃƒÂ¼rÃƒÂ¼klenebilir yapar. DropTarget (73) = BÃ„Â±rakma alanÃ„Â±nÃ„Â± tanÃ„Â±mlar. Ã„Â°kisi birlikte kullanÃ„Â±lÃ„Â±r - Draggable ÃƒÂ¶Ã„Å¸eleri DropTarget alanÃ„Â±na bÃ„Â±rakÃ„Â±lÃ„Â±r.</p></div>');
            
            setTimeout(function() {
              var $dropTarget = $("#ornek-drop-target-" + numara);
              var $droppedContent = $("#dropped-content-" + numara);
              var $draggableItems = $(".draggable-item");
              
              // HTML5 drag-drop
              $draggableItems.attr("draggable", "true");
              
              $draggableItems.on("dragstart", function(e) {
                $(this).css("opacity", "0.5");
                e.originalEvent.dataTransfer.effectAllowed = "move";
                e.originalEvent.dataTransfer.setData("text/html", this.outerHTML);
                e.originalEvent.dataTransfer.setData("text/plain", this.id);
              });
              
              $draggableItems.on("dragend", function() {
                $(this).css("opacity", "");
              });
              
              $dropTarget.on("dragover", function(e) {
                e.preventDefault();
                $(this).css({"background": "#bbdefb", "border-color": "#0d47a1"});
              });
              
              $dropTarget.on("dragleave", function() {
                $(this).css({"background": "#e3f2fd", "border-color": "#1976d2"});
              });
              
              $dropTarget.on("drop", function(e) {
                e.preventDefault();
                $(this).css({"background": "#c8e6c9", "border-color": "#2e7d32"});
                setTimeout(function() {
                  $dropTarget.css({"background": "#e3f2fd", "border-color": "#1976d2"});
                }, 500);
                
                var itemId = e.originalEvent.dataTransfer.getData("text/plain");
                var data = e.originalEvent.dataTransfer.getData("text/html");
                
                if (data && !$droppedContent.find("[data-original-id=\"" + itemId + "\"]").length) {
                  var $newItem = $(data).css({
                    "margin": "10px auto",
                    "opacity": "1",
                    "background": "#4caf50",
                    "color": "white",
                    "cursor": "default",
                    "max-width": "200px"
                  }).attr("data-original-id", itemId);
                  $droppedContent.append($newItem);
                  
                  var count = $droppedContent.children().length;
                  $dropTarget.find("p:first").text("Ã¢Å“â€¦ " + count + " ÃƒÂ¶Ã„Å¸e bÃ„Â±rakÃ„Â±ldÃ„Â±!");
                }
              });
              
              // Telerik DropTarget ve Draggable'Ã„Â± da dene
              try {
                $dropTarget.kendoDropTarget({
                  drop: function(e) {
                    var itemId = $(e.draggable.currentTarget).attr("id");
                    if (!$droppedContent.find("[data-original-id=\"" + itemId + "\"]").length) {
                      var $newItem = $(e.draggable.currentTarget).clone().css({
                        "margin": "10px auto",
                        "opacity": "1",
                        "background": "#4caf50",
                        "color": "white",
                        "cursor": "default",
                        "max-width": "200px"
                      }).attr("data-original-id", itemId);
                      $droppedContent.append($newItem);
                      var count = $droppedContent.children().length;
                      $dropTarget.find("p:first").text("Ã¢Å“â€¦ " + count + " ÃƒÂ¶Ã„Å¸e bÃ„Â±rakÃ„Â±ldÃ„Â±!");
                    }
                  }
                });
                
                $draggableItems.each(function() {
                  $(this).kendoDraggable({
                    hint: function(element) {
                      return element.clone().css("opacity", 0.7);
                    }
                  });
                });
              } catch(e) {
                console.log("Telerik DropTarget/Draggable yÃƒÂ¼klenemedi, HTML5 kullanÃ„Â±lÃ„Â±yor");
              }
            }, 100);
            break;
          case "datasource":
            // DataSource ÃƒÂ¶rneÃ„Å¸i - Grid ile veri yÃƒÂ¼kleme
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ÄŸÅ¸â€œÅ  DataSource Ãƒâ€“rneÃ„Å¸i</h3><p style="margin:0 0 20px 0;color:#666;">DataSource ile veri yÃƒÂ¼klenen Grid ÃƒÂ¶rneÃ„Å¸i. DataSource verileri yÃƒÂ¶netir, Grid gÃƒÂ¶sterir.</p><div id="datasource-grid-' + numara + '" style="height:300px;"></div></div>');
            
            // DataSource oluÃ…Å¸tur
            var dataSource = new kendo.data.DataSource({
              data: [
                {id: 1, sube: "YAÃ„ÂCILAR", urun: "Motorin", miktar: 125000, fiyat: 25.50, tutar: 3187500},
                {id: 2, sube: "TEPEKUM", urun: "Benzin", miktar: 85000, fiyat: 28.75, tutar: 2443750},
                {id: 3, sube: "NAMDAR", urun: "Motorin", miktar: 45000, fiyat: 25.50, tutar: 1147500},
                {id: 4, sube: "Ã…ÂEKER", urun: "Benzin", miktar: 60000, fiyat: 28.75, tutar: 1725000}
              ],
              schema: {
                model: {
                  fields: {
                    id: { type: "number" },
                    sube: { type: "string" },
                    urun: { type: "string" },
                    miktar: { type: "number" },
                    fiyat: { type: "number" },
                    tutar: { type: "number" }
                  }
                }
              }
            });
            
            // Grid'i DataSource ile oluÃ…Å¸tur
            $("#datasource-grid-" + numara).kendoGrid({
              dataSource: dataSource,
              columns: [
                {field: "id", title: "ID", width: 60},
                {field: "sube", title: "Ã…Âube", width: 120},
                {field: "urun", title: "ÃƒÅ“rÃƒÂ¼n", width: 100},
                {field: "miktar", title: "Miktar", width: 100, format: "{0:n0} L"},
                {field: "fiyat", title: "Fiyat", width: 100, format: "{0:n2} TL"},
                {field: "tutar", title: "Tutar", width: 120, format: "{0:n2} TL"}
              ],
              height: 300,
              sortable: true,
              filterable: true,
              pageable: {pageSize: 5}
            });
            break;
          default:
            $("#" + containerId).html('<p style="color:#666;padding:20px;">Bu bileÃ…Å¸en iÃƒÂ§in ÃƒÂ¶rnek hazÃ„Â±rlanÃ„Â±yor...<br>BileÃ…Å¸en: ' + ad + '</p>');
        }
        
        // Window'u gÃƒÂ¶ster - BILEÃ…ÂENLER OLUÃ…ÂTURULDUKTAN SONRA
        // setTimeout kullanan bileÃ…Å¸enler iÃƒÂ§in bekle (TabStrip, PanelBar, vb.)
        var needsDelay = (ornekTip === "tabstrip" || ornekTip === "panelbar" || ornekTip === "treeview" || ornekTip === "menu");
        var delayTime = needsDelay ? 500 : 100;
        
        setTimeout(function() {
          var windowWidth = 900;
          var windowHeight = 700;
          
          // Splitter iÃƒÂ§in daha bÃƒÂ¼yÃƒÂ¼k pencere
          if (ornekTip === "splitter") {
            windowWidth = 1000;
            windowHeight = 600;
          }
          
          // Modal element kontrolÃƒÂ¼
          var windowElement = $("#bilesen-ornek-window");
          if (windowElement.length === 0) {
            console.error("Ã¢ÂÅ’ Modal elementi bulunamadÃ„Â±: #bilesen-ornek-window");
            return;
          }
          
          // EÃ„Å¸er daha ÃƒÂ¶nce oluÃ…Å¸turulmuÃ…Å¸sa destroy et
          var existingWindow = windowElement.data("kendoWindow");
          if (existingWindow) {
            try {
              existingWindow.destroy();
            } catch(e) {
              console.warn("Ã¢Å¡Â Ã¯Â¸Â Mevcut window destroy edilirken hata:", e);
            }
          }
          
          // kendoWindow oluÃ…Å¸tur
          if (typeof kendo !== 'undefined' && typeof $.fn.kendoWindow !== 'undefined') {
            try {
              var window = windowElement.kendoWindow({
                title: "#" + numara + " - " + ad + " Ãƒâ€“rneÃ„Å¸i",
                width: windowWidth,
                height: windowHeight,
                modal: true,
                resizable: true,
                draggable: true,
                visible: false
              }).data("kendoWindow");
              
              if (window) {
                window.center().open();
                console.log("Ã¢Å“â€¦ Modal aÃƒÂ§Ã„Â±ldÃ„Â±:", numara, ad);
              } else {
                console.error("Ã¢ÂÅ’ Modal oluÃ…Å¸turulamadÃ„Â± - window undefined");
                // Alternatif: Basit alert gÃƒÂ¶ster
                alert("#" + numara + " - " + ad + " ÃƒÂ¶rneÃ„Å¸i hazÃ„Â±rlanÃ„Â±yor...");
              }
            } catch(e) {
              console.error("Ã¢ÂÅ’ Modal oluÃ…Å¸turma hatasÃ„Â±:", e);
              alert("Modal aÃƒÂ§Ã„Â±lÃ„Â±rken hata: " + e.message);
            }
          } else {
            console.error("Ã¢ÂÅ’ Telerik Window yÃƒÂ¼klenmedi");
            alert("Telerik Window kÃƒÂ¼tÃƒÂ¼phanesi yÃƒÂ¼klenmedi!");
          }
        }, delayTime);
      } catch(error) {
        console.error("BileÃ…Å¸en ÃƒÂ¶rneÃ„Å¸i gÃƒÂ¶sterilirken hata:", error);
        alert("Ãƒâ€“rnek gÃƒÂ¶sterilirken hata oluÃ…Å¸tu: " + error.message);
      }
    }
    
    // FÃ„Â°YAT DEÃ„ÂÃ„Â°Ã…ÂÃ„Â°MÃ„Â° OVERRIDE KALDIRILDI - Ã…Âu an kullanÃ„Â±lmÃ„Â±yor, operasyon override'Ã„Â±nÃ„Â± bozuyordu
    // var originalShowPageOnlyFiyat = window.showPageOnly;
    // if (typeof originalShowPageOnlyFiyat === 'function') {
    //   window.showPageOnly = function(pageId) {
    //     originalShowPageOnlyFiyat(pageId);
    //     if (pageId === 'fiyat-degisimi') {
    //       setTimeout(function() {
    //         if ($("#main-content-fiyat-degisimi").is(":visible")) {
    //           console.log("ÄŸÅ¸Å¡â‚¬ Fiyat DeÃ„Å¸iÃ…Å¸imi sayfasÃ„Â± gÃƒÂ¶sterildi, referans tablosu baÃ…Å¸latÃ„Â±lÃ„Â±yor...");
    //           initFiyatDegisimiBilesenlerTablosu();
    //         }
    //       }, 300);
    //     }
    //   };
    // }
    
    // TabStrip select event'inde de kontrol et
    if (typeof tabStrip !== 'undefined' && tabStrip) {
      tabStrip.bind("select", function(e) {
        var tabItem = $(e.item);
        var tabId = tabItem.attr("data-tab-id");
        var tabText = tabItem.text() || tabItem.html() || "";
        
        if (!tabId && tabText.indexOf("Fiyat") >= 0) {
          tabId = "fiyat-degisimi";
        }
        
        if (tabId === "fiyat-degisimi") {
          // Fiyat Degisimi sayfasi artik bos; ek islem yok.
        }
      });
    }
    
    // Ribbon buton tÃ„Â±klamasÃ„Â±nda da kontrol et
    $(document).on("click", ".ribbon-button", function() {
      var buttonText = $(this).text().trim();
      if (buttonText === "Fiyat DeÃ„Å¸iÃ…Å¸imi" || buttonText.includes("Fiyat")) {
        // Fiyat Degisimi sayfasi artik bos; ek islem yok.
      }
    });
    
    // Sayfa yÃƒÂ¼klendiÃ„Å¸inde kontrol et
    $(document).ready(function() {
      setTimeout(function() {
        // Fiyat Degisimi sayfasi artik bos; ek islem yok.
      }, 1000);
    });
    
    // 8, 9, 10 NUMARALI Ãƒâ€“RNEKLERÃ„Â° OLUÃ…ÂTUR - TELERÃ„Â°K SÃ„Â°TESÃ„Â°NDEKÃ„Â° FORMAT
    function initFiyatDegisimiOrnekleri() {
      console.log("ÄŸÅ¸Å¡â‚¬ Fiyat DeÃ„Å¸iÃ…Å¸imi ÃƒÂ¶rnekleri oluÃ…Å¸turuluyor (Telerik formatÃ„Â±)...");
      
      setTimeout(function() {
        // 8 - TabStrip (Telerik HTML formatÃ„Â±)
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoTabStrip !== 'undefined') {
          var tabstrip8 = $("#fiyat-degisimi-tabstrip-8");
          if (tabstrip8.length > 0) {
            try {
              if (tabstrip8.data("kendoTabStrip")) {
                tabstrip8.data("kendoTabStrip").destroy();
              }
              tabstrip8.kendoTabStrip();
              console.log("Ã¢Å“â€¦ #8 TabStrip oluÃ…Å¸turuldu (Telerik HTML formatÃ„Â±)");
            } catch(e) {
              console.error("Ã¢ÂÅ’ #8 TabStrip hatasÃ„Â±:", e);
            }
          }
        }
        
        // 9 - TreeView
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoTreeView !== 'undefined') {
          var treeview9 = $("#fiyat-degisimi-treeview-9");
          if (treeview9.length > 0) {
            try {
              if (treeview9.data("kendoTreeView")) {
                treeview9.data("kendoTreeView").destroy();
              }
              treeview9.kendoTreeView({
                dataSource: [
                  {text: "YAÃ„ÂCILAR", items: [{text: "Motorin"}, {text: "Benzin"}]},
                  {text: "TEPEKUM", items: [{text: "Motorin"}, {text: "Benzin"}]},
                  {text: "NAMDAR"}
                ]
              });
              console.log("Ã¢Å“â€¦ #9 TreeView oluÃ…Å¸turuldu");
            } catch(e) {
              console.error("Ã¢ÂÅ’ #9 TreeView hatasÃ„Â±:", e);
            }
          }
        }
        
        // 10 - PanelBar (Telerik HTML formatÃ„Â±) - Ã„Â°ÃƒÂ§inde tablolar var
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoPanelBar !== 'undefined') {
          var panelbar10 = $("#fiyat-degisimi-panelbar-10");
          if (panelbar10.length > 0) {
            try {
              if (panelbar10.data("kendoPanelBar")) {
                panelbar10.data("kendoPanelBar").destroy();
              }
              // Ãƒâ€“nce PanelBar'Ã„Â± oluÃ…Å¸tur
              panelbar10.kendoPanelBar({
                expandMode: "multiple" // Birden fazla panel aynÃ„Â± anda aÃƒÂ§Ã„Â±k olabilsin
              });
              console.log("Ã¢Å“â€¦ #10 PanelBar oluÃ…Å¸turuldu (Telerik HTML formatÃ„Â±)");
              
              // PanelBar oluÃ…Å¸turulduktan sonra tablolarÃ„Â± oluÃ…Å¸tur
              setTimeout(function() {
                initPanelBarSubelerTablo();
                initPanelBarUrunlerTablo();
                initPanelBarFirmalarTablo();
              }, 300);
            } catch(e) {
              console.error("Ã¢ÂÅ’ #10 PanelBar hatasÃ„Â±:", e);
            }
          }
        }
      }, 500);
    }
    
    // PanelBar iÃƒÂ§indeki tablolarÃ„Â± oluÃ…Å¸tur
    function initPanelBarSubelerTablo() {
      var grid = $("#panelbar-subeler-tablo");
      if (grid.length > 0 && !grid.data("kendoGrid")) {
        grid.kendoGrid({
          dataSource: {
            data: [
              {id: 1, ad: "YAÃ„ÂCILAR", kod: "YGC", durum: "Aktif"},
              {id: 2, ad: "TEPEKUM", kod: "TPK", durum: "Aktif"},
              {id: 3, ad: "NAMDAR", kod: "NMD", durum: "Aktif"},
              {id: 4, ad: "Ã…ÂEKER", kod: "SKR", durum: "Pasif"}
            ],
            pageSize: 10
          },
          columns: [
            {field: "id", title: "#", width: 60},
            {field: "ad", title: "Ã…Âube AdÃ„Â±", width: 150},
            {field: "kod", title: "Kod", width: 100},
            {field: "durum", title: "Durum", width: 100}
          ],
          height: 250,
          scrollable: true,
          pageable: true
        });
      }
    }
    
    function initPanelBarUrunlerTablo() {
      var grid = $("#panelbar-urunler-tablo");
      if (grid.length > 0 && !grid.data("kendoGrid")) {
        grid.kendoGrid({
          dataSource: {
            data: [
              {id: 1, ad: "Motorin", birim: "Litre", fiyat: 45.50},
              {id: 2, ad: "Benzin", birim: "Litre", fiyat: 52.30},
              {id: 3, ad: "Mazot", birim: "Litre", fiyat: 48.75}
            ],
            pageSize: 10
          },
          columns: [
            {field: "id", title: "#", width: 60},
            {field: "ad", title: "ÃƒÅ“rÃƒÂ¼n AdÃ„Â±", width: 150},
            {field: "birim", title: "Birim", width: 100},
            {field: "fiyat", title: "Fiyat (TL)", width: 120, format: "{0:n2}"}
          ],
          height: 250,
          scrollable: true,
          pageable: true
        });
      }
    }
    
    function initPanelBarFirmalarTablo() {
      var grid = $("#panelbar-firmalar-tablo");
      if (grid.length > 0 && !grid.data("kendoGrid")) {
        grid.kendoGrid({
          dataSource: {
            data: [
              {id: 1, ad: "ABC Petrol", telefon: "0212 555 0001", sehir: "Ã„Â°stanbul"},
              {id: 2, ad: "XYZ Enerji", telefon: "0216 555 0002", sehir: "Ankara"},
              {id: 3, ad: "DEF YakÃ„Â±t", telefon: "0232 555 0003", sehir: "Ã„Â°zmir"}
            ],
            pageSize: 10
          },
          columns: [
            {field: "id", title: "#", width: 60},
            {field: "ad", title: "Firma AdÃ„Â±", width: 200},
            {field: "telefon", title: "Telefon", width: 150},
            {field: "sehir", title: "Ã…Âehir", width: 120}
          ],
          height: 250,
          scrollable: true,
          pageable: true
        });
      }
    }
  </script>
{% endblock %}

