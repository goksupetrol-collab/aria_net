{% extends "dashboard/base.html" %}
{% load static %}

{% block title %}Yeni Telerik Projesi{% endblock %}

{% block extra_head %}
  <style>
    *{box-sizing:border-box}
    /* Sadece layout iÃ§in minimal CSS - Telerik bileÅŸenleri kendi stillerini kullanacak */
    .container{width:100%;height:auto;min-height:auto;padding:0;margin:0;overflow:visible}
    .header{display:none}
    .menu-container{display:none}
    #top-menu-bar{display:block !important;visibility:visible !important;width:100%;min-height:30px}
    #top-menu-bar .k-menu{display:block !important;width:100% !important;background:#fff !important}
    #top-menu-bar .k-menu-item{display:inline-block !important;visibility:visible !important}
    .content-area{width:100%;height:auto;margin-top:0;display:grid;grid-template-columns:620px 620px 640px;grid-template-rows:448px 438px;gap:5px;padding:0;max-width:100vw;overflow-x:hidden !important}
    /* Operasyon sayfasÄ± iÃ§in content-area Ã¶zel ayar */
    #main-content-operasyon .content-area {
      overflow-x: hidden !important;
      width: 100% !important;
      max-width: 100vw !important;
    }
    .panel{position:relative;display:flex;flex-direction:column;overflow:hidden}
    .panel-content{flex:1;overflow:auto;position:relative}
    .mtr1-section{grid-column:1;grid-row:1}
    .mtr2-section{grid-column:2;grid-row:1}
    .right-section{grid-column:3;grid-row:1 / span 2;display:flex;flex-direction:column;gap:3px}
    .entry-section{grid-column:1;grid-row:2}
    .cars-section{grid-column:2;grid-row:2;display:flex;flex-direction:column;overflow:hidden}
    .right-column{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:600px 20px 25px 1fr;gap:3px;height:100%}
    .tahsilat-area{grid-column:1;grid-row:1}
    .odeme-area{grid-column:2;grid-row:1}
    .tahsilat-total{grid-column:1;grid-row:2;display:flex;align-items:center;justify-content:center;height:20px}
    .odeme-total{grid-column:2;grid-row:2;display:flex;align-items:center;justify-content:center;height:20px}
    .genel-total{grid-column:1 / span 2;grid-row:3;display:flex;align-items:center;justify-content:center;height:25px}
    .limits-area{grid-column:1 / span 2;grid-row:4;display:grid;grid-template-columns:1fr 1fr;gap:3px}
    .content-wrapper{width:100%;height:auto;overflow-x:hidden !important;overflow-y:auto;margin-top:0}
    /* Operasyon sayfasÄ± iÃ§in content-wrapper kaydÄ±rmasÄ±nÄ± gizle */
    body.operasyon-sayfasi-acik .content-wrapper {
      overflow-y: hidden !important;
    }
    
    /* Telerik Menu Ã¶zelleÅŸtirmeleri - Resimdeki gibi */
    #top-menu-container{background:#e3f2fd !important}
    #top-menu-bar .k-menu{background:#e3f2fd !important;border:none !important;height:28px !important}
    #top-menu-bar .k-menu-item{background:transparent !important;border-right:1px solid #90caf9 !important;padding:4px 12px !important;height:28px !important;line-height:20px !important}
    #top-menu-bar .k-menu-item:hover{background:#bbdefb !important}
    #top-menu-bar .k-menu-item-text{font-size:11px !important;font-weight:normal !important;color:#000 !important}
    #top-menu-bar .k-menu-group{background:#fff !important;border:1px solid #90caf9 !important;box-shadow:0 2px 4px rgba(0,0,0,.1) !important}
    #top-menu-bar .k-menu-group .k-menu-item{background:#fff !important;border-right:none !important;padding:6px 12px !important;height:auto !important}
    #top-menu-bar .k-menu-group .k-menu-item:hover{background:#f5f5f5 !important}
    
    /* BAÅLIK: LOBI - Sadece menÃ¼ (lobi) ekranÄ±nda gÃ¶rÃ¼nÃ¼r */
    /* BaÅŸlangÄ±Ã§ta gÃ¶rÃ¼nÃ¼r (lobi ekranÄ±), JavaScript ile kontrol edilir */
    #title-bar{position:fixed;top:169px;left:0;right:0;z-index:9995;height:40px;background:linear-gradient(to bottom, rgb(60, 80, 100), rgb(40, 60, 80));display:flex;align-items:center;justify-content:center;padding:0;font-family:'Segoe UI',Arial,sans-serif;box-shadow:0 2px 6px rgba(0,0,0,0.2);display:none;}
    #title-bar div{color:#FFFFFF;font-size:18pt;font-weight:600;letter-spacing:1px;text-shadow:1px 1px 2px rgba(0,0,0,0.3);text-align:center;width:100%;}
    
    /* Ä°Ã§erik wrapper margin dÃ¼zeltmesi */
    .content-wrapper{margin-top:0 !important;padding-top:0 !important;}
    
    /* Ä°Ã§erik alanÄ± margin ayarÄ± - base.html'deki main-content margin-top:169px var */
    #main-content-operasyon{margin-top:0 !important;padding-top:0 !important;display:block;overflow-x:hidden !important;width:100% !important;max-width:100vw !important;}
    #main-content-kredi-karti{margin-top:0 !important;padding-top:0 !important;display:none;}
    #main-content-cari-kart{margin-top:0 !important;padding-top:0 !important;display:none;}
    #main-content-firma-tanimlari{margin-top:0 !important;padding-top:0 !important;display:none;}
    #main-content-sube-karti{margin-top:0 !important;padding-top:0 !important;display:none;}
    #main-content-banka{margin-top:0 !important;padding-top:0 !important;display:none;}
    #main-content-tanker{margin-top:0 !important;padding-top:0 !important;display:none;}
    #main-content-fiyat-degisimi{margin-top:0 !important;padding-top:0 !important;display:none;}
    .container{padding:0 !important;margin:0 !important;}
    
    /* Operasyon sayfasÄ± iÃ§in kaydÄ±rma kaldÄ±rma */
    body.operasyon-sayfasi-acik,
    body.operasyon-sayfasi-acik html {
      overflow-x: hidden !important;
      overflow-y: hidden !important;
      width: 100% !important;
      max-width: 100vw !important;
    }
    #main-content-operasyon,
    #main-content-operasyon .container,
    #main-content-operasyon .content-wrapper,
    #main-content-operasyon .content-area,
    #main-content-operasyon * {
      overflow-x: hidden !important;
      overflow-y: hidden !important;
      max-width: 100vw !important;
    }
    
    /* Kredi kartÄ± ve banka sayfalarÄ± iÃ§in overflow kontrolÃ¼ */
    #kredi-karti-grid, #kredi-karti-grid .k-grid, #kredi-karti-grid .k-grid-content,
    #kredi-karti-grid .k-grid-header, #kredi-karti-grid .k-grid-header-wrap,
    #kredi-karti-grid .k-grid-content-wrap, #kredi-karti-grid table {overflow-x:hidden !important;max-width:100% !important;width:100% !important}
    
    #cari-kart-grid, #cari-kart-grid .k-grid, #cari-kart-grid .k-grid-content,
    #cari-kart-grid .k-grid-header, #cari-kart-grid .k-grid-header-wrap,
    #cari-kart-grid .k-grid-content-wrap, #cari-kart-grid table {overflow-x:hidden !important;max-width:100% !important;width:100% !important}
    
    #firma-tanimlari-grid, #firma-tanimlari-grid .k-grid, #firma-tanimlari-grid .k-grid-content,
    #firma-tanimlari-grid .k-grid-header, #firma-tanimlari-grid .k-grid-header-wrap,
    #firma-tanimlari-grid .k-grid-content-wrap, #firma-tanimlari-grid table {overflow-x:hidden !important;max-width:100% !important;width:100% !important}
    #sube-karti-grid, #sube-karti-grid .k-grid, #sube-karti-grid .k-grid-content,
    #sube-karti-grid .k-grid-header, #sube-karti-grid .k-grid-header-wrap,
    #sube-karti-grid .k-grid-content-wrap, #sube-karti-grid table {overflow-x:hidden !important;max-width:100% !important;width:100% !important}
    #sube-evrak-window {position: relative; z-index: 5000;}
    #sube-evrak-window .k-upload-button {position: relative; z-index: 2; pointer-events: auto;}
    #sube-evrak-window .k-dropzone {display:flex !important; align-items:center; gap:8px;}
    #sube-evrak-window .k-dropzone-hint {display:none !important;}
    #sube-evrak-window input[type="file"] {display:block !important; pointer-events:auto;}

    /* SÃ¼tun seÃ§imi menÃ¼sÃ¼ ikonu her zaman gÃ¶rÃ¼nsÃ¼n */
    #firma-tanimlari-grid .k-grid-header .k-header .k-grid-column-menu,
    #firma-tanimlari-grid .k-grid-header .k-header .k-column-menu {
      visibility: visible !important;
      opacity: 1 !important;
    }

    /* BaÅŸlÄ±k sÃ¼rÃ¼kleme iÃ§in imleÃ§ */
    #firma-tanimlari-grid .k-grid-header .k-header {
      cursor: move;
    }

    /* Firma TanÄ±mlarÄ± yerleÅŸimi */
    .firma-tanimlari-layout {
      display: flex;
      align-items: stretch;
      gap: 16px;
    }
    .firma-tanimlari-grid-area {
      flex: 1;
      min-width: 0;
    }

    /* Firma TanÄ±mlarÄ± saÄŸ sabit buton paneli */
    #firma-tanimlari-right-buttons {
      width: 200px;
      display: none;
      flex-direction: column;
      gap: 6px;
      padding: 10px;
      background: #f7f7f7;
      border: 1px solid #d0d0d0;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      position: sticky;
      top: 160px;
      height: calc(100vh - 220px);
      min-height: 420px;
      z-index: 5;
    }
    body.firma-tanimlari-sayfasi-acik #firma-tanimlari-right-buttons {
      display: flex;
    }
    #firma-tanimlari-right-buttons .k-button {
      width: 100%;
      justify-content: center;
      height: 34px;
      min-height: 34px;
      padding-top: 2px;
      padding-bottom: 2px;
      line-height: 30px;
      font-size: 17px;
    }
    #firma-tanimlari-right-buttons .exit-button {
      margin-top: auto;
    }
    
    #banka-grid, #banka-grid .k-grid, #banka-grid .k-grid-content,
    #banka-grid .k-grid-header, #banka-grid .k-grid-header-wrap,
    #banka-grid .k-grid-content-wrap, #banka-grid table {overflow-x:hidden !important;max-width:100% !important;width:100% !important}
    
    /* GENEL TELERÄ°K GRID BORDER/PADDING SORUNU Ã‡Ã–ZÃœMÃœ - TÃ¼m grid'ler iÃ§in geÃ§erli */
    /* Telerik Grid'in border/padding sorununu Ã§Ã¶zmek iÃ§in genel CSS kurallarÄ± */
    .k-grid, .k-grid .k-widget {
      box-sizing: border-box !important;
    }
    
    /* Container iÃ§indeki grid'ler iÃ§in border kontrolÃ¼ */
    [id*="-grid"], [id*="-grid"] .k-grid,
    [id*="-grid"] .k-widget,
    [id*="-grid"] table.k-grid-table {
      box-sizing: border-box !important;
    }
    
    /* main-content iÃ§indeki tÃ¼m margin/padding sÄ±fÄ±rla */
    #main-content > * {margin-top:0 !important;padding-top:0 !important;}
    #main-content .container {margin-top:0 !important;padding-top:0 !important;}
    #main-content .header {margin:0 !important;padding:0 !important;}
    #main-content .menu-container {margin:0 !important;padding:0 !important;}
    
    /* title-bar JavaScript ile kontrol ediliyor, CSS'de !important kullanmayalÄ±m */
    
    /* PROFESYONEL RENK PALETÄ° - Modern & Temiz */
    
    /* Sayfa Arka PlanÄ± */
    body, #main-content-operasyon, .content-wrapper {
      background-color: #fafafa !important;
    }
    
    /* Global Typography - Roboto font ailesi */
    .k-grid {
      font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif !important;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      font-size: 13px !important;
      line-height: 1.5 !important;
      letter-spacing: 0.01em !important;
      background-color: #ffffff !important;
    }
    
    /* Grid Header - AÃ§Ä±k Mavi Ton, Profesyonel */
    .k-grid .k-grid-header th,
    .k-grid-header th,
    .k-grid-header-wrap th,
    .k-grid-header-wrap table th,
    .k-grid table th.k-header {
      background: linear-gradient(to bottom, #2196f3, #1976d2) !important;
      background-image: linear-gradient(to bottom, #2196f3, #1976d2) !important;
      color: #ffffff !important;
      font-weight: 600 !important;
      font-size: 12px !important;
      letter-spacing: 0.05em !important;
      text-transform: uppercase !important;
      padding: 12px 15px !important;
      border: none !important;
      border-right: 1px solid rgba(255, 255, 255, 0.2) !important;
      border-bottom: 2px solid #1565c0 !important;
      text-align: center !important;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) !important;
    }
    
    .k-grid .k-grid-header th:last-child,
    .k-grid-header th:last-child,
    .k-grid-header-wrap th:last-child {
      border-right: none !important;
    }
    
    /* Telerik'in header background override */
    .k-grid .k-grid-header,
    .k-grid-header-wrap {
      background: transparent !important;
    }
    
    /* Grid Cells - Professional padding, spacing - Ã‡OK GÃœÃ‡LÃœ SELECTOR */
    .k-grid td,
    .k-grid tbody td,
    .k-grid-content td,
    .k-grid-content table td {
      padding: 12px 15px !important;
      border-right: 1px solid #e0e0e0 !important;
      border-bottom: 1px solid #e0e0e0 !important;
      border-top: none !important;
      font-size: 13px !important;
      line-height: 1.5 !important;
      color: #2d3748 !important;
      background-color: inherit !important;
      transition: background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    
    .k-grid td:last-child,
    .k-grid tbody td:last-child {
      border-right: none !important;
    }
    
    /* Row hover effect - Subtle, professional - Ã‡OK GÃœÃ‡LÃœ */
    .k-grid tbody tr,
    .k-grid-content tbody tr {
      transition: background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    
    .k-grid tbody tr:hover,
    .k-grid-content tbody tr:hover {
      background-color: #e3f2fd !important;
    }
    
    /* Telerik'in hover override */
    .k-grid tbody tr:hover td,
    .k-grid-content tbody tr:hover td {
      background-color: #e3f2fd !important;
      border-color: #bbdefb !important;
    }
    
    /* Zebra striping - Temiz renkler */
    .k-grid tbody tr:nth-child(even),
    .k-grid-content tbody tr:nth-child(even) {
      background-color: #fafafa !important;
    }
    
    .k-grid tbody tr:nth-child(odd),
    .k-grid-content tbody tr:nth-child(odd) {
      background-color: #ffffff !important;
    }
    
    /* Telerik'in default background'larÄ±nÄ± override et */
    .k-grid tbody tr.k-alt,
    .k-grid tbody tr.k-state-selected {
      background-color: inherit !important;
    }
    
    /* Grid border radius - Modern look - Ã‡OK GÃœÃ‡LÃœ */
    .k-grid,
    #motorin-grid,
    #benzin-grid,
    #tahsilat-grid,
    #odeme-grid,
    #hypco-grid,
    #aygaz-grid,
    #yakit-alimlari-grid,
    #araclar-grid {
      border-radius: 8px !important;
      overflow: hidden !important;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
      border: 1px solid #e0e0e0 !important;
      background-color: #ffffff !important;
    }
    
    /* Grid header border radius */
    .k-grid-header,
    .k-grid .k-grid-header {
      border-radius: 8px 8px 0 0 !important;
    }
    
    /* Focus state - Professional */
    .k-grid td:focus,
    .k-grid td.k-state-focused {
      outline: 2px solid #4299e1 !important;
      outline-offset: -2px !important;
      background-color: #ebf8ff !important;
    }
    
    /* Editable cell styling */
    .k-grid td input {
      font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif !important;
      font-size: 13px !important;
      padding: 8px 12px !important;
      border: 1px solid rgba(0, 0, 0, 0.12) !important;
      border-radius: 4px !important;
      transition: border-color 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    
    .k-grid td input:focus {
      border-color: #4299e1 !important;
      outline: none !important;
      box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1) !important;
    }
    
    /* Special row styling - BaÅŸlÄ±k satÄ±rlarÄ± (KAPASÄ°TE, ANLIK, SATIÅ, TARÄ°H) - AÃ§Ä±k & Temiz */
    .k-grid .header-row,
    .k-grid tbody tr.header-row,
    .k-grid-content tbody tr.header-row,
    .k-grid tbody tr.header-row td,
    .k-grid-content tbody tr.header-row td {
      background-color: #e3f2fd !important;
      color: #1565c0 !important;
      font-weight: 600 !important;
      border-top: 2px solid #2196f3 !important;
      border-bottom: 1px solid #bbdefb !important;
    }
    
    .k-grid .header-row td,
    .k-grid tbody tr.header-row td,
    .k-grid-content tbody tr.header-row td {
      color: #1565c0 !important;
      border-right: 1px solid #bbdefb !important;
      background-color: #e3f2fd !important;
    }
    
    /* Telerik override - header-row iÃ§in */
    .k-grid tbody tr.header-row.k-alt,
    .k-grid tbody tr.header-row:hover {
      background-color: #e3f2fd !important;
    }
    
    .k-grid tbody tr.header-row:hover td {
      background-color: #bbdefb !important;
      color: #0d47a1 !important;
    }
    
    /* Sub-header row styling - Tarih satÄ±rlarÄ± (PerÅŸembe, Cuma, Cumartesi) - AÃ§Ä±k & Temiz */
    .k-grid .sub-header-row,
    .k-grid tbody tr.sub-header-row,
    .k-grid-content tbody tr.sub-header-row,
    .k-grid tbody tr.sub-header-row td,
    .k-grid-content tbody tr.sub-header-row td {
      background-color: #f5f5f5 !important;
      color: #424242 !important;
      font-weight: 500 !important;
      border-top: 1px solid #e0e0e0 !important;
      border-bottom: 1px solid #e0e0e0 !important;
    }
    
    .k-grid .sub-header-row td,
    .k-grid tbody tr.sub-header-row td,
    .k-grid-content tbody tr.sub-header-row td {
      color: #424242 !important;
      border-right: 1px solid #e0e0e0 !important;
      background-color: #f5f5f5 !important;
    }
    
    /* Telerik override - sub-header-row iÃ§in */
    .k-grid tbody tr.sub-header-row.k-alt,
    .k-grid tbody tr.sub-header-row:hover {
      background-color: #f5f5f5 !important;
    }
    
    .k-grid tbody tr.sub-header-row:hover td {
      background-color: #eeeeee !important;
      color: #212121 !important;
    }
    
    /* Number alignment - Right align for numbers */
    .k-grid .number-cell {
      text-align: right !important;
      font-variant-numeric: tabular-nums !important;
    }
    
    /* Center alignment */
    .k-grid .center-cell {
      text-align: center !important;
    }
    
    /* Panel BaÅŸlÄ±klarÄ± - AÃ§Ä±k Mavi Gradient */
    #motorin-toolbar > div,
    #benzin-toolbar > div,
    #tahsilat-toolbar > div,
    #odeme-toolbar > div,
    #hypco-toolbar > div,
    #aygaz-toolbar > div,
    #yakit-toolbar > div,
    #nakliye-toolbar > div {
      width: 100% !important;
      height: 36px !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      font-family: 'Roboto', sans-serif !important;
      font-size: 13px !important;
      font-weight: 600 !important;
      letter-spacing: 0.05em !important;
      text-transform: uppercase !important;
      background: linear-gradient(to bottom, #2196f3, #1976d2) !important;
      color: #ffffff !important;
      border-radius: 8px 8px 0 0 !important;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
      border-bottom: 2px solid #1565c0 !important;
    }
    
    /* Toplam Ã§ubuklarÄ± */
    #tahsilat-total > div,
    #odeme-total > div,
    #genel-total > div {
      width: 100% !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      font-family: 'Roboto', sans-serif !important;
      font-weight: 600 !important;
      border-radius: 4px !important;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
    }
    
    #tahsilat-total > div {
      height: 24px !important;
      font-size: 12px !important;
      background: linear-gradient(to bottom, #48bb78, #38a169) !important;
      color: #ffffff !important;
    }
    
    #odeme-total > div {
      height: 24px !important;
      font-size: 12px !important;
      background: linear-gradient(to bottom, #f56565, #e53e3e) !important;
      color: #ffffff !important;
    }
    
    #genel-total > div {
      height: 28px !important;
      font-size: 13px !important;
      background: linear-gradient(to bottom, #4299e1, #3182ce) !important;
      color: #ffffff !important;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15) !important;
    }
  </style>
{% endblock %}

{% block content %}
  <!-- BAÅLIK: LOBI - Sadece menÃ¼ (lobi) ekranÄ±nda gÃ¶rÃ¼nÃ¼r -->
  <div id="title-bar">
    <div>LOBI</div>
  </div>
  
  <div class="container" id="main-content-operasyon" style="display:block;overflow-x:hidden !important;width:100% !important;max-width:100vw !important;">
    <div class="header">
      <div id="header-toolbar"></div>
    </div>
    
    <!-- Sol Ãœstte Kompakt MenÃ¼ YapÄ±sÄ± -->
    <div class="menu-container">
      <!-- AltÄ±nda: 3 Ä°konlu Buton - Kompakt -->
      <div id="middle-buttons" style="display:flex;gap:5px;padding:5px 0;margin-top:5px"></div>
      
      <!-- En Alt: 2 Sabit Ã–ÄŸe - Kompakt -->
      <div id="bottom-fixed" style="display:flex;gap:5px;padding:5px 0;margin-top:5px"></div>
    </div>
    
    <!-- Ä°Ã§erik AlanÄ± (Dinamik) - BOÅ -->
    <div class="content-wrapper" style="overflow-x:hidden !important;width:100% !important;max-width:100vw !important;">
    <div class="content-area" style="overflow-x:hidden !important;width:100% !important;max-width:100vw !important;">
      <!-- BOÅ ALAN - SIFIRDAN TASARLANACAK -->

      <!-- OPERASYON - DRAWER Ã–RNEÄÄ° (BOÅ ALAN) -->
      <div id="operasyon-drawer-ornek" style="margin:10px 0 20px 10px;max-width:420px;">
        <button id="operasyon-drawer-toggle" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">
          Drawer AÃ§/Kapat
        </button>
        <div id="operasyon-drawer" style="min-height:160px;"></div>
      </div>
      
      <!-- OPERASYON TABLOSU -->
      <div id="operasyon-tablo-container" style="position:relative;width:684px;height:320px;margin:20px 0 20px 10px;">
        <!-- Telerik Grid Tablosu - 8 sÃ¼tun 10 satÄ±r -->
        <div id="operasyon-grid" style="width:680px;height:316px;position:absolute;top:2px;left:2px;"></div>
      </div>
      
    </div>
    </div>
  </div>

  <!-- KREDÄ° KARTI SAYFASI -->
  <div class="container" id="main-content-kredi-karti" style="display:none;padding:0;width:100%;max-width:100vw;overflow-x:hidden !important;overflow-y:auto;box-sizing:border-box;margin:0;">
    <h1 style="text-align:center;color:#206d7d;margin:10px 0;font-size:20pt;font-weight:bold;">KREDÄ° KARTI TAKÄ°P</h1>
    <div id="kredi-karti-grid" style="width:100%;max-width:100vw;height:800px;overflow-x:hidden !important;overflow-y:auto;margin:0;padding:0;"></div>
  </div>

  <!-- BANKA SAYFASI -->
  <div class="container" id="main-content-banka" style="display:none;padding:0;width:100%;max-width:100vw;overflow-x:hidden !important;overflow-y:auto;box-sizing:border-box;margin:0;">
    <h1 style="text-align:center;color:#206d7d;margin:10px 0;font-size:20pt;font-weight:bold;">BANKA HESAP TAKÄ°P</h1>
    <div id="banka-grid" style="width:100%;max-width:100vw;height:800px;overflow-x:hidden !important;overflow-y:auto;margin:0;padding:0;"></div>
  </div>
  
  <!-- CARÄ° KARTLAR SAYFASI -->
  <div class="container" id="main-content-cari-kart" style="display:none;padding:0 10px;width:100%;max-width:100vw;overflow-x:hidden !important;overflow-y:auto;box-sizing:border-box;margin:0;">
    <h1 style="text-align:center;color:#206d7d;margin:10px 0;font-size:20pt;font-weight:bold;">CARÄ° KARTLAR</h1>
    <div style="display:flex;gap:8px;justify-content:center;align-items:center;margin:10px 0;">
      <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary">Yeni Kart</button>
      <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Kaydet</button>
      <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Sil</button>
    </div>
    <div id="cari-kart-grid" style="width:100%;max-width:100vw;height:800px;overflow-x:hidden !important;overflow-y:auto;margin:0;padding:0;"></div>
  </div>
  
  <!-- FİRMA TANIMLARI SAYFASI -->
  <div class="container" id="main-content-firma-tanimlari" style="display:none;padding:0 10px;width:100%;max-width:100vw;overflow-x:hidden !important;overflow-y:auto;box-sizing:border-box;margin:0;">
    <h1 style="text-align:center;color:#206d7d;margin:10px 0;font-size:20pt;font-weight:bold;">FİRMA TANIMLARI</h1>
    <div class="firma-tanimlari-layout">
      <div class="firma-tanimlari-grid-area">
        <div id="firma-tanimlari-grid" style="width:100%;max-width:100vw;height:800px;overflow-x:hidden !important;overflow-y:auto;margin:0;padding:0;"></div>
      </div>
      <div id="firma-tanimlari-right-buttons">
        <button id="firma-yeni-btn" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Yeni Firma</button>
        <button id="firma-sube-karti-btn" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Şube Kartı</button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Bilgi Değiştir</button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Buton 3</button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Buton 4</button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Buton 5</button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Buton 6</button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Buton 7</button>
        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base exit-button">Çıkış - ESC</button>
      </div>
    </div>
  </div>

  <!-- ŞUBE KARTI SAYFASI -->
  <div class="container" id="main-content-sube-karti" style="display:none;padding:0 10px;width:100%;max-width:100vw;overflow-x:hidden !important;overflow-y:auto;box-sizing:border-box;margin:0;">
    <h1 style="text-align:center;color:#206d7d;margin:10px 0;font-size:20pt;font-weight:bold;">ŞUBE KARTI</h1>
    <div style="display:flex;gap:8px;justify-content:center;align-items:center;margin:10px 0;">
      <button id="sube-karti-evrak-ekle-btn" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary">Evrak Ekle</button>
    </div>
    <div id="sube-karti-grid" style="width:100%;max-width:100vw;height:400px;overflow-x:hidden !important;overflow-y:auto;margin:0;padding:0;"></div>
    <div id="sube-evrak-grid" style="width:100%;max-width:100vw;height:400px;overflow-x:hidden !important;overflow-y:auto;margin:10px 0 0 0;padding:0;"></div>
  </div>

  <!-- ŞUBE EVRAK EKLE WINDOW -->
  <div id="sube-evrak-window" style="display:none;">
    <div style="padding:12px;">
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px;">
        <label for="sube-evrak-turu" style="min-width:110px;">Evrak Türü:</label>
        <input id="sube-evrak-turu" style="width:100%;" placeholder="Örn: Lisans" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px;">
        <label for="sube-evrak-bitistarih" style="min-width:110px;">Bitiş Tarihi:</label>
        <input id="sube-evrak-bitistarih" style="width:100%;" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px;">
        <label for="sube-evrak-uyari" style="min-width:110px;">Uyarı (gün):</label>
        <input id="sube-evrak-uyari" style="width:100%;" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px;">
        <label for="sube-evrak-aciklama" style="min-width:110px;">Açıklama:</label>
        <input id="sube-evrak-aciklama" style="width:100%;" />
      </div>
      <input id="sube-evrak-upload" name="files" type="file" />
    </div>
    <div style="display:flex;justify-content:flex-end;align-items:center;gap:8px;padding:8px 12px;border-top:1px solid #e0e0e0;">
      <button id="sube-evrak-kaydet" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary">Kaydet</button>
      <button id="sube-evrak-kapat" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Kapat</button>
    </div>
  </div>

  <!-- ŞUBE EVRAK ÖNİZLEME WINDOW -->
  <div id="sube-evrak-onizleme-window" style="display:none;">
    <div id="sube-evrak-onizleme-icerik" style="height:600px;"></div>
  </div>

  <!-- FİRMA TANIM KARTI WINDOW -->
  <div id="firma-tanim-karti-window" style="display:none;">
    <div style="padding:12px;">
      <div style="font-size:16px;font-weight:600;margin-bottom:12px;">Firma Tanım Kartı</div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
        <label for="firma-karti-adi-input" style="min-width:90px;">FİRMA ADI :</label>
        <input id="firma-karti-adi-input" style="width:100%;" />
      </div>
      <div style="display:flex;align-items:center;gap:8px;">
        <label for="firma-karti-sube-input" style="min-width:90px;">ŞUBESİ :</label>
        <input id="firma-karti-sube-input" style="width:100%;" />
      </div>
    </div>
    <div style="display:flex;justify-content:space-between;align-items:center;padding:8px 12px;border-top:1px solid #e0e0e0;">
      <button id="firma-karti-yeni" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Yeni - F3</button>
      <div style="display:flex;gap:8px;">
        <button id="firma-karti-kaydet" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Kaydet - F2</button>
        <button id="firma-karti-cikis" class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base">Çıkış - ESC</button>
      </div>
    </div>
  </div>

  <!-- KREDİ KARTI SAYFASI -->
  <div class="container" id="main-content-kredi-karti" style="display:none;padding:0;width:100%;max-width:100vw;overflow-x:hidden !important;overflow-y:auto;box-sizing:border-box;margin:0;">
    <h1 style="text-align:center;color:#206d7d;margin:10px 0;font-size:20pt;font-weight:bold;">KREDİ KARTI TAKİP</h1>
    <div id="kredi-karti-grid" style="width:100%;max-width:100vw;height:800px;overflow-x:hidden !important;overflow-y:auto;margin:0;padding:0;"></div>
  </div>

  <!-- BANKA SAYFASI -->
  <div class="container" id="main-content-banka" style="display:none;padding:0;width:100%;max-width:100vw;overflow-x:hidden !important;overflow-y:auto;box-sizing:border-box;margin:0;">
    <h1 style="text-align:center;color:#206d7d;margin:10px 0;font-size:20pt;font-weight:bold;">BANKA HESAP TAKİP</h1>
    <div id="banka-grid" style="width:100%;max-width:100vw;height:800px;overflow-x:hidden !important;overflow-y:auto;margin:0;padding:0;"></div>
  </div>

  <!-- TANKER SAYFASI - BOS SAYFA -->
  <div class="container" id="main-content-tanker" style="display:none;padding:20px;width:100%;max-width:100vw;overflow-x:hidden !important;overflow-y:auto;box-sizing:border-box;margin:0;">
  </div>

  <!-- FIYAT DEGISIMI SAYFASI - BOS SAYFA -->
  <div class="container" id="main-content-fiyat-degisimi" style="display:none;padding:20px;width:100%;max-width:100vw;overflow-x:hidden !important;overflow-y:auto;box-sizing:border-box;margin:0;">
  </div>

  <!-- FIRMA YÖNETİMİ WINDOW -->
  <div id="firma-window" style="display:none;">
    <div id="firma-grid-container" style="padding:10px;height:100%;">
      <div id="firma-grid" style="height:500px;"></div>
    </div>
  </div>
  
  <!-- ÜRÜN YÖNETİMİ WINDOW -->
  <div id="urun-window" style="display:none;">
    <div id="urun-grid-container" style="padding:10px;height:100%;">
      <div id="urun-grid" style="height:500px;"></div>
    </div>
  </div>
  
  <!-- TANIMLAR ALT MENÃœ -->
  <div id="tanimlar-menu" style="position:fixed;top:28px;left:0;background:#FFFFFF;border:1px solid #E0E0E0;box-shadow:0 2px 4px rgba(0,0,0,0.1);z-index:10001;display:none;min-width:200px;">
    <div id="tanimlar-firmalar" style="padding:5px 15px;cursor:pointer;">Firmalar</div>
  </div>
{% endblock %}

{% block extra_scripts %}
  <script>
    // Telerik MenÃ¼ler ve Toolbar'lar
    $(document).ready(function() {
      // EN ÃœST: 2 AÃ§Ä±lÄ±r MenÃ¼ (TanÄ±mlar ve Kartlar) - Telerik Menu (HTML yapÄ±sÄ± ile)
      // Telerik dokÃ¼mantasyonuna gÃ¶re: HTML <ul><li> yapÄ±sÄ± kullanÄ±lmalÄ±
      function initTelerikMenu() {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoMenu !== 'undefined') {
          try {
            $("#top-menu-bar").kendoMenu({
              orientation: "horizontal",
              openOnClick: false,
              animation: false,
              select: function(e) {
                console.log("MenÃ¼ tÄ±klandÄ±:", $(e.item).text());
              }
            });
            console.log("âœ… Telerik Menu baÅŸarÄ±yla oluÅŸturuldu!");
          } catch(error) {
            console.error("âŒ Telerik Menu oluÅŸturulurken hata:", error);
            console.error("Hata detayÄ±:", error.message, error.stack);
          }
        } else {
          console.log("â³ Telerik yÃ¼kleniyor, bekleniyor... (kendo:", typeof kendo, ", kendoMenu:", typeof $.fn.kendoMenu, ")");
          setTimeout(initTelerikMenu, 100);
        }
      }
      initTelerikMenu();
      
      // NOT: Ribbon butonlarÄ±na tÄ±klama base.html'de tanÄ±mlÄ±, burada tekrar tanÄ±mlamaya gerek yok
      // base.html'deki handler tÃ¼m sayfalarda Ã§alÄ±ÅŸÄ±yor
      
      // Ä°lk aÃ§Ä±lÄ±ÅŸta hiÃ§bir buton aktif deÄŸil (lobi gibi)
      var currentPage = null; // Åu anki sayfa yok
      
      // Ä°Ã§eriÄŸi gizle (ilk aÃ§Ä±lÄ±ÅŸta boÅŸ ekran - lobi)
      // Ama eÄŸer eski program sayfasÄ±ndan geliyorsa veya sessionStorage'da flag varsa iÃ§eriÄŸi gÃ¶ster ve tab aÃ§
      setTimeout(function() {
        var showContent = false;
        var hasTabs = false;
        
        // F5 yapÄ±ldÄ± mÄ± kontrol et - Performance Navigation API kullan
        var isPageRefresh = false;
        if (performance.navigation) {
          // Eski API (deprecated ama hala Ã§alÄ±ÅŸÄ±yor)
          isPageRefresh = (performance.navigation.type === 1); // TYPE_RELOAD = 1
        } else if (performance.getEntriesByType) {
          // Yeni API
          var navEntries = performance.getEntriesByType('navigation');
          if (navEntries.length > 0) {
            isPageRefresh = (navEntries[0].type === 'reload');
          }
        }
        
        // EÄŸer referrer yoksa veya aynÄ± sayfa ise, F5 yapÄ±lmÄ±ÅŸ olabilir
        if (!isPageRefresh) {
          var referrerPath = document.referrer ? new URL(document.referrer).pathname : '';
          var currentPath = window.location.pathname;
          if (!document.referrer || referrerPath === currentPath || referrerPath === '/' && currentPath === '/') {
            isPageRefresh = true;
          }
        }
        
        // EÄŸer F5 yapÄ±lmadÄ±ysa (baÅŸka bir sayfadan geldiyse), sessionStorage'dan tab'larÄ± yÃ¼kle
        if (!isPageRefresh) {
          loadTabsFromStorage();
          hasTabs = Object.keys(openTabs).length > 0;
        }
        
        // Referrer kontrolÃ¼ kaldÄ±rÄ±ldÄ± (eski program silindi)
        
        // SessionStorage kontrolÃ¼
        if (sessionStorage.getItem('showOperasyonContent') === 'true') {
          showContent = true;
          sessionStorage.removeItem('showOperasyonContent'); // Temizle
        }
        
        // EÄŸer tab'lar varsa iÃ§eriÄŸi gÃ¶ster
        if (hasTabs) {
          showContent = true;
        }
        
        if (showContent) {
          // Ä°Ã§eriÄŸi gÃ¶ster
          $('#main-content-operasyon').show();
          setActiveRibbonButton('operasyon_sayfasi');
          
          // BaÅŸlÄ±ÄŸÄ± gizle (operasyon sayfasÄ± aÃ§Ä±ldÄ±)
          $('#title-bar').hide();
          
          // EÄŸer tab yoksa Operasyon SayfasÄ± tab'Ä±nÄ± aÃ§
          if (!hasTabs) {
            var operasyonItem = menuItems.find(function(item) { return item.name === 'operasyon_sayfasi'; });
            if (operasyonItem) {
              var tabBaslik = operasyonItem.tab_baslik || operasyonItem.baslik;
              openTab(tabBaslik, 'operasyon_sayfasi', operasyonItem.icon);
            }
          }
        } else {
          // Lobi ekranÄ± - baÅŸlÄ±ÄŸÄ± gÃ¶ster, iÃ§eriÄŸi gizle
          $('#main-content-operasyon').hide();
          $('#title-bar').show();
        }
      }, 50);
      
      // NOT: Ribbon butonlarÄ±na hover efekti base.html'de tanÄ±mlÄ±, burada tekrar tanÄ±mlamaya gerek yok
      // NOT: Tab yÃ¶netimi (openTabs, activeTabId, openTab, setActiveTab, closeTab, saveTabsToStorage, loadTabsFromStorage, createTabElement, findTabByTitle, setActiveRibbonButton) base.html'de tanÄ±mlÄ±, burada tekrar tanÄ±mlamaya gerek yok
      
      // TANIMLAR menÃ¼sÃ¼ne tÄ±klama - Alt menÃ¼ aÃ§
      $("#top-menu-bar-container span").first().on("click", function(e) {
        e.stopPropagation();
        var menu = $("#tanimlar-menu");
        if (menu.is(":visible")) {
          menu.hide();
        } else {
          var offset = $(this).offset();
          menu.css({
            top: offset.top + $(this).outerHeight(),
            left: offset.left
          }).show();
        }
      });
      
      // DÄ±ÅŸarÄ± tÄ±klayÄ±nca menÃ¼yÃ¼ kapat
      $(document).on("click", function(e) {
        if (!$(e.target).closest("#top-menu-bar-container span").first().length && 
            !$(e.target).closest("#tanimlar-menu").length) {
          kapatTanimlarMenu();
        }
      });
      
      function kapatTanimlarMenu() {
        $("#tanimlar-menu").hide();
      }
      
      // Alt menÃ¼ item'larÄ±na tÄ±klama
      $("#tanimlar-firmalar").on("click", function(e) {
        e.stopPropagation();
        console.log("Firmalar tÄ±klandÄ±");
        acFirmaYonetimPenceresi();
        kapatTanimlarMenu();
      });
      
      // Hover efektleri
      $("#tanimlar-firmalar").hover(
        function() { $(this).css("background", "#F5F5F5"); },
        function() { $(this).css("background", "#FFFFFF"); }
      );
      
      // FIRMA YÃ–NETÄ°MÄ° PENCERESÄ°
      function acFirmaYonetimPenceresi() {
        // Window oluÅŸtur
        if (!$("#firma-window").data("kendoWindow")) {
          $("#firma-window").kendoWindow({
            title: "Firma Tanımları",
            width: 800,
            height: 600,
            modal: true,
            visible: false,
            actions: ["Close"],
            open: function() {
              // Grid'i oluÅŸtur
              console.log("Firma penceresi aÃ§Ä±ldÄ±, grid oluÅŸturuluyor...");
              setTimeout(function() {
                olusturFirmaGrid();
              }, 100);
            }
          });
        }
        
        var window = $("#firma-window").data("kendoWindow");
        window.center().open();
      }
      
      // FIRMA GRID'Ä° OLUÅTUR
      function olusturFirmaGrid() {
        // Ã–nceki grid varsa yok et
        if ($("#firma-grid").data("kendoGrid")) {
          $("#firma-grid").data("kendoGrid").destroy();
        }
        
        console.log("Firma grid oluÅŸturuluyor...");
        
        // Ã–nce API'den veriyi test et
        $.ajax({
          url: "/api/firmalar/",
          type: "GET",
          dataType: "json",
          success: function(data) {
            console.log("API baÅŸarÄ±lÄ±, veri:", data);
            console.log("Veri tipi:", typeof data, "Uzunluk:", Array.isArray(data) ? data.length : "Array deÄŸil");
            
            // Grid container'Ä± kontrol et
            var gridContainer = $("#firma-grid");
            if (gridContainer.length === 0) {
              console.error("Grid container bulunamadÄ±! #firma-grid");
              if (typeof showWarning === 'function') {
                showWarning("Grid container bulunamadÄ±!");
              } else {
                alert("Grid container bulunamadÄ±!");
              }
              return;
            }
            console.log("Grid container bulundu:", gridContainer.length);
            
            // Ã–nceki grid varsa yok et
            if (gridContainer.data("kendoGrid")) {
              console.log("Eski grid yok ediliyor...");
              gridContainer.data("kendoGrid").destroy();
            }
            
            // Grid'i oluÅŸtur
            gridContainer.kendoGrid({
              dataSource: {
                data: data,
                schema: {
                  model: {
                    id: "id",
                    fields: {
                      id: { type: "number", editable: false },
                      sira_no: { type: "number", validation: { required: true, min: 1 } },
                      ad: { type: "string", validation: { required: true } },
                      sube: { type: "string" },
                      vergi_no: { type: "string" },
                      vergi_dairesi: { type: "string" },
                      adres: { type: "string" },
                      telefon: { type: "string" },
                      eposta: { type: "string" },
                      yetkili_kisi: { type: "string" },
                      aktif: { type: "boolean", defaultValue: true }
                    }
                  }
                },
                pageSize: 20
              },
              height: 500,
              scrollable: true,
              sortable: true,
              filterable: false,
              pageable: {
                pageSizes: [10, 20, 50],
                buttonCount: 5
              },
              toolbar: [
                { name: "create", text: "Yeni Firma Ekle" },
                { name: "save", text: "Kaydet" },
                { name: "cancel", text: "Ä°ptal" }
              ],
              messages: {
                commands: {
                  edit: "DÃ¼zenle",
                  destroy: "Sil",
                  canceledit: "Ä°ptal",
                  update: "GÃ¼ncelle"
                }
              },
              editable: {
                mode: "incell",
                confirmation: "Silmek istediÄŸinizden emin misiniz?"
              },
              columns: [
                { field: "sira_no", title: "Sıra No", width: 90 },
                { field: "ad", title: "Firma Adı", width: 220 },
                { field: "vergi_no", title: "Vergi No", width: 140 },
                { field: "vergi_dairesi", title: "Vergi Dairesi", width: 160 },
                { field: "adres", title: "Adres", width: 240 },
                { field: "telefon", title: "Telefon", width: 140 },
                { field: "eposta", title: "E-posta", width: 180 },
                { field: "yetkili_kisi", title: "Yetkili Kişi", width: 160 },
                { field: "aktif", title: "Aktif", width: 80, template: "#= aktif ? 'Evet' : 'Hayır' #" },
                { 
                  command: [
                    { name: "edit", text: "DÃ¼zenle", className: "k-button k-button-sm" },
                    { name: "destroy", text: "Sil", className: "k-button k-button-sm" }
                  ], 
                  title: "Ä°ÅŸlemler", 
                  width: 150 
                }
              ],
              dataBound: function(e) {
                console.log("Grid yÃ¼klendi, kayÄ±t sayÄ±sÄ±:", e.sender.dataSource.total());
                console.log("Grid verileri:", e.sender.dataSource.data());
                if (e.sender.dataSource.total() === 0) {
                  console.warn("UYARI: Grid'de hiÃ§ veri yok!");
                }
              },
              error: function(e) {
                console.error("Grid hatasÄ±:", e);
              }
            });
          },
          error: function(xhr, status, error) {
            console.error("API hatasÄ±:", status, error, xhr.responseText);
            var errorMessage = "Firmalar yÃ¼klenirken hata oluÅŸtu: " + error;
            if (typeof showError === 'function') {
              showError(errorMessage);
            } else {
              alert(errorMessage + "\n\nDetay: " + xhr.responseText);
            }
          }
        });
      }
      
      // ÃœRÃœN YÃ–NETÄ°MÄ° PENCERESÄ°
      function acUrunYonetimPenceresi() {
        // Window oluÅŸtur
        if (!$("#urun-window").data("kendoWindow")) {
          $("#urun-window").kendoWindow({
            title: "Ürün Tanımları",
            width: 800,
            height: 600,
            modal: true,
            visible: false,
            actions: ["Close"],
            open: function() {
              console.log("ÃœrÃ¼n penceresi aÃ§Ä±ldÄ±, grid oluÅŸturuluyor...");
              setTimeout(function() {
                olusturUrunGrid();
              }, 100);
            }
          });
        }
        
        var window = $("#urun-window").data("kendoWindow");
        window.center().open();
      }
      
      // ÃœRÃœN GRID'Ä° OLUÅTUR
      function olusturUrunGrid() {
        // Ã–nceki grid varsa yok et
        if ($("#urun-grid").data("kendoGrid")) {
          $("#urun-grid").data("kendoGrid").destroy();
        }
        
        console.log("ÃœrÃ¼n grid oluÅŸturuluyor...");
        
        // Ã–nce API'den veriyi test et
        $.ajax({
          url: "/api/urunler/",
          type: "GET",
          dataType: "json",
          success: function(data) {
            console.log("API baÅŸarÄ±lÄ±, veri:", data);
            console.log("Veri tipi:", typeof data, "Uzunluk:", Array.isArray(data) ? data.length : "Array deÄŸil");
            
            // Grid container'Ä± kontrol et
            var gridContainer = $("#urun-grid");
            if (gridContainer.length === 0) {
              console.error("Grid container bulunamadÄ±! #urun-grid");
              if (typeof showWarning === 'function') {
                showWarning("Grid container bulunamadÄ±!");
              } else {
                alert("Grid container bulunamadÄ±!");
              }
              return;
            }
            console.log("Grid container bulundu:", gridContainer.length);
            
            // Ã–nceki grid varsa yok et
            if (gridContainer.data("kendoGrid")) {
              console.log("Eski grid yok ediliyor...");
              gridContainer.data("kendoGrid").destroy();
            }
            
            // Grid'i oluÅŸtur
            gridContainer.kendoGrid({
              dataSource: {
                data: data,
                schema: {
                  model: {
                    id: "id",
                    fields: {
                      id: { type: "number", editable: false },
                      sira_no: { type: "number", validation: { required: true, min: 1 } },
                      ad: { type: "string", validation: { required: true } },
                      aktif: { type: "boolean", defaultValue: true }
                    }
                  }
                },
                pageSize: 20
              },
              height: 500,
              scrollable: true,
              sortable: true,
              filterable: false,
              pageable: {
                pageSizes: [10, 20, 50],
                buttonCount: 5
              },
              toolbar: [
                { name: "create", text: "Yeni ÃœrÃ¼n Ekle" },
                { name: "save", text: "Kaydet" },
                { name: "cancel", text: "Ä°ptal" }
              ],
              editable: {
                mode: "incell",
                confirmation: "Silmek istediÄŸinizden emin misiniz?"
              },
              columns: [
                { field: "sira_no", title: "SÄ±ra No", width: 100 },
                { field: "ad", title: "ÃœrÃ¼n AdÄ±", width: 300 },
                { field: "aktif", title: "Aktif", width: 80, template: "#= aktif ? 'Evet' : 'HayÄ±r' #" },
                { 
                  command: [
                    { name: "edit", text: "DÃ¼zenle", className: "k-button k-button-sm" },
                    { name: "destroy", text: "Sil", className: "k-button k-button-sm" }
                  ], 
                  title: "Ä°ÅŸlemler", 
                  width: 150 
                }
              ],
              messages: {
                commands: {
                  edit: "DÃ¼zenle",
                  destroy: "Sil",
                  canceledit: "Ä°ptal",
                  update: "GÃ¼ncelle"
                }
              },
              dataBound: function(e) {
                console.log("Grid yÃ¼klendi, kayÄ±t sayÄ±sÄ±:", e.sender.dataSource.total());
                console.log("Grid verileri:", e.sender.dataSource.data());
                if (e.sender.dataSource.total() === 0) {
                  console.warn("UYARI: Grid'de hiÃ§ veri yok!");
                }
              },
              error: function(e) {
                console.error("Grid hatasÄ±:", e);
              }
            });
          },
          error: function(xhr, status, error) {
            console.error("API hatasÄ±:", status, error, xhr.responseText);
            var errorMessage = "ÃœrÃ¼nler yÃ¼klenirken hata oluÅŸtu: " + error;
            if (typeof showError === 'function') {
              showError(errorMessage);
            } else {
              alert(errorMessage + "\n\nDetay: " + xhr.responseText);
            }
          }
        });
      }
      
      // Header - Profesyonel Typography
      $("#header-toolbar").html('<h1 style="margin:0;font-family:\'Roboto\',sans-serif;color:#2d3748;font-size:24px;font-weight:600;letter-spacing:0.01em;line-height:1.3;">Yeni Bir Proje</h1>');
    });
    
    $(document).ready(function() {
      // TUTARLI PX Ã–LÃ‡Ãœ SÄ°STEMÄ° - TÃ¼m tablolar iÃ§in standart
      function initTabloOlcuSistemi(containerId, tabloGenislik, tabloYukseklik, sutunSayisi, satirSayisi) {
        var $container = $("#" + containerId);
        if (!$container.length) return;
        
        // GerÃ§ek Ã¶lÃ§Ã¼leri hesapla
        var gercekGenislik = $container.outerWidth() || tabloGenislik;
        var gercekYukseklik = $container.outerHeight() || tabloYukseklik;
        var gercekSutunGenislik = Math.floor(gercekGenislik / sutunSayisi);
        var gercekSatirYukseklik = Math.floor(gercekYukseklik / satirSayisi);
        
        // Konsol loglarÄ± - gerÃ§ek px deÄŸerleri
        console.log("ğŸ“ TABLO Ã–LÃ‡ÃœLERÄ° [" + containerId + "]:");
        console.log("  â†” GeniÅŸlik: " + gercekGenislik + "px (Hedef: " + tabloGenislik + "px)");
        console.log("  â†• YÃ¼kseklik: " + gercekYukseklik + "px (Hedef: " + tabloYukseklik + "px)");
        console.log("  ğŸ“Š SÃ¼tun sayÄ±sÄ±: " + sutunSayisi + " (Her sÃ¼tun: " + gercekSutunGenislik + "px)");
        console.log("  ğŸ“Š SatÄ±r sayÄ±sÄ±: " + satirSayisi + " (Her satÄ±r: " + gercekSatirYukseklik + "px)");
        
        // KÄ±rmÄ±zÄ± Ã¶lÃ§Ã¼ yazÄ±larÄ±nÄ± gÃ¼ncelle
        var $genislikYazi = $container.find(".tablo-olcu-genislik");
        var $yukseklikYazi = $container.find(".tablo-olcu-yukseklik");
        
        if ($genislikYazi.length) {
          $genislikYazi.html("â†” " + gercekGenislik + "px");
        } else {
          console.warn("âš ï¸ GeniÅŸlik yazÄ±sÄ± bulunamadÄ±!");
        }
        if ($yukseklikYazi.length) {
          $yukseklikYazi.find("div").html("â†• " + gercekYukseklik + "px");
        } else {
          console.warn("âš ï¸ YÃ¼kseklik yazÄ±sÄ± bulunamadÄ±!");
        }
        
        return {
          genislik: gercekGenislik,
          yukseklik: gercekYukseklik,
          sutunGenislik: gercekSutunGenislik,
          satirYukseklik: gercekSatirYukseklik
        };
      }
      
      // OPERASYON SAYFASI - Telerik Grid Tablosu (8 sÃ¼tun 10 satÄ±r)
      setTimeout(function() {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoGrid !== 'undefined') {
          // BugÃ¼nÃ¼n tarihini formatla: "12.01. PAZARTESÄ°"
          var today = new Date();
          var day = today.getDate();
          var month = today.getMonth() + 1;
          var year = today.getFullYear();
          var days = ["PAZAR", "PAZARTESÄ°", "SALI", "Ã‡ARÅAMBA", "PERÅEMBE", "CUMA", "CUMARTESÄ°"];
          var dayName = days[today.getDay()];
          var formattedDate = day + "." + (month < 10 ? "0" + month : month) + ". " + dayName;
          
          // 10 satÄ±r veri oluÅŸtur - Ä°lk sÃ¼tun altÄ±na KAPASÄ°TE, ANLIK DURUM, GÃœNLÃœK SATIÅ, TARÄ°H
          var emptyRows = [];
          // Ä°lk satÄ±r: KAPASÄ°TE (rakamlar ile)
          emptyRows.push({
            sutun1: "KAPASÄ°TE",
            sutun2: "100.000",
            sutun3: "100.000",
            sutun4: "29.000",
            sutun5: "60.000",
            sutun6: "50.000",
            sutun7: "60.000",
            sutun8: "70.000"
          });
          // Ä°kinci satÄ±r: ANLIK DURUM
          emptyRows.push({
            sutun1: "ANLIK DURUM",
            sutun2: "",
            sutun3: "",
            sutun4: "",
            sutun5: "",
            sutun6: "",
            sutun7: "",
            sutun8: ""
          });
          // ÃœÃ§Ã¼ncÃ¼ satÄ±r: GÃœNLÃœK SATIÅ
          emptyRows.push({
            sutun1: "GÃœNLÃœK SATIÅ",
            sutun2: "",
            sutun3: "",
            sutun4: "",
            sutun5: "",
            sutun6: "",
            sutun7: "",
            sutun8: ""
          });
          // DÃ¶rdÃ¼ncÃ¼ satÄ±r: BugÃ¼nÃ¼n tarihi (dinamik)
          emptyRows.push({
            sutun1: formattedDate,
            sutun2: "",
            sutun3: "",
            sutun4: "",
            sutun5: "",
            sutun6: "",
            sutun7: "",
            sutun8: ""
          });
          // DiÄŸer 6 satÄ±r boÅŸ
          for (var i = 0; i < 6; i++) {
            emptyRows.push({
              sutun1: "",
              sutun2: "",
              sutun3: "",
              sutun4: "",
              sutun5: "",
              sutun6: "",
              sutun7: "",
              sutun8: ""
            });
          }
          
          $("#operasyon-grid").kendoGrid({
            dataSource: {
              data: emptyRows,
              schema: {
                model: {
                  fields: {
                    sutun1: { type: "string" },
                    sutun2: { type: "string" },
                    sutun3: { type: "string" },
                    sutun4: { type: "string" },
                    sutun5: { type: "string" },
                    sutun6: { type: "string" },
                    sutun7: { type: "string" },
                    sutun8: { type: "string" }
                  }
                }
              }
            },
            width: 680,
            height: 316,
            scrollable: true,
            sortable: false,
            filterable: false,
            resizable: false,
            reorderable: {
              columns: true
            },
            columnResizeHandleWidth: 0,
            rowHeight: 30,
            columns: [
              { field: "sutun1", title: "MOTORÄ°N", width: 120, minResizableWidth: 120, maxResizableWidth: 120, attributes: { style: "height:30px !important;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;" } },
              { field: "sutun2", title: "YAÄCILAR", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } },
              { field: "sutun3", title: "TEPEKUM", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } },
              { field: "sutun4", title: "NAMDAR", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } },
              { field: "sutun5", title: "ÅEKER", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } },
              { field: "sutun6", title: "AKOVA", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } },
              { field: "sutun7", title: "KOOP.", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } },
              { field: "sutun8", title: "NAZÄ°LLÄ°", width: 80, minResizableWidth: 80, maxResizableWidth: 80, attributes: { style: "min-width: 80px !important; max-width: 80px !important; width: 80px !important;" } }
            ],
            noRecords: {
              template: ""
            }
          });
          
          // Grid border sorununu genel fonksiyonla dÃ¼zelt - container iÃ§ alanÄ± 680px
          duzeltGridBorderSorunu("#operasyon-grid", 680);
          
          // SÃ¼tun geniÅŸliklerini ayarla - Ä°lk sÃ¼tun 120px, diÄŸerleri 80px
          setTimeout(function() {
            var grid = $("#operasyon-grid").data("kendoGrid");
            if (grid) {
              var columns = grid.columns;
              // Ä°lk sÃ¼tun 120px, diÄŸerleri 80px
              columns[0].width = 120;
              for (var i = 1; i < columns.length; i++) {
                columns[i].width = 80;
              }
              
              // SÃ¼tun geniÅŸliklerini zorla uygula - header ve td'lerin tam hizalÄ± olmasÄ± iÃ§in
              $("#operasyon-grid .k-grid-header th").each(function(index) {
                if (index === 0) {
                  $(this).css({ 
                    "min-width": "120px", 
                    "max-width": "120px", 
                    "width": "120px", 
                    "flex-shrink": "0", 
                    "flex-grow": "0",
                    "box-sizing": "border-box",
                    "padding-left": "15px",
                    "padding-right": "15px"
                  });
                } else {
                  $(this).css({ 
                    "min-width": "80px", 
                    "max-width": "80px", 
                    "width": "80px", 
                    "flex-shrink": "0", 
                    "flex-grow": "0",
                    "box-sizing": "border-box",
                    "padding-left": "15px",
                    "padding-right": "15px"
                  });
                }
              });
              
              $("#operasyon-grid .k-grid-content table td").each(function() {
                var colIndex = $(this).index();
                if (colIndex === 0) {
                  $(this).css({ 
                    "min-width": "120px", 
                    "max-width": "120px", 
                    "width": "120px", 
                    "flex-shrink": "0", 
                    "flex-grow": "0",
                    "box-sizing": "border-box",
                    "padding-left": "15px",
                    "padding-right": "15px"
                  });
                } else {
                  $(this).css({ 
                    "min-width": "80px", 
                    "max-width": "80px", 
                    "width": "80px", 
                    "flex-shrink": "0", 
                    "flex-grow": "0",
                    "box-sizing": "border-box",
                    "padding-left": "15px",
                    "padding-right": "15px"
                  });
                }
              });
              
              // Header ve data cell'lerin aynÄ± hizada olmasÄ± iÃ§in tablo geniÅŸliÄŸini sabitle
              $("#operasyon-grid table.k-grid-table").css({
                "table-layout": "fixed",
                "width": "680px"
              });
              
              // SatÄ±r yÃ¼ksekliklerini koru
              $("#operasyon-grid .k-grid-content table tr").css({ "height": "30px", "min-height": "30px", "max-height": "30px" });
              
              // Grid geniÅŸliÄŸini toplam sÃ¼tun geniÅŸliÄŸine gÃ¶re ayarla
              var totalWidth = 120 + (80 * 7); // 680px
              grid.options.width = totalWidth;
              $("#operasyon-grid").css("width", totalWidth + "px");
              
              grid.refresh();
            }
          }, 600);
          
          // SÃ¼tun geniÅŸliklerini ve satÄ±r yÃ¼ksekliklerini sabit tut - iÃ§erikle deÄŸiÅŸmesin
          setTimeout(function() {
            var grid = $("#operasyon-grid").data("kendoGrid");
            if (grid) {
              // TÃ¼m satÄ±rlarÄ± sabit yÃ¼kseklikte tut
              $("#operasyon-grid").find(".k-grid tr").css("height", "30px");
              
              // Grid'in CSS'ini dÃ¼zelt - border/padding sorunlarÄ±nÄ± Ã§Ã¶z
              var gridWrapper = $("#operasyon-grid").closest(".k-widget");
              if (gridWrapper.length > 0) {
                gridWrapper.css({
                  "border": "none",
                  "padding": "0",
                  "box-sizing": "border-box"
                });
              }
              
              grid.refresh();
            }
          }, 800);
        }
      }, 200);
    });
    
    $(document).ready(function() {
      try {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoDrawer !== 'undefined') {
          $("#operasyon-drawer").kendoDrawer({
            template: "<ul><li>Operasyon MenÃ¼</li><li>HÄ±zlÄ± Ä°ÅŸlemler</li><li>Raporlar</li></ul>",
            minHeight: 160,
            swipeToOpen: false
          });
          
          $("#operasyon-drawer-toggle").on("click", function() {
            var drawer = $("#operasyon-drawer").data("kendoDrawer");
            var isOpen = $("#operasyon-drawer").data("drawer-open") === true;
            if (isOpen) {
              drawer.hide();
              $("#operasyon-drawer").data("drawer-open", false);
            } else {
              drawer.show();
              $("#operasyon-drawer").data("drawer-open", true);
            }
          });
        }
      } catch(e) { console.error("Operasyon Drawer hatasÄ±:", e); }
    });
    
    $(document).ready(function() {
      // Filtre menÃ¼sÃ¼ TÃ¼rkÃ§e metinler (global)
      if (typeof kendo !== 'undefined' && kendo.ui && kendo.ui.FilterMenu) {
        kendo.ui.FilterMenu.prototype.options.messages = $.extend(
          true,
          kendo.ui.FilterMenu.prototype.options.messages,
          {
            info: "DeÄŸeri ÅŸu olanlarÄ± gÃ¶ster:",
            filter: "Filtrele",
            clear: "Temizle",
            and: "Ve",
            or: "Veya",
            selectValue: "- SeÃ§ -",
            isTrue: "Evet",
            isFalse: "HayÄ±r"
          }
        );
        kendo.ui.FilterMenu.prototype.options.operators = {
          string: {
            contains: "Ä°Ã§erir",
            doesnotcontain: "Ä°Ã§ermez",
            startswith: "Ä°le baÅŸlar",
            endswith: "Ä°le biter",
            eq: "EÅŸittir",
            neq: "EÅŸit deÄŸildir",
            isempty: "BoÅŸ",
            isnotempty: "BoÅŸ deÄŸil",
            isnull: "Null",
            isnotnull: "Null deÄŸil"
          },
          number: {
            eq: "EÅŸittir",
            neq: "EÅŸit deÄŸildir",
            gte: "BÃ¼yÃ¼k veya eÅŸit",
            gt: "BÃ¼yÃ¼ktÃ¼r",
            lte: "KÃ¼Ã§Ã¼k veya eÅŸit",
            lt: "KÃ¼Ã§Ã¼ktÃ¼r",
            isnull: "Null",
            isnotnull: "Null deÄŸil"
          },
          date: {
            eq: "EÅŸittir",
            neq: "EÅŸit deÄŸildir",
            gte: "BÃ¼yÃ¼k veya eÅŸit",
            gt: "BÃ¼yÃ¼ktÃ¼r",
            lte: "KÃ¼Ã§Ã¼k veya eÅŸit",
            lt: "KÃ¼Ã§Ã¼ktÃ¼r",
            isnull: "Null",
            isnotnull: "Null deÄŸil"
          },
          enums: {
            eq: "EÅŸittir",
            neq: "EÅŸit deÄŸildir"
          }
        };
      }

      // Firma TanÄ±m KartÄ± Window
      if (typeof kendo !== 'undefined' && typeof $.fn.kendoWindow !== 'undefined') {
        var firmaTanimKartiWindow = $("#firma-tanim-karti-window").kendoWindow({
          title: "Firma TanÄ±m KartÄ±",
          width: "600px",
          height: "320px",
          visible: false,
          modal: true,
          resizable: false,
          draggable: true,
          actions: ["Close"]
        }).data("kendoWindow");

        if (typeof $.fn.kendoTextBox !== 'undefined') {
          $("#firma-karti-adi-input").kendoTextBox({
            placeholder: ""
          });
          $("#firma-karti-sube-input").kendoTextBox({
            placeholder: ""
          });
        }

        $("#firma-yeni-btn").on("click", function() {
          if (firmaTanimKartiWindow) {
            $("#firma-karti-adi-input").val("");
            $("#firma-karti-sube-input").val("");
            firmaTanimKartiWindow.center().open();
          }
        });

        $("#firma-sube-karti-btn").on("click", function() {
          if (!window.selectedFirma || !window.selectedFirma.ad) {
            if (typeof showWarning === "function") {
              showWarning("Ã–nce listeden firma seÃ§.");
            } else {
              alert("Ã–nce listeden firma seÃ§.");
            }
            return;
          }
          if (typeof openSubeKartiTab === "function") {
            openSubeKartiTab();
          }
          if (typeof window.updateSubeKartiView === "function") {
            setTimeout(window.updateSubeKartiView, 0);
          }
        });

        var subeEvrakWindow = null;
        var subeEvrakOnizlemeWindow = null;
        var subeEvrakTurleri = [];

        function ensureSubeEvrakWindows() {
          if (subeEvrakWindow || typeof $.fn.kendoWindow === "undefined") {
            return;
          }
          subeEvrakWindow = $("#sube-evrak-window").kendoWindow({
            title: "Åube Evrak Ekle",
            width: "600px",
            height: "420px",
            visible: false,
            modal: true,
            resizable: false,
            draggable: true,
            actions: ["Close"],
            open: function() {
              setTimeout(function() {
                wireSubeEvrakUploadButton();
              }, 0);
            }
          }).data("kendoWindow");

          subeEvrakOnizlemeWindow = $("#sube-evrak-onizleme-window").kendoWindow({
            title: "Evrak Ã–nizleme",
            width: "80%",
            height: "80%",
            visible: false,
            modal: true,
            resizable: true,
            draggable: true,
            actions: ["Close", "Maximize", "Minimize"]
          }).data("kendoWindow");
        }

        function loadSubeEvrakTurleri() {
          return fetch("/api/evrak-turleri/")
            .then(function(response) { return response.json(); })
            .then(function(data) {
              subeEvrakTurleri = data || [];
              if (typeof $.fn.kendoComboBox !== "undefined") {
                $("#sube-evrak-turu").kendoComboBox({
                  dataTextField: "ad",
                  dataValueField: "id",
                  placeholder: "Ã–rn: Lisans",
                  filter: "contains",
                  suggest: true,
                  highlightFirst: true,
                  valuePrimitive: true,
                  allowCustom: true,
                  dataSource: subeEvrakTurleri
                });
              }
            });
        }

        function initSubeEvrakForm() {
          if (typeof $.fn.kendoDatePicker !== "undefined") {
            if (!$("#sube-evrak-bitistarih").data("kendoDatePicker")) {
              $("#sube-evrak-bitistarih").kendoDatePicker({
                format: "dd.MM.yyyy"
              });
            }
          }
          if (typeof $.fn.kendoNumericTextBox !== "undefined") {
            if (!$("#sube-evrak-uyari").data("kendoNumericTextBox")) {
              $("#sube-evrak-uyari").kendoNumericTextBox({
                format: "n0",
                decimals: 0,
                min: 1,
                value: 7
              });
            }
          }
          if (typeof $.fn.kendoTextBox !== "undefined") {
            if (!$("#sube-evrak-aciklama").data("kendoTextBox")) {
              $("#sube-evrak-aciklama").kendoTextBox();
            }
          }
          if (typeof $.fn.kendoUpload !== "undefined") {
            if (!$("#sube-evrak-upload").data("kendoUpload")) {
              $("#sube-evrak-upload").kendoUpload({
              async: {
                autoUpload: false
              },
              multiple: false,
              validation: {
                allowedExtensions: [".pdf", ".png", ".jpg", ".jpeg"],
                maxFileSize: 15 * 1024 * 1024
              },
              localization: {
                select: "Dosya SeÃ§",
                uploadSelectedFiles: "Kaydet",
                cancel: "Ä°ptal",
                headerStatusUploading: "YÃ¼kleniyor...",
                headerStatusUploaded: "YÃ¼klendi",
                dropFilesHere: "DosyayÄ± buraya bÄ±rak"
              }
              });
            }
          }
        }

        function wireSubeEvrakUploadButton(attempt) {
          attempt = attempt || 0;
          var upload = $("#sube-evrak-upload").data("kendoUpload");
          if (!upload || !upload.wrapper) {
            if (attempt < 6) {
              setTimeout(function() { wireSubeEvrakUploadButton(attempt + 1); }, 150);
            }
            return;
          }
          if (typeof upload.enable === "function") {
            upload.enable(true);
          }
          var $wrapper = $(upload.wrapper);
          var $button = $wrapper.find(".k-upload-button").first();
          var $fileInput = $wrapper.find("input[type='file']").first();

          if (!$button.length || !$fileInput.length) {
            if (attempt < 6) {
              setTimeout(function() { wireSubeEvrakUploadButton(attempt + 1); }, 150);
            }
            return;
          }

          $fileInput.prop("disabled", false).css({
            position: "absolute",
            opacity: 0,
            top: 0,
            left: 0,
            width: "100%",
            height: "100%",
            cursor: "pointer",
            display: "block",
            zIndex: 3,
            pointerEvents: "auto"
          });
          $button.css({ position: "relative", overflow: "hidden" });

          $wrapper.off("click.subeUploadProxy").on("click.subeUploadProxy", ".k-upload-button", function(e) {
            if ($(e.target).is("input[type='file']")) {
              return;
            }
            e.preventDefault();
            e.stopPropagation();
            var input = $wrapper.find("input[type='file']").first();
            if (input.length) {
              input[0].click();
            }
          });
        }

        function resetSubeEvrakForm() {
          var dd = $("#sube-evrak-turu").data("kendoComboBox");
          if (dd) { dd.value(""); }
          var dp = $("#sube-evrak-bitistarih").data("kendoDatePicker");
          if (dp) { dp.value(null); }
          var nt = $("#sube-evrak-uyari").data("kendoNumericTextBox");
          if (nt) { nt.value(7); }
          $("#sube-evrak-aciklama").val("");
          var upload = $("#sube-evrak-upload").data("kendoUpload");
          if (upload) { upload.clearAllFiles(); }
        }

        function ensureSubeEvrakGrid() {
          if (typeof kendo === "undefined" || typeof $.fn.kendoGrid === "undefined") {
            return;
          }
          if ($("#sube-evrak-grid").data("kendoGrid")) {
            return;
          }
          $("#sube-evrak-grid").kendoGrid({
            dataSource: {
              data: [],
              schema: {
                model: {
                  fields: {
                    id: { type: "number" },
                    evrak_turu: { type: "string" },
                    bitis_tarihi: { type: "date" },
                    uyari_gunu: { type: "number" },
                    kalan_gun: { type: "number" },
                    dosya_url: { type: "string" },
                    dosya_adi: { type: "string" },
                    aciklama: { type: "string" },
                    durum: { type: "string" }
                  }
                }
              }
            },
            height: 360,
            sortable: true,
            filterable: false,
            pageable: false,
            columns: [
              { field: "evrak_turu", title: "Evrak TÃ¼rÃ¼", width: 170 },
              { field: "bitis_tarihi", title: "BitiÅŸ Tarihi", width: 130, format: "{0:dd.MM.yyyy}" },
              { field: "kalan_gun", title: "Kalan GÃ¼n", width: 100 },
              { field: "uyari_gunu", title: "UyarÄ± (gÃ¼n)", width: 100 },
              { field: "aciklama", title: "AÃ§Ä±klama", width: 220 },
              { field: "dosya_adi", title: "Dosya", width: 200 },
              { field: "durum", title: "Durum", width: 130, template: "# if (kalan_gun < 0) { # <span class='k-badge k-badge-md k-badge-solid k-badge-error'>SÃ¼resi geÃ§ti</span> # } else if (kalan_gun <= (uyari_gunu || 0)) { # <span class='k-badge k-badge-md k-badge-solid k-badge-warning'>YaklaÅŸÄ±yor</span> # } else { # <span class='k-badge k-badge-md k-badge-solid k-badge-success'>Normal</span> # } #" },
              { title: "Ã–nizle", width: 90, template: "<button class='k-button k-button-sm k-rounded-md k-button-solid k-button-solid-base sube-evrak-onizle' data-id='#: id #' data-url='#: dosya_url #'>AÃ§</button>" }
            ]
          });
        }

        window.refreshSubeEvrakGrid = function() {
          ensureSubeEvrakGrid();
          if (!window.selectedFirma || !window.selectedFirma.id) {
            var gridEmpty = $("#sube-evrak-grid").data("kendoGrid");
            if (gridEmpty) {
              gridEmpty.dataSource.data([]);
            }
            return;
          }
          fetch("/api/firma-evraklari/" + window.selectedFirma.id + "/")
            .then(function(response) { return response.json(); })
            .then(function(data) {
              var grid = $("#sube-evrak-grid").data("kendoGrid");
              if (!grid) { return; }
              var today = new Date();
              today.setHours(0, 0, 0, 0);
              var warnCount = 0;
              var normalized = (data || []).map(function(item) {
                if (item.bitis_tarihi) {
                  var bitisDate = new Date(item.bitis_tarihi);
                  bitisDate.setHours(0, 0, 0, 0);
                  item.bitis_tarihi = bitisDate;
                  var diffMs = bitisDate.getTime() - today.getTime();
                  var diffDays = Math.ceil(diffMs / (1000 * 60 * 60 * 24));
                  item.kalan_gun = diffDays;
                  if (diffDays < 0) {
                    item.durum = "SÃ¼resi geÃ§ti";
                  } else if (diffDays <= (item.uyari_gunu || 0)) {
                    item.durum = "YaklaÅŸÄ±yor";
                    warnCount += 1;
                  } else {
                    item.durum = "Normal";
                  }
                } else {
                  item.kalan_gun = "";
                  item.durum = "";
                }
                return item;
              });
              grid.dataSource.data(normalized);
              if (warnCount > 0) {
                var message = warnCount + " evrakÄ±n bitiÅŸi yaklaÅŸÄ±yor.";
                if (typeof showWarning === "function") {
                  showWarning(message);
                } else {
                  alert(message);
                }
              }
            });
        };

        function normalizeSubeEvrakUrl(url) {
          if (!url) {
            return "";
          }
          if (url.indexOf("http://") === 0 || url.indexOf("https://") === 0) {
            return url;
          }
          if (url.indexOf("//") === 0) {
            return window.location.protocol + url;
          }
          if (url.charAt(0) !== "/") {
            return window.location.origin + "/" + url;
          }
          return window.location.origin + url;
        }

        $(document).on("click", ".sube-evrak-onizle", function() {
          var evrakId = $(this).data("id");
          var url = $(this).data("url");
          var resolvedUrl = evrakId ? (window.location.origin + "/api/firma-evrak-onizle/" + evrakId + "/") : normalizeSubeEvrakUrl(url);
          if (!resolvedUrl) {
            return;
          }
          ensureSubeEvrakWindows();
          var content = '<div style="height:100%;display:flex;flex-direction:column;gap:8px;">' +
            '<div style="text-align:right;">' +
            '<a class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base" href="' + resolvedUrl + '" target="_blank" rel="noopener">Yeni sekmede aÃ§</a>' +
            '</div>' +
            '<iframe src="' + resolvedUrl + '" style="flex:1;width:100%;border:none;"></iframe>' +
            '</div>';
          $("#sube-evrak-onizleme-icerik").html(content);
          if (subeEvrakOnizlemeWindow) {
            subeEvrakOnizlemeWindow.center().open();
          }
        });

        $("#sube-evrak-kapat").on("click", function() {
          if (subeEvrakWindow) {
            subeEvrakWindow.close();
          }
        });

        $("#sube-karti-evrak-ekle-btn").on("click", function() {
          if (!window.selectedFirma || !window.selectedFirma.id) {
            if (typeof showWarning === "function") {
              showWarning("Ã–nce listeden firma seÃ§.");
            } else {
              alert("Ã–nce listeden firma seÃ§.");
            }
            return;
          }
          ensureSubeEvrakWindows();
          initSubeEvrakForm();
          loadSubeEvrakTurleri().then(function() {
            resetSubeEvrakForm();
            if (subeEvrakWindow) {
              subeEvrakWindow.center().open();
            }
            setTimeout(wireSubeEvrakUploadButton, 100);
          });
        });

        function submitSubeEvrakUpload() {
          if (!window.selectedFirma || !window.selectedFirma.id) {
            return;
          }
          var dd = $("#sube-evrak-turu").data("kendoComboBox");
          var turValue = dd ? dd.value() : "";
          var turText = dd ? dd.text() : "";
          var dp = $("#sube-evrak-bitistarih").data("kendoDatePicker");
          var bitisTarihi = dp && dp.value() ? kendo.toString(dp.value(), "yyyy-MM-dd") : "";
          var nt = $("#sube-evrak-uyari").data("kendoNumericTextBox");
          var uyariGunu = nt ? nt.value() : 7;
          var aciklama = ($("#sube-evrak-aciklama").val() || "").trim();
          var upload = $("#sube-evrak-upload").data("kendoUpload");
          var files = upload ? upload.getFiles() : [];

          if (!turValue && !turText) {
            if (typeof showWarning === "function") {
              showWarning("Evrak tÃ¼rÃ¼ seÃ§.");
            } else {
              alert("Evrak tÃ¼rÃ¼ seÃ§.");
            }
            return;
          }
          if (!files || files.length === 0) {
            if (typeof showWarning === "function") {
              showWarning("Dosya seÃ§.");
            } else {
              alert("Dosya seÃ§.");
            }
            return;
          }

          function uploadEvrak(turIdFinal) {
            var formData = new FormData();
            formData.append("evrak_turu_id", turIdFinal);
            formData.append("bitis_tarihi", bitisTarihi);
            formData.append("uyari_gunu", uyariGunu);
            formData.append("aciklama", aciklama);
            formData.append("dosya", files[0].rawFile);

            return fetch("/api/firma-evraklari/" + window.selectedFirma.id + "/", {
              method: "POST",
              body: formData
            })
              .then(function(response) {
                return response.json().then(function(data) {
                  return { ok: response.ok, data: data };
                });
              })
              .then(function(result) {
                if (!result.ok) {
                  throw new Error(result.data && result.data.error ? result.data.error : "YÃ¼kleme hatasÄ±");
                }
                if (typeof showSuccess === "function") {
                  showSuccess("Evrak yÃ¼klendi.");
                }
                if (subeEvrakWindow) {
                  subeEvrakWindow.close();
                }
                window.refreshSubeEvrakGrid();
              });
          }

          var isNumericId = turValue && String(parseInt(turValue, 10)) === String(turValue);
          if (isNumericId) {
            uploadEvrak(turValue).catch(function(error) {
              if (typeof showError === "function") {
                showError(error.message || "YÃ¼kleme hatasÄ±");
              } else {
                alert(error.message || "YÃ¼kleme hatasÄ±");
              }
            });
            return;
          }

          var newTypeName = (turText || turValue || "").trim();
          fetch("/api/evrak-turleri/", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ ad: newTypeName })
          })
            .then(function(response) {
              return response.json().then(function(data) {
                return { ok: response.ok, data: data };
              });
            })
            .then(function(result) {
              if (!result.ok) {
                throw new Error(result.data && result.data.error ? result.data.error : "Evrak tÃ¼rÃ¼ kaydedilemedi");
              }
              if (dd) {
                dd.value(result.data.id);
              }
              return uploadEvrak(result.data.id);
            })
            .catch(function(error) {
              if (typeof showError === "function") {
                showError(error.message || "YÃ¼kleme hatasÄ±");
              } else {
                alert(error.message || "YÃ¼kleme hatasÄ±");
              }
            });
        }

        $("#sube-evrak-upload").on("click", ".k-upload-selected", function(e) {
          e.preventDefault();
          submitSubeEvrakUpload();
        });

        $("#sube-evrak-kaydet").on("click", function(e) {
          e.preventDefault();
          submitSubeEvrakUpload();
        });
        $("#firma-yeni-btn-top").on("click", function() {
          if (firmaTanimKartiWindow) {
            $("#firma-karti-adi-input").val("");
            $("#firma-karti-sube-input").val("");
            firmaTanimKartiWindow.center().open();
          }
        });

        $("#firma-karti-yeni").on("click", function() {
          $("#firma-karti-adi-input").val("");
          $("#firma-karti-sube-input").val("");
        });

        $("#firma-karti-kaydet").on("click", function() {
          var firmaAdi = ($("#firma-karti-adi-input").val() || "").trim();
          var subeAdi = ($("#firma-karti-sube-input").val() || "").trim();
          if (!firmaAdi) {
            if (typeof showWarning === "function") {
              showWarning("Firma adÄ± boÅŸ olamaz.");
            } else {
              alert("Firma adÄ± boÅŸ olamaz.");
            }
            return;
          }

          fetch("/api/firmalar/", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ ad: firmaAdi, sube: subeAdi })
          })
            .then(function(response) {
              return response.json().then(function(data) {
                return { ok: response.ok, data: data };
              });
            })
            .then(function(result) {
              if (!result.ok) {
                throw new Error(result.data && result.data.error ? result.data.error : "KayÄ±t hatasÄ±");
              }
              if (typeof showSuccess === "function") {
                showSuccess("Firma kaydedildi.");
              }
              var grid = $("#firma-tanimlari-grid").data("kendoGrid");
              if (grid) {
                grid.dataSource.read();
              }
              if (firmaTanimKartiWindow) {
                firmaTanimKartiWindow.close();
              }
            })
            .catch(function(error) {
              if (typeof showError === "function") {
                showError(error.message || "KayÄ±t hatasÄ±");
              } else {
                alert(error.message || "KayÄ±t hatasÄ±");
              }
            });
        });

        $("#firma-karti-cikis").on("click", function() {
          if (firmaTanimKartiWindow) {
            firmaTanimKartiWindow.close();
          }
        });
      }

      // COMBOBOX LÄ°STE VERÄ°LERÄ° (Kredi KartÄ± ve Banka sayfalarÄ± iÃ§in)
      var bankaListesi = [
        "Ziraat BankasÄ±",
        "Ä°ÅŸ BankasÄ±",
        "Garanti BBVA",
        "Akbank",
        "YapÄ± Kredi",
        "Halkbank",
        "VakÄ±fbank",
        "QNB Finansbank",
        "Denizbank",
        "TEB"
      ];
      
      var paraBirimiListesi = ["TL", "USD", "EUR", "GBP"];
      
      var hesapTuruListesi = ["Vadeli", "Vadesiz", "Tasarruf", "Cari"];
      
      var subeListesi = ["YAÄCILAR", "TEPEKUM", "NAMDAR", "ÅEKER", "AKOVA", "KOOP.", "NAZÄ°LLÄ°"];
      
      // KREDÄ° KARTI GRID
      setTimeout(function() {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoGrid !== 'undefined') {
          var emptyRows = [];
          for (var i = 0; i < 20; i++) {
            emptyRows.push({
              son_odeme: null,
              kalan_gun: null,
              tutar: "",
              banka: "",
              kime_ait: "",
              kart_numarasi: "",
              son_kullanim_tarihi: "",
              cv: "",
              iban: "",
              sifre: "",
              sutun1: "",
              sutun2: "",
              sutun3: ""
            });
          }
          
          var containerWidth = $("#kredi-karti-grid").parent().width() || $(window).width();
          var gridWidth = Math.min(containerWidth, 1920);
          
          $("#kredi-karti-grid").kendoGrid({
            dataSource: {
              data: emptyRows,
              schema: {
                model: {
                  fields: {
                    son_odeme: { type: "date" },
                    kalan_gun: { type: "number" },
                    tutar: { type: "string" },
                    banka: { type: "string" },
                    kime_ait: { type: "string" },
                    kart_numarasi: { type: "string" },
                    son_kullanim_tarihi: { type: "string" },
                    cv: { type: "string" },
                    iban: { type: "string" },
                    sifre: { type: "string" },
                    sutun1: { type: "string" },
                    sutun2: { type: "string" },
                    sutun3: { type: "string" }
                  }
                }
              }
            },
            width: gridWidth,
            height: "100%",
            scrollable: false,
            sortable: true,
            filterable: {
              messages: {
                info: "GÃ¶sterilecek veriyi seÃ§in:",
                filter: "Filtrele",
                clear: "Temizle",
                isTrue: "Evet",
                isFalse: "HayÄ±r",
                and: "Ve",
                or: "Veya",
                selectValue: "- SeÃ§ -"
              },
              operators: {
                string: {
                  contains: "Ä°Ã§erir",
                  doesnotcontain: "Ä°Ã§ermez",
                  startswith: "Ä°le baÅŸlar",
                  endswith: "Ä°le biter",
                  eq: "EÅŸittir",
                  neq: "EÅŸit deÄŸildir",
                  isempty: "BoÅŸ",
                  isnotempty: "BoÅŸ deÄŸil",
                  isnull: "Null",
                  isnotnull: "Null deÄŸil"
                },
                number: {
                  eq: "EÅŸittir",
                  neq: "EÅŸit deÄŸildir",
                  gte: "BÃ¼yÃ¼k veya eÅŸit",
                  gt: "BÃ¼yÃ¼ktÃ¼r",
                  lte: "KÃ¼Ã§Ã¼k veya eÅŸit",
                  lt: "KÃ¼Ã§Ã¼ktÃ¼r",
                  isnull: "Null",
                  isnotnull: "Null deÄŸil"
                },
                date: {
                  eq: "EÅŸittir",
                  neq: "EÅŸit deÄŸildir",
                  gte: "BÃ¼yÃ¼k veya eÅŸit",
                  gt: "BÃ¼yÃ¼ktÃ¼r",
                  lte: "KÃ¼Ã§Ã¼k veya eÅŸit",
                  lt: "KÃ¼Ã§Ã¼ktÃ¼r",
                  isnull: "Null",
                  isnotnull: "Null deÄŸil"
                }
              }
            },
            resizable: false,
            pageable: false,
            editable: {
              mode: "incell",
              update: true
            },
            columns: [
              { 
                field: "son_odeme", 
                title: "SON Ã–DEME", 
                width: 125, 
                format: "{0:dd.MM.yyyy}",
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoDatePicker({
                      culture: "tr-TR",
                      format: "dd.MM.yyyy",
                      value: options.model[options.field] || null
                    });
                }
              },
              { field: "kalan_gun", title: "KALAN GÃœN", width: 95, attributes: { class: "center-cell", style: "text-align: center;" } },
              { 
                field: "tutar", 
                title: "TUTAR", 
                width: 115, 
                attributes: { class: "number-cell", style: "text-align: right;" },
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoNumericTextBox({
                      format: "n2",
                      decimals: 2,
                      culture: "tr-TR",
                      value: options.model[options.field] || 0,
                      min: 0
                    });
                }
              },
              { 
                field: "banka", 
                title: "BANKA", 
                width: 135,
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoComboBox({
                      dataSource: bankaListesi,
                      filter: "contains",
                      placeholder: "Banka seÃ§in...",
                      suggest: true,
                      value: options.model[options.field] || ""
                    });
                }
              },
              { field: "kime_ait", title: "KÄ°ME AÄ°T", width: 115 },
              { field: "kart_numarasi", title: "KART NUMARASI", width: 175 },
              { field: "son_kullanim_tarihi", title: "SON KULLANMA TARÄ°HÄ°", width: 135 },
              { field: "cv", title: "CV", width: 65, attributes: { class: "center-cell", style: "text-align: center;" } },
              { field: "iban", title: "Ä°BAN", width: 195 },
              { field: "sifre", title: "ÅÄ°FRE", width: 75, attributes: { class: "center-cell", style: "text-align: center;" } },
              { field: "sutun1", title: "SÃ¼tun1", width: 115 },
              { field: "sutun2", title: "SÃ¼tun2", width: 145 },
              { field: "sutun3", title: "SÃ¼tun3", width: 115 }
            ]
          });
        }
      }, 200);
      
      // BANKA GRID
      setTimeout(function() {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoGrid !== 'undefined') {
          var emptyRows = [];
          for (var i = 0; i < 20; i++) {
            emptyRows.push({
              banka_adi: "",
              hesap_numarasi: "",
              iban: "",
              bakiye: "",
              para_birimi: "",
              hesap_turu: "",
              sube: "",
              acilis_tarihi: null,
              durum: "",
              sutun1: "",
              sutun2: "",
              sutun3: ""
            });
          }
          
          var containerWidth = $("#banka-grid").parent().width() || $(window).width();
          var gridWidth = Math.min(containerWidth, 1920);
          
          $("#banka-grid").kendoGrid({
            dataSource: {
              data: emptyRows,
              schema: {
                model: {
                  fields: {
                    banka_adi: { type: "string" },
                    hesap_numarasi: { type: "string" },
                    iban: { type: "string" },
                    bakiye: { type: "string" },
                    para_birimi: { type: "string" },
                    hesap_turu: { type: "string" },
                    sube: { type: "string" },
                    acilis_tarihi: { type: "date" },
                    durum: { type: "string" },
                    sutun1: { type: "string" },
                    sutun2: { type: "string" },
                    sutun3: { type: "string" }
                  }
                }
              }
            },
            width: gridWidth,
            height: "100%",
            scrollable: false,
            sortable: true,
            filterable: true,
            resizable: false,
            pageable: false,
            editable: {
              mode: "incell",
              update: true
            },
            columns: [
              { 
                field: "banka_adi", 
                title: "BANKA ADI", 
                width: 150,
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoComboBox({
                      dataSource: bankaListesi,
                      filter: "contains",
                      placeholder: "Banka seÃ§in...",
                      suggest: true,
                      value: options.model[options.field] || ""
                    });
                }
              },
              { field: "hesap_numarasi", title: "HESAP NUMARASI", width: 150 },
              { field: "iban", title: "Ä°BAN", width: 250 },
              { 
                field: "bakiye", 
                title: "BAKÄ°YE", 
                width: 130, 
                attributes: { class: "number-cell", style: "text-align: right;" },
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoNumericTextBox({
                      format: "n2",
                      decimals: 2,
                      culture: "tr-TR",
                      value: options.model[options.field] || 0,
                      min: 0
                    });
                }
              },
              { 
                field: "para_birimi", 
                title: "PARA BÄ°RÄ°MÄ°", 
                width: 110, 
                attributes: { class: "center-cell", style: "text-align: center;" },
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoComboBox({
                      dataSource: paraBirimiListesi,
                      filter: "contains",
                      placeholder: "Para birimi seÃ§in...",
                      suggest: true,
                      value: options.model[options.field] || ""
                    });
                }
              },
              { 
                field: "hesap_turu", 
                title: "HESAP TÃœRÃœ", 
                width: 120,
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoComboBox({
                      dataSource: hesapTuruListesi,
                      filter: "contains",
                      placeholder: "Hesap tÃ¼rÃ¼ seÃ§in...",
                      suggest: true,
                      value: options.model[options.field] || ""
                    });
                }
              },
              { 
                field: "sube", 
                title: "ŞUBE", 
                width: 120,
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoComboBox({
                      dataSource: subeListesi,
                      filter: "contains",
                      placeholder: "Åube seÃ§in...",
                      suggest: true,
                      value: options.model[options.field] || ""
                    });
                }
              },
              { 
                field: "acilis_tarihi", 
                title: "AÃ‡ILIÅ TARÄ°HÄ°", 
                width: 130, 
                format: "{0:dd.MM.yyyy}",
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoDatePicker({
                      culture: "tr-TR",
                      format: "dd.MM.yyyy",
                      value: options.model[options.field] || null
                    });
                }
              },
              { field: "durum", title: "DURUM", width: 100, attributes: { class: "center-cell", style: "text-align: center;" } },
              { field: "sutun1", title: "SÃ¼tun1", width: 140 },
              { field: "sutun2", title: "SÃ¼tun2", width: 140 },
              { field: "sutun3", title: "SÃ¼tun3", width: 140 }
            ]
          });
        }
      }, 200);
      
      // CARÄ° KART GRID
      setTimeout(function() {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoGrid !== 'undefined') {
          var emptyRows = [];
          for (var i = 0; i < 20; i++) {
            emptyRows.push({
              kod: "",
              ad: "",
              soyad: "",
              unvan: "",
              ilgili: "",
              tel: "",
              cep: "",
              mail: "",
              fisbak: "",
              carbak: "",
              grp1: ""
            });
          }
          
          var containerWidth = $("#cari-kart-grid").parent().width() || $(window).width();
          var gridWidth = Math.min(containerWidth, 1920);
          
          $("#cari-kart-grid").kendoGrid({
            dataSource: {
              data: emptyRows,
              schema: {
                model: {
                  fields: {
                    kod: { type: "string" },
                    ad: { type: "string" },
                    soyad: { type: "string" },
                    unvan: { type: "string" },
                    ilgili: { type: "string" },
                    tel: { type: "string" },
                    cep: { type: "string" },
                    mail: { type: "string" },
                    fisbak: { type: "number" },
                    carbak: { type: "number" },
                    grp1: { type: "string" }
                  }
                }
              }
            },
            width: gridWidth,
            height: "100%",
            scrollable: false,
            sortable: true,
            filterable: true,
            resizable: false,
            pageable: false,
            editable: {
              mode: "incell",
              update: true
            },
            columns: [
              { field: "kod", title: "KOD", width: 120 },
              { field: "ad", title: "AD", width: 160 },
              { field: "soyad", title: "SOYAD", width: 160 },
              { field: "unvan", title: "ÃœNVAN", width: 220 },
              { field: "ilgili", title: "Ä°LGÄ°LÄ°", width: 160 },
              { field: "tel", title: "TEL", width: 140 },
              { field: "cep", title: "CEP", width: 140 },
              { field: "mail", title: "MAIL", width: 200 },
              {
                field: "fisbak",
                title: "FÄ°Å BAKÄ°YE",
                width: 130,
                attributes: { class: "number-cell", style: "text-align: right;" },
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoNumericTextBox({
                      format: "n2",
                      decimals: 2,
                      culture: "tr-TR",
                      value: options.model[options.field] || 0,
                      min: 0
                    });
                }
              },
              {
                field: "carbak",
                title: "CARÄ° BAKÄ°YE",
                width: 130,
                attributes: { class: "number-cell", style: "text-align: right;" },
                editor: function(container, options) {
                  $('<input name="' + options.field + '"/>')
                    .appendTo(container)
                    .kendoNumericTextBox({
                      format: "n2",
                      decimals: 2,
                      culture: "tr-TR",
                      value: options.model[options.field] || 0,
                      min: 0
                    });
                }
              },
              { field: "grp1", title: "GRUP", width: 90 }
            ]
          });
        }
      }, 200);
      
      // FİRMA TANIMLARI GRID
      window.selectedFirma = null;

      function initSubeKartiGrid() {
        if (typeof kendo === 'undefined' || typeof $.fn.kendoGrid === 'undefined') {
          return;
        }
        if ($("#sube-karti-grid").data("kendoGrid")) {
          return;
        }
        var containerWidth = $("#sube-karti-grid").parent().width() || $(window).width();
        var gridWidth = Math.min(containerWidth, 1200);

        $("#sube-karti-grid").kendoGrid({
          dataSource: {
            data: []
          },
          width: gridWidth,
          height: 350,
          scrollable: false,
          sortable: false,
          pageable: false,
          columns: [
            { field: "ad", title: "FİRMA ADI", width: 320 },
            { field: "sube", title: "ŞUBESİ", width: 220 }
          ]
        });
      }

      window.updateSubeKartiView = function() {
        initSubeKartiGrid();
        var grid = $("#sube-karti-grid").data("kendoGrid");
        if (!grid) {
          return;
        }
        var data = [];
        if (window.selectedFirma) {
          data.push({
            ad: window.selectedFirma.ad || "",
            sube: window.selectedFirma.sube || ""
          });
        }
        grid.dataSource.data(data);
        if (typeof window.refreshSubeEvrakGrid === "function") {
          window.refreshSubeEvrakGrid();
        }
      };

      window.initFirmaTanimlariGrid = function() {
        if (typeof kendo === 'undefined' || typeof $.fn.kendoGrid === 'undefined') {
          return;
        }
        if ($("#firma-tanimlari-grid").data("kendoGrid")) {
          return;
        }
        var containerWidth = $("#firma-tanimlari-grid").parent().width() || $(window).width();
        var gridWidth = Math.min(containerWidth, 1920);
        
        $("#firma-tanimlari-grid").kendoGrid({
          dataSource: {
            transport: {
              read: {
                url: "/api/firmalar/",
                dataType: "json"
              }
            },
            schema: {
              model: {
                fields: {
                  id: { type: "number" },
                  sira_no: { type: "number" },
                  ad: { type: "string" },
                  sube: { type: "string" },
                  vergi_no: { type: "string" },
                  vergi_dairesi: { type: "string" },
                  adres: { type: "string" },
                  telefon: { type: "string" },
                  eposta: { type: "string" },
                  yetkili_kisi: { type: "string" },
                  aktif: { type: "boolean" }
                }
              }
            }
          },
          width: gridWidth,
          height: "100%",
          scrollable: false,
          sortable: true,
          filterable: true,
          selectable: "row",
          change: function() {
            var dataItem = this.dataItem(this.select());
            if (dataItem) {
              window.selectedFirma = {
                id: dataItem.id,
                ad: dataItem.ad,
                sube: dataItem.sube
              };
            }
          },
          columnMenu: {
            messages: {
              columns: "Sütun Seçimi",
              filter: "Filtre",
              sortAscending: "Artan Sırala",
              sortDescending: "Azalan Sırala",
              settings: "Ayarlar",
              done: "Tamam"
            }
          },
          resizable: false,
          reorderable: {
            columns: true
          },
          pageable: false,
          editable: {
            mode: "incell",
            update: true
          },
          columns: [
            { field: "ad", title: "FİRMA ADI", width: 220 },
            { field: "vergi_no", title: "VERGİ NO", width: 140 },
            { field: "vergi_dairesi", title: "VERGİ DAİRESİ", width: 160 },
            { field: "adres", title: "ADRES", width: 240 },
            { field: "telefon", title: "TELEFON", width: 140 },
            { field: "eposta", title: "E-POSTA", width: 180 },
            { field: "yetkili_kisi", title: "YETKİLİ KİŞİ", width: 160 }
          ]
        });
      };
      
      // ÅUBE BAZLI SATIÅ GRAFÄ°ÄÄ°
      setTimeout(function() {
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoChart !== 'undefined') {
          $("#satis-grafik").kendoChart({
            dataSource: {
              data: [
                { sube: "YAÄCILAR", motorin: 100000, benzin: 50000 },
                { sube: "TEPEKUM", motorin: 100000, benzin: 45000 },
                { sube: "NAMDAR", motorin: 29000, benzin: 25000 },
                { sube: "ÅEKER", motorin: 60000, benzin: 40000 },
                { sube: "AKOVA", motorin: 50000, benzin: 35000 },
                { sube: "KOOP.", motorin: 60000, benzin: 30000 },
                { sube: "NAZÄ°LLÄ°", motorin: 70000, benzin: 40000 }
              ]
            },
            title: {
              text: "Åube BazlÄ± SatÄ±ÅŸ KarÅŸÄ±laÅŸtÄ±rmasÄ±",
              font: "14px 'Segoe UI', Arial, sans-serif",
              color: "#2d3748"
            },
            legend: {
              position: "top",
              labels: {
                font: "12px 'Segoe UI', Arial, sans-serif"
              }
            },
            seriesDefaults: {
              type: "column",
              gap: 0.5
            },
            series: [{
              name: "Motorin",
              field: "motorin",
              color: "#4CAF50"
            }, {
              name: "Benzin",
              field: "benzin",
              color: "#2196F3"
            }],
            categoryAxis: {
              field: "sube",
              labels: {
                rotation: -45,
                font: "11px 'Segoe UI', Arial, sans-serif"
              }
            },
            valueAxis: {
              labels: {
                format: "N0",
                font: "11px 'Segoe UI', Arial, sans-serif"
              },
              title: {
                text: "SatÄ±ÅŸ (Litre)",
                font: "12px 'Segoe UI', Arial, sans-serif"
              }
            },
            tooltip: {
              visible: true,
              format: "{0}",
              template: "#= series.name #: #= kendo.format('{0:N0}', value) # Litre"
            }
          });
        }
      }, 300);
      
      // EXCEL DOSYASI YÃœKLEME
      setTimeout(function() {
        console.log("ğŸ”” Upload baÅŸlatÄ±lÄ±yor...");
        console.log("kendo var mÄ±?", typeof kendo !== 'undefined');
        console.log("kendoUpload var mÄ±?", typeof $.fn.kendoUpload !== 'undefined');
        console.log("#upload-area elementi var mÄ±?", $("#upload-area").length);
        console.log("jQuery var mÄ±?", typeof $ !== 'undefined');
        
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoUpload !== 'undefined' && $("#upload-area").length > 0) {
          try {
            // Ã–nce mevcut upload varsa yok et
            var existingUpload = $("#upload-area").data("kendoUpload");
            if (existingUpload) {
              existingUpload.destroy();
              console.log("Eski upload yok edildi");
            }
            
            // Upload bileÅŸenini baÅŸlat
            var upload = $("#upload-area").kendoUpload({
              async: {
                saveUrl: "/api/upload-excel/",
                autoUpload: true
              },
              multiple: false,
              showFileList: false,  // Dosya listesini gizle, sadece buton gÃ¶ster
              validation: {
                allowedExtensions: [".xlsx", ".xls"],
                maxFileSize: 10485760  // 10 MB
              },
              upload: function(e) {
                // YÃ¼kleme baÅŸladÄ±
                console.log("ğŸ“¤ YÃ¼kleme baÅŸladÄ±:", e.files[0].name);
                $("#upload-progress").show().html("YÃ¼kleniyor...");
              },
              success: function(e) {
                // YÃ¼kleme baÅŸarÄ±lÄ±
                console.log("âœ… YÃ¼kleme baÅŸarÄ±lÄ±:", e.response);
                var response = e.response;
                if (response && response.success) {
                  var message = "Dosya baÅŸarÄ±yla yÃ¼klendi: " + (response.filename || "Excel dosyasÄ±");
                  if (typeof showSuccess === 'function') {
                    showSuccess(message);
                  } else {
                    alert(message);
                  }
                } else {
                  var errorMsg = response && response.error ? response.error : "Dosya yÃ¼klendi ancak iÅŸlenirken hata oluÅŸtu";
                  if (typeof showError === 'function') {
                    showError(errorMsg);
                  } else {
                    alert(errorMsg);
                  }
                }
                $("#upload-progress").hide();
              },
              error: function(e) {
                // YÃ¼kleme hatasÄ±
                console.error("âŒ YÃ¼kleme hatasÄ±:", e);
                var response = e.response;
                var errorMsg = "Dosya yÃ¼klenirken hata oluÅŸtu";
                
                if (response) {
                  try {
                    if (typeof response === 'string') {
                      var parsed = JSON.parse(response);
                      errorMsg = parsed.error || errorMsg;
                    } else if (response.error) {
                      errorMsg = response.error;
                    }
                  } catch(e) {
                    console.error("JSON parse hatasÄ±:", e);
                  }
                }
                
                if (typeof showError === 'function') {
                  showError(errorMsg);
                } else {
                  alert(errorMsg);
                }
                $("#upload-progress").hide();
              },
              progress: function(e) {
                // Ä°lerleme gÃ¼ncellemesi
                var percentComplete = e.percentComplete || 0;
                $("#upload-progress").html("YÃ¼kleniyor: %" + Math.round(percentComplete));
              },
              select: function(e) {
                // Dosya seÃ§ildi
                console.log("ğŸ“ Dosya seÃ§ildi:", e.files);
                var files = e.files;
                if (files.length > 0) {
                  var file = files[0];
                  var fileSize = (file.size / 1024 / 1024).toFixed(2);
                  $("#upload-progress").show().html("Dosya seÃ§ildi: " + file.name + " (" + fileSize + " MB)");
                }
              }
            }).data("kendoUpload");
            
            console.log("âœ… Upload baÅŸarÄ±yla baÅŸlatÄ±ldÄ±!", upload);
            
            // Upload HTML'inin oluÅŸmasÄ±nÄ± bekle ve buton metnini deÄŸiÅŸtir
            var checkUploadReady = function(attempt) {
              attempt = attempt || 0;
              var maxAttempts = 15;
              
              // Sadece #upload-area icindeki butonlari hedefle
              var $uploadArea = $("#upload-area");
              var $uploadButton = $uploadArea.find(".k-upload-button");
              var $fileInput = $uploadArea.find("input[type='file']");
              
              console.log("Kontrol " + attempt + ": Buton=" + $uploadButton.length + ", FileInput=" + $fileInput.length);
              console.log("Upload area HTML:", $uploadArea.html().substring(0, 200));
              console.log("Upload area parent:", $uploadArea.parent().html().substring(0, 300));
              
              if ($uploadButton.length > 0) {
                // Buton metnini deÄŸiÅŸtir (Telerik'in handler'Ä±na dokunmadan)
                var $span = $uploadButton.find(".k-button-text, span");
                if ($span.length > 0) {
                  $span.text("Dosya SeÃ§");
                  console.log("âœ… Buton metni deÄŸiÅŸtirildi: Dosya SeÃ§");
                } else {
                  $uploadButton.text("Dosya SeÃ§");
                  console.log("âœ… Buton metni direkt deÄŸiÅŸtirildi: Dosya SeÃ§");
                }
                
                // "Drop files here" metnini deÄŸiÅŸtir
                $uploadArea.find(".k-dropzone, .k-upload-files").add($uploadArea.siblings(".k-dropzone")).each(function() {
                  var $dropzone = $(this);
                  var html = $dropzone.html();
                  if (html) {
                    html = html.replace(/Drop files here to upload/gi, "DosyalarÄ± buraya sÃ¼rÃ¼kleyin");
                    html = html.replace(/Select files\.\.\./gi, "Dosya SeÃ§");
                    $dropzone.html(html);
                  }
                });
                
                // File input'u bul ve ayarla
                if ($fileInput.length > 0) {
                  console.log("âœ… File input bulundu!");
                  $fileInput.css({
                    position: "absolute",
                    opacity: 0,
                    width: "100%",
                    height: "100%",
                    cursor: "pointer",
                    zIndex: 10
                  });
                  
                  // Buton tÄ±klanÄ±nca file input'u tetikle
                  $uploadButton.off("click.upload-custom").on("click.upload-custom", function(e) {
                    console.log("ğŸ“ Upload butonuna tÄ±klandÄ±!");
                    e.preventDefault();
                    e.stopPropagation();
                    $fileInput.first().trigger("click");
                    return false;
                  });
                } else {
                  // File input yoksa, Telerik'in kendi handler'Ä±nÄ±n Ã§alÄ±ÅŸmasÄ±na izin ver
                  console.log("âš ï¸ File input bulunamadÄ±, Telerik'in kendi handler'Ä± kullanÄ±lacak");
                  console.log("Upload bileÅŸeni:", upload);
                  console.log("Upload metodlarÄ±:", Object.keys(upload || {}));
                  
                  // Telerik Upload'un kendi handler'Ä±na dokunmuyoruz
                  // Sadece buton metnini deÄŸiÅŸtirdik, handler Ã§alÄ±ÅŸmaya devam edecek
                  // Telerik Upload buton tÄ±klandÄ±ÄŸÄ±nda otomatik olarak file input oluÅŸturur ve tetikler
                  
                  // Buton tÄ±klanÄ±nca file input'un oluÅŸup oluÅŸmadÄ±ÄŸÄ±nÄ± kontrol et
                  // Telerik Upload buton tÄ±klandÄ±ÄŸÄ±nda file input'u dinamik olarak oluÅŸturur
                  $uploadButton.on("click.upload-test", function(e) {
                    console.log("ğŸ“ Upload butonuna tÄ±klandÄ± (test)!");
                    
                    // Telerik'in handler'Ä±nÄ±n Ã§alÄ±ÅŸmasÄ±na izin ver (preventDefault yapmÄ±yoruz)
                    // Handler Ã§alÄ±ÅŸtÄ±ktan sonra file input'u kontrol et
                    setTimeout(function() {
                      var $newFileInput = $(upload.wrapper).find("input[type='file']");
                      console.log("TÄ±klamadan sonra file input sayÄ±sÄ±:", $newFileInput.length);
                      if ($newFileInput.length > 0) {
                        console.log("âœ… File input oluÅŸturuldu!");
                        console.log("File input:", $newFileInput[0]);
                      } else {
                        console.log("âŒ File input hala oluÅŸturulmadÄ±!");
                        console.log("Wrapper HTML:", $(upload.wrapper).html().substring(0, 500));
                      }
                    }, 100);
                  });
                  
                  // Upload bileÅŸeninin tÃ¼m metodlarÄ±nÄ± listele
                  console.log("Upload bileÅŸeni detaylarÄ±:");
                  console.log("- element:", upload.element);
                  console.log("- options:", upload.options);
                  console.log("- wrapper:", upload.wrapper);
                  
                  // Upload wrapper'Ä± kontrol et
                  if (upload.wrapper) {
                    console.log("Upload wrapper HTML:", $(upload.wrapper).html().substring(0, 500));
                    var $wrapperFileInput = $(upload.wrapper).find("input[type='file']");
                    console.log("Wrapper iÃ§inde file input:", $wrapperFileInput.length);
                    
                    // Dropzone hint metnini deÄŸiÅŸtir
                    $(upload.wrapper).find(".k-dropzone-hint").text("DosyalarÄ± buraya sÃ¼rÃ¼kleyin");
                  }
                }
                
                console.log("âœ… Upload hazÄ±r! Buton metni TÃ¼rkÃ§e, Telerik'in handler'Ä± aktif.");
              } else if (attempt < maxAttempts) {
                // HenÃ¼z hazÄ±r deÄŸil, tekrar dene
                setTimeout(function() {
                  checkUploadReady(attempt + 1);
                }, 200);
              } else {
                console.error("âŒ Upload butonu bulunamadÄ±!");
                console.error("Upload area:", $uploadArea[0]);
                console.error("Upload area parent:", $uploadArea.parent()[0]);
              }
            };
            
            // Ä°lk kontrolÃ¼ baÅŸlat
            setTimeout(function() {
              checkUploadReady(0);
            }, 500);
            
          } catch(error) {
            console.error("âŒ Upload baÅŸlatÄ±lÄ±rken hata:", error);
            console.error("Hata detayÄ±:", error.stack);
            $("#upload-progress").html("Upload baÅŸlatÄ±lamadÄ±: " + error.message).show();
          }
        } else {
          // upload-area elementi yoksa sessizce geÃ§ (operasyon sayfasÄ± dÄ±ÅŸÄ±nda)
          if ($("#upload-area").length === 0) {
            // Element yok, bu normal (baÅŸka sayfalarda)
            return;
          }
          console.warn("âš ï¸ Telerik Upload yÃ¼klenmemiÅŸ!");
          console.warn("kendo:", typeof kendo);
          console.warn("kendoUpload:", typeof $.fn.kendoUpload);
          if ($("#upload-progress").length > 0) {
            $("#upload-progress").html("Upload bileÅŸeni yÃ¼klenemedi. SayfayÄ± yenileyin.").show();
          }
        }
      }, 500);
    });
    
    // ============================================
    // TANKER SAYFASI - TÃœM TELERÄ°K BÄ°LEÅENLERÄ° BAÅLATMA
    // ============================================
    function initTankerBilesenleri() {
      try {
        console.log("ğŸš€ Tanker sayfasÄ± bileÅŸenleri baÅŸlatÄ±lÄ±yor...");
        
        // VERÄ° YÃ–NETÄ°MÄ° BÄ°LEÅENLERÄ°
        try {
          // #1 - Grid - Net Ã–rneklerle
          $("#tanker-grid-1").kendoGrid({
            dataSource: {
              data: [
                { id: 1, sube: "YAÄCILAR", urun: "Motorin", miktar: 125000, birim: "Litre", fiyat: 25.50, tutar: 3187500, tarih: "2024-01-15", durum: "Aktif" },
                { id: 2, sube: "YAÄCILAR", urun: "Benzin", miktar: 85000, birim: "Litre", fiyat: 28.75, tutar: 2443750, tarih: "2024-01-15", durum: "Aktif" },
                { id: 3, sube: "TEPEKUM", urun: "Motorin", miktar: 98000, birim: "Litre", fiyat: 25.50, tutar: 2499000, tarih: "2024-01-16", durum: "Aktif" },
                { id: 4, sube: "TEPEKUM", urun: "Benzin", miktar: 72000, birim: "Litre", fiyat: 28.75, tutar: 2070000, tarih: "2024-01-16", durum: "Aktif" },
                { id: 5, sube: "NAMDAR", urun: "Motorin", miktar: 45000, birim: "Litre", fiyat: 25.50, tutar: 1147500, tarih: "2024-01-17", durum: "Aktif" },
                { id: 6, sube: "NAMDAR", urun: "Benzin", miktar: 32000, birim: "Litre", fiyat: 28.75, tutar: 920000, tarih: "2024-01-17", durum: "Pasif" },
                { id: 7, sube: "ÅEKER", urun: "Motorin", miktar: 67000, birim: "Litre", fiyat: 25.50, tutar: 1708500, tarih: "2024-01-18", durum: "Aktif" },
                { id: 8, sube: "ÅEKER", urun: "Benzin", miktar: 54000, birim: "Litre", fiyat: 28.75, tutar: 1552500, tarih: "2024-01-18", durum: "Aktif" }
              ],
              schema: {
                model: {
                  fields: {
                    tarih: { type: "date" },
                    miktar: { type: "number" },
                    fiyat: { type: "number" },
                    tutar: { type: "number" }
                  }
                }
              }
            },
            columns: [
              { field: "id", title: "ID", width: 60 },
              { field: "sube", title: "Åube", width: 120 },
              { field: "urun", title: "ÃœrÃ¼n", width: 100 },
              { field: "miktar", title: "Miktar", width: 100, format: "{0:n0}", attributes: { style: "text-align:right;" } },
              { field: "birim", title: "Birim", width: 80 },
              { field: "fiyat", title: "Fiyat", width: 100, format: "{0:n2} TL", attributes: { style: "text-align:right;" } },
              { field: "tutar", title: "Tutar", width: 120, format: "{0:n2} TL", attributes: { style: "text-align:right;font-weight:bold;" } },
              { field: "tarih", title: "Tarih", width: 100, format: "{0:dd.MM.yyyy}" },
              { field: "durum", title: "Durum", width: 80 }
            ],
            height: 300,
            sortable: true,
            filterable: true,
            pageable: { pageSize: 5, pageSizes: [5, 10, 20] },
            resizable: true,
            reorderable: true,
            groupable: true,
            toolbar: ["excel", "pdf"],
            excel: { fileName: "Satis_Raporu.xlsx", allPages: true },
            pdf: { fileName: "Satis_Raporu.pdf", allPages: true }
          });
          console.log("âœ… #1 Grid baÅŸlatÄ±ldÄ± - Net Ã¶rneklerle");
        } catch(e) { console.error("âŒ #1 Grid hatasÄ±:", e); }
        
        try {
          // #2 - PivotGrid - Net Ã–rneklerle
          $("#tanker-pivotgrid-2").kendoPivotGrid({
            dataSource: {
              data: [
                { sube: "YAÄCILAR", urun: "Motorin", ay: "Ocak", miktar: 125000, tutar: 3187500 },
                { sube: "YAÄCILAR", urun: "Benzin", ay: "Ocak", miktar: 85000, tutar: 2443750 },
                { sube: "YAÄCILAR", urun: "Motorin", ay: "Åubat", miktar: 132000, tutar: 3366000 },
                { sube: "YAÄCILAR", urun: "Benzin", ay: "Åubat", miktar: 92000, tutar: 2645000 },
                { sube: "TEPEKUM", urun: "Motorin", ay: "Ocak", miktar: 98000, tutar: 2499000 },
                { sube: "TEPEKUM", urun: "Benzin", ay: "Ocak", miktar: 72000, tutar: 2070000 },
                { sube: "TEPEKUM", urun: "Motorin", ay: "Åubat", miktar: 105000, tutar: 2677500 },
                { sube: "TEPEKUM", urun: "Benzin", ay: "Åubat", miktar: 78000, tutar: 2242500 },
                { sube: "NAMDAR", urun: "Motorin", ay: "Ocak", miktar: 45000, tutar: 1147500 },
                { sube: "NAMDAR", urun: "Benzin", ay: "Ocak", miktar: 32000, tutar: 920000 },
                { sube: "ÅEKER", urun: "Motorin", ay: "Ocak", miktar: 67000, tutar: 1708500 },
                { sube: "ÅEKER", urun: "Benzin", ay: "Ocak", miktar: 54000, tutar: 1552500 }
              ],
              columns: [{ name: "urun", expand: true }, { name: "ay", expand: true }],
              rows: [{ name: "sube", expand: true }],
              measures: [
                { values: [{ field: "miktar", aggregate: "sum" }], format: "{0:n0} L" },
                { values: [{ field: "tutar", aggregate: "sum" }], format: "{0:n2} TL" }
              ]
            },
            height: 400
          });
          console.log("âœ… #2 PivotGrid baÅŸlatÄ±ldÄ± - Net Ã¶rneklerle");
        } catch(e) { console.error("âŒ #2 PivotGrid hatasÄ±:", e); }
        
        try {
          // #3 - Spreadsheet
          $("#tanker-spreadsheet-3").kendoSpreadsheet({
            sheets: [{
              name: "SatÄ±ÅŸlar",
              rows: [{
                cells: [
                  { value: "Åube" }, { value: "Miktar" }, { value: "Fiyat" }, { formula: "B1*C1", format: "#,##0.00" }
                ]
              }, {
                cells: [
                  { value: "YAÄCILAR" }, { value: 100000 }, { value: 25.50 }, { formula: "B2*C2", format: "#,##0.00" }
                ]
              }]
            }],
            height: 300
          });
          console.log("âœ… #3 Spreadsheet baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #3 Spreadsheet hatasÄ±:", e); }
        
        try {
          // #4 - TreeList - Net Ã–rneklerle
          $("#tanker-treelist-4").kendoTreeList({
            dataSource: {
              data: [
                { id: 1, sube: "YAÄCILAR", miktar: 210000, tutar: 5631250, parentId: null },
                { id: 2, sube: "Motorin SatÄ±ÅŸlarÄ±", miktar: 125000, tutar: 3187500, parentId: 1 },
                { id: 3, sube: "Benzin SatÄ±ÅŸlarÄ±", miktar: 85000, tutar: 2443750, parentId: 1 },
                { id: 4, sube: "TEPEKUM", miktar: 170000, tutar: 4569000, parentId: null },
                { id: 5, sube: "Motorin SatÄ±ÅŸlarÄ±", miktar: 98000, tutar: 2499000, parentId: 4 },
                { id: 6, sube: "Benzin SatÄ±ÅŸlarÄ±", miktar: 72000, tutar: 2070000, parentId: 4 },
                { id: 7, sube: "NAMDAR", miktar: 77000, tutar: 2067500, parentId: null },
                { id: 8, sube: "Motorin SatÄ±ÅŸlarÄ±", miktar: 45000, tutar: 1147500, parentId: 7 },
                { id: 9, sube: "Benzin SatÄ±ÅŸlarÄ±", miktar: 32000, tutar: 920000, parentId: 7 }
              ],
              schema: {
                model: {
                  id: "id",
                  parentId: "parentId",
                  fields: {
                    miktar: { type: "number" },
                    tutar: { type: "number" }
                  }
                }
              }
            },
            columns: [
              { field: "sube", title: "Åube/ÃœrÃ¼n", width: 200, expandable: true },
              { field: "miktar", title: "Miktar (L)", width: 120, format: "{0:n0}", attributes: { style: "text-align:right;" } },
              { field: "tutar", title: "Tutar (TL)", width: 150, format: "{0:n2}", attributes: { style: "text-align:right;font-weight:bold;" } }
            ],
            height: 400,
            sortable: true,
            filterable: true
          });
          console.log("âœ… #4 TreeList baÅŸlatÄ±ldÄ± - Net Ã¶rneklerle");
        } catch(e) { console.error("âŒ #4 TreeList hatasÄ±:", e); }
        
        try {
          // #5 - ListView - Net Ã–rneklerle
          $("#tanker-listview-5").kendoListView({
            dataSource: {
              data: [
                { sube: "YAÄCILAR", urun: "Motorin", miktar: 125000, fiyat: 25.50, tutar: 3187500, durum: "Aktif" },
                { sube: "YAÄCILAR", urun: "Benzin", miktar: 85000, fiyat: 28.75, tutar: 2443750, durum: "Aktif" },
                { sube: "TEPEKUM", urun: "Motorin", miktar: 98000, fiyat: 25.50, tutar: 2499000, durum: "Aktif" },
                { sube: "TEPEKUM", urun: "Benzin", miktar: 72000, fiyat: 28.75, tutar: 2070000, durum: "Aktif" },
                { sube: "NAMDAR", urun: "Motorin", miktar: 45000, fiyat: 25.50, tutar: 1147500, durum: "Pasif" }
              ]
            },
            template: "<div class='k-card' style='padding:15px;margin:10px;background:#f5f5f5;border-radius:8px;border-left:4px solid #206d7d;'>" +
                      "<h4 style='margin:0 0 10px 0;color:#206d7d;'>#: sube # - #: urun #</h4>" +
                      "<p style='margin:5px 0;'><strong>Miktar:</strong> #: miktar # L</p>" +
                      "<p style='margin:5px 0;'><strong>Fiyat:</strong> #: fiyat # TL</p>" +
                      "<p style='margin:5px 0;'><strong>Tutar:</strong> <span style='color:#28a745;font-weight:bold;'>#: tutar # TL</span></p>" +
                      "<p style='margin:5px 0;'><strong>Durum:</strong> #: durum #</p>" +
                      "</div>",
            height: 400
          });
          console.log("âœ… #5 ListView baÅŸlatÄ±ldÄ± - Net Ã¶rneklerle");
        } catch(e) { console.error("âŒ #5 ListView hatasÄ±:", e); }
        
        // NAVÄ°GASYON BÄ°LEÅENLERÄ°
        try {
          // #7 - Menu
          $("#tanker-menu-7").kendoMenu({
            dataSource: [
              { text: "TanÄ±mlar", items: [{ text: "Firmalar" }, { text: "ÃœrÃ¼nler" }] },
              { text: "Kartlar" },
              { text: "Raporlar" }
            ]
          });
          console.log("âœ… #7 Menu baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #7 Menu hatasÄ±:", e); }
        
        try {
          // #8 - TabStrip
          $("#tanker-tabstrip-8").kendoTabStrip({
            items: [
              { text: "Operasyon", content: "Operasyon iÃ§eriÄŸi" },
              { text: "Banka", content: "Banka iÃ§eriÄŸi" },
              { text: "Raporlar", content: "Raporlar iÃ§eriÄŸi" }
            ]
          });
          console.log("âœ… #8 TabStrip baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #8 TabStrip hatasÄ±:", e); }
        
        try {
          // #9 - TreeView
          $("#tanker-treeview-9").kendoTreeView({
            dataSource: [
              {
                text: "YAÄCILAR",
                items: [
                  { text: "Alt Åube 1" },
                  { text: "Alt Åube 2" }
                ]
              },
              { text: "TEPEKUM" }
            ]
          });
          console.log("âœ… #9 TreeView baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #9 TreeView hatasÄ±:", e); }
        
        try {
          // #10 - PanelBar
          $("#tanker-panelbar-10").kendoPanelBar({
            items: [
              { text: "Motorin DetaylarÄ±", content: "Motorin bilgileri burada..." },
              { text: "Benzin DetaylarÄ±", content: "Benzin bilgileri burada..." }
            ]
          });
          console.log("âœ… #10 PanelBar baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #10 PanelBar hatasÄ±:", e); }
        
        try {
          // #11 - Breadcrumb
          $("#tanker-breadcrumb-11").kendoBreadcrumb({
            items: [
              { text: "Ana Sayfa", href: "#" },
              { text: "Åubeler", href: "#" },
              { text: "YAÄCILAR" }
            ]
          });
          console.log("âœ… #11 Breadcrumb baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #11 Breadcrumb hatasÄ±:", e); }
        
        try {
          // #12 - Toolbar
          $("#tanker-toolbar-12").kendoToolbar({
            items: [
              { type: "button", text: "Kaydet", icon: "save" },
              { type: "button", text: "Sil", icon: "trash" },
              { type: "separator" },
              { type: "button", text: "YazdÄ±r", icon: "print" }
            ]
          });
          console.log("âœ… #12 Toolbar baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #12 Toolbar hatasÄ±:", e); }
        
        try {
          // #13 - Splitter
          $("#tanker-splitter-13").kendoSplitter({
            panes: [
              { collapsible: true, size: "200px", content: "Sol Panel" },
              { collapsible: true, content: "SaÄŸ Panel" }
            ],
            height: 300
          });
          console.log("âœ… #13 Splitter baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #13 Splitter hatasÄ±:", e); }
        
        try {
          // #14 - ResponsivePanel
          $("#tanker-responsivepanel-14").kendoResponsivePanel({
            breakpoint: 768,
            autoClose: false
          });
          $("#tanker-responsivepanel-toggle-14").click(function() {
            var panel = $("#tanker-responsivepanel-14").data("kendoResponsivePanel");
            panel.toggle();
          });
          console.log("âœ… #14 ResponsivePanel baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #14 ResponsivePanel hatasÄ±:", e); }
        
        try {
          // #15 - Drawer
          $("#tanker-drawer-15").kendoDrawer({
            template: "<ul><li>MenÃ¼ 1</li><li>MenÃ¼ 2</li></ul>",
            minHeight: 200,
            swipeToOpen: false
          });
          $("#tanker-drawer-toggle-15").click(function() {
            var drawer = $("#tanker-drawer-15").data("kendoDrawer");
            drawer.show();
          });
          console.log("âœ… #15 Drawer baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #15 Drawer hatasÄ±:", e); }
        
        try {
          // #16 - Stepper
          $("#tanker-stepper-16").kendoStepper({
            steps: [
              { label: "AdÄ±m 1", selected: true },
              { label: "AdÄ±m 2" },
              { label: "AdÄ±m 3" }
            ],
            orientation: "horizontal"
          });
          console.log("âœ… #16 Stepper baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #16 Stepper hatasÄ±:", e); }
        
        // DÃœZENLEYÄ°CÄ°LER BÄ°LEÅENLERÄ°
        try {
          // #17 - DatePicker
          $("#tanker-datepicker-17").kendoDatePicker({
            culture: "tr-TR",
            format: "dd/MM/yyyy",
            value: new Date()
          });
          console.log("âœ… #17 DatePicker baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #17 DatePicker hatasÄ±:", e); }
        
        try {
          // #18 - DateTimePicker
          $("#tanker-datetimepicker-18").kendoDateTimePicker({
            culture: "tr-TR",
            format: "dd/MM/yyyy HH:mm"
          });
          console.log("âœ… #18 DateTimePicker baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #18 DateTimePicker hatasÄ±:", e); }
        
        try {
          // #19 - TimePicker
          $("#tanker-timepicker-19").kendoTimePicker({
            culture: "tr-TR",
            format: "HH:mm"
          });
          console.log("âœ… #19 TimePicker baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #19 TimePicker hatasÄ±:", e); }
        
        try {
          // #20 - Calendar
          $("#tanker-calendar-20").kendoCalendar({
            value: new Date(),
            culture: "tr-TR"
          });
          console.log("âœ… #20 Calendar baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #20 Calendar hatasÄ±:", e); }
        
        try {
          // #21 - ComboBox
          $("#tanker-combobox-21").kendoComboBox({
            dataSource: ["YAÄCILAR", "TEPEKUM", "NAMDAR", "ÅEKER"],
            placeholder: "Åube seÃ§in...",
            filter: "contains"
          });
          console.log("âœ… #21 ComboBox baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #21 ComboBox hatasÄ±:", e); }
        
        try {
          // #22 - DropDownList
          $("#tanker-dropdownlist-22").kendoDropDownList({
            dataSource: ["Aktif", "Pasif", "Beklemede"],
            value: "Aktif"
          });
          console.log("âœ… #22 DropDownList baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #22 DropDownList hatasÄ±:", e); }
        
        try {
          // #23 - MultiSelect
          $("#tanker-multiselect-23").kendoMultiSelect({
            dataSource: ["YAÄCILAR", "TEPEKUM", "NAMDAR", "ÅEKER"],
            placeholder: "Åube seÃ§in..."
          });
          console.log("âœ… #23 MultiSelect baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #23 MultiSelect hatasÄ±:", e); }
        
        try {
          // #24 - AutoComplete
          $("#tanker-autocomplete-24").kendoAutoComplete({
            dataSource: ["Aria Petrol", "Namdar Petrol", "Aygaz", "BP"],
            filter: "contains",
            placeholder: "Firma ara..."
          });
          console.log("âœ… #24 AutoComplete baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #24 AutoComplete hatasÄ±:", e); }
        
        try {
          // #25 - NumericTextBox
          $("#tanker-numerictextbox-25").kendoNumericTextBox({
            format: "n2",
            decimals: 2,
            min: 0,
            max: 1000000,
            value: 1000
          });
          console.log("âœ… #25 NumericTextBox baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #25 NumericTextBox hatasÄ±:", e); }
        
        try {
          // #26 - MaskedTextBox
          $("#tanker-maskedtextbox-26").kendoMaskedTextBox({
            mask: "000-000-0000",
            value: "5551234567"
          });
          console.log("âœ… #26 MaskedTextBox baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #26 MaskedTextBox hatasÄ±:", e); }
        
        try {
          // #27 - Editor
          $("#tanker-editor-27").kendoEditor({
            tools: ["bold", "italic", "underline", "foreColor", "backColor"],
            value: "Metin editÃ¶rÃ¼ Ã¶rneÄŸi"
          });
          console.log("âœ… #27 Editor baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #27 Editor hatasÄ±:", e); }
        
        try {
          // #28 - ColorPicker
          $("#tanker-colorpicker-28").kendoColorPicker({
            value: "#ff0000",
            buttons: true
          });
          console.log("âœ… #28 ColorPicker baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #28 ColorPicker hatasÄ±:", e); }
        
        try {
          // #29 - FlatColorPicker
          $("#tanker-flatcolorpicker-29").kendoFlatColorPicker({
            value: "#00ff00"
          });
          console.log("âœ… #29 FlatColorPicker baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #29 FlatColorPicker hatasÄ±:", e); }
        
        try {
          // #30 - ColorPalette
          $("#tanker-colorpalette-30").kendoColorPalette({
            value: "#0000ff",
            palette: "basic"
          });
          console.log("âœ… #30 ColorPalette baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #30 ColorPalette hatasÄ±:", e); }
        
        try {
          // #31 - Slider
          $("#tanker-slider-31").kendoSlider({
            min: 0,
            max: 100,
            value: 50,
            smallStep: 1,
            largeStep: 10
          });
          console.log("âœ… #31 Slider baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #31 Slider hatasÄ±:", e); }
        
        try {
          // #32 - RangeSlider
          $("#tanker-rangeslider-32").kendoRangeSlider({
            min: 0,
            max: 100,
            smallStep: 1,
            largeStep: 10
          });
          console.log("âœ… #32 RangeSlider baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #32 RangeSlider hatasÄ±:", e); }
        
        try {
          // #33 - Rating
          $("#tanker-rating-33").kendoRating({
            min: 1,
            max: 5,
            value: 3
          });
          console.log("âœ… #33 Rating baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #33 Rating hatasÄ±:", e); }
        
        try {
          // #34 - ListBox
          $("#tanker-listbox-34").kendoListBox({
            dataSource: ["YAÄCILAR", "TEPEKUM", "NAMDAR", "ÅEKER"],
            selectable: "multiple"
          });
          console.log("âœ… #34 ListBox baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #34 ListBox hatasÄ±:", e); }
        
        try {
          // #35 - SearchBox
          $("#tanker-searchbox-35").kendoSearchBox({
            dataSource: {
              data: ["YAÄCILAR", "TEPEKUM", "NAMDAR"],
              serverFiltering: false
            },
            placeholder: "Ara..."
          });
          console.log("âœ… #35 SearchBox baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #35 SearchBox hatasÄ±:", e); }
        
        // VERÄ° GÃ–RSELLEÅTÄ°RME BÄ°LEÅENLERÄ°
        try {
          // #36 - Chart Column
          $("#tanker-chart-column-36").kendoChart({
            dataSource: {
              data: [
                { sube: "YAÄCILAR", satis: 100000 },
                { sube: "TEPEKUM", satis: 100000 },
                { sube: "NAMDAR", satis: 29000 }
              ]
            },
            series: [{
              type: "column",
              field: "satis",
              categoryField: "sube"
            }],
            height: 300
          });
          console.log("âœ… #36 Chart Column baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #36 Chart Column hatasÄ±:", e); }
        
        try {
          // #37 - Chart Line
          $("#tanker-chart-line-37").kendoChart({
            dataSource: {
              data: [
                { ay: "Ocak", satis: 50000 },
                { ay: "Åubat", satis: 60000 },
                { ay: "Mart", satis: 55000 }
              ]
            },
            series: [{
              type: "line",
              field: "satis",
              categoryField: "ay"
            }],
            height: 300
          });
          console.log("âœ… #37 Chart Line baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #37 Chart Line hatasÄ±:", e); }
        
        try {
          // #38 - Chart Pie
          $("#tanker-chart-pie-38").kendoChart({
            dataSource: {
              data: [
                { urun: "Motorin", yuzde: 60 },
                { urun: "Benzin", yuzde: 40 }
              ]
            },
            series: [{
              type: "pie",
              field: "yuzde",
              categoryField: "urun"
            }],
            height: 300
          });
          console.log("âœ… #38 Chart Pie baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #38 Chart Pie hatasÄ±:", e); }
        
        try {
          // #39 - Chart Area
          $("#tanker-chart-area-39").kendoChart({
            dataSource: {
              data: [
                { ay: "Ocak", satis: 50000 },
                { ay: "Åubat", satis: 60000 },
                { ay: "Mart", satis: 55000 }
              ]
            },
            series: [{
              type: "area",
              field: "satis",
              categoryField: "ay"
            }],
            height: 300
          });
          console.log("âœ… #39 Chart Area baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #39 Chart Area hatasÄ±:", e); }
        
        try {
          // #40 - Chart Bar
          $("#tanker-chart-bar-40").kendoChart({
            dataSource: {
              data: [
                { sube: "YAÄCILAR", satis: 100000 },
                { sube: "TEPEKUM", satis: 100000 }
              ]
            },
            series: [{
              type: "bar",
              field: "satis",
              categoryField: "sube"
            }],
            height: 300
          });
          console.log("âœ… #40 Chart Bar baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #40 Chart Bar hatasÄ±:", e); }
        
        try {
          // #41 - StockChart
          $("#tanker-stockchart-41").kendoStockChart({
            dataSource: {
              data: [
                { date: new Date("2024-01-01"), open: 100, high: 110, low: 95, close: 105, volume: 1000 },
                { date: new Date("2024-01-02"), open: 105, high: 115, low: 100, close: 112, volume: 1200 },
                { date: new Date("2024-01-03"), open: 112, high: 120, low: 108, close: 118, volume: 1500 },
                { date: new Date("2024-01-04"), open: 118, high: 125, low: 115, close: 122, volume: 1800 },
                { date: new Date("2024-01-05"), open: 122, high: 130, low: 120, close: 128, volume: 2000 }
              ]
            },
            dateField: "date",
            series: [{
              type: "candlestick",
              openField: "open",
              highField: "high",
              lowField: "low",
              closeField: "close"
            }],
            height: 300
          });
          console.log("âœ… #41 StockChart baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #41 StockChart hatasÄ±:", e); }
        
        try {
          // #42 - Sparkline
          $("#tanker-sparkline-42").kendoSparkline({
            data: [100, 105, 112, 118, 122, 128, 125, 130, 135, 140],
            type: "line",
            height: 100
          });
          console.log("âœ… #42 Sparkline baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #42 Sparkline hatasÄ±:", e); }
        
        try {
          // #43 - CircularGauge
          $("#tanker-circulargauge-43").kendoCircularGauge({
            value: 75,
            min: 0,
            max: 100,
            scale: {
              labels: { visible: true },
              ranges: [
                { from: 0, to: 50, color: "#ff0000" },
                { from: 50, to: 80, color: "#ffaa00" },
                { from: 80, to: 100, color: "#00ff00" }
              ]
            }
          });
          console.log("âœ… #43 CircularGauge baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #43 CircularGauge hatasÄ±:", e); }
        
        try {
          // #45 - ArcGauge
          $("#tanker-arcgauge-45").kendoArcGauge({
            value: 65,
            center: { x: 100, y: 100 },
            scale: {
              min: 0,
              max: 100,
              labels: { visible: true }
            }
          });
          console.log("âœ… #45 ArcGauge baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #45 ArcGauge hatasÄ±:", e); }
        
        try {
          // #46 - Map
          $("#tanker-map-46").kendoMap({
            center: [39.9, 32.8],
            zoom: 10,
            layers: [{
              type: "tile",
              urlTemplate: "https://#= subdomain #.tile.openstreetmap.org/#= zoom #/#= x #/#= y #.png",
              subdomains: ["a", "b", "c"],
              attribution: "&copy; OpenStreetMap"
            }],
            markers: [{
              location: [39.9, 32.8],
              title: "Ankara",
              shape: "pinTarget"
            }],
            height: 300
          });
          console.log("âœ… #46 Map baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #46 Map hatasÄ±:", e); }
        
        try {
          // #47 - Diagram
          $("#tanker-diagram-47").kendoDiagram({
            dataSource: {
              data: [
                { id: 1, text: "YAÄCILAR", x: 100, y: 100 },
                { id: 2, text: "TEPEKUM", x: 300, y: 100 },
                { id: 3, text: "NAMDAR", x: 200, y: 250 }
              ]
            },
            connections: [
              { from: 1, to: 2 },
              { from: 2, to: 3 }
            ],
            layout: {
              type: "layered",
              subtype: "topdown"
            },
            height: 400
          });
          console.log("âœ… #47 Diagram baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #47 Diagram hatasÄ±:", e); }
        
        try {
          // #44 - LinearGauge
          $("#tanker-lineargauge-44").kendoLinearGauge({
            value: 60,
            min: 0,
            max: 100
          });
          console.log("âœ… #44 LinearGauge baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #44 LinearGauge hatasÄ±:", e); }
        
        // BÄ°LDÄ°RÄ°MLER VE DÄ°ÄERLERÄ°
        try {
          // #48 - Notification
          var notification = $("#tanker-notification-48").kendoNotification({
            position: { top: 50, right: 50 }
          }).data("kendoNotification");
          $("#tanker-notification-test-48").click(function() {
            notification.show("Bildirim Ã¶rneÄŸi!", "success");
          });
          console.log("âœ… #48 Notification baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #48 Notification hatasÄ±:", e); }
        
        try {
          // #49 - ProgressBar
          var progressBar = $("#tanker-progressbar-49").kendoProgressBar({
            value: 0,
            max: 100
          }).data("kendoProgressBar");
          $("#tanker-progressbar-test-49").click(function() {
            var value = 0;
            var interval = setInterval(function() {
              value += 10;
              progressBar.value(value);
              if (value >= 100) clearInterval(interval);
            }, 200);
          });
          console.log("âœ… #49 ProgressBar baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #49 ProgressBar hatasÄ±:", e); }
        
        try {
          // #50 - Window
          $("#tanker-window-50").kendoWindow({
            title: "Telerik Window",
            width: 400,
            height: 300,
            visible: false,
            modal: true
          });
          $("#tanker-window-open-50").click(function() {
            $("#tanker-window-50").data("kendoWindow").center().open();
          });
          console.log("âœ… #50 Window baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #50 Window hatasÄ±:", e); }
        
        try {
          // #51 - Dialog
          $("#tanker-dialog-51").kendoDialog({
            title: "Onay Dialog",
            content: "Bu iÅŸlemi yapmak istediÄŸinize emin misiniz?",
            width: 400,
            height: 200,
            visible: false,
            modal: true,
            actions: [
              { text: "Evet", primary: true, action: function() { console.log("Evet tÄ±klandÄ±"); } },
              { text: "HayÄ±r", action: function() { console.log("HayÄ±r tÄ±klandÄ±"); } }
            ]
          });
          $("#tanker-dialog-open-51").click(function() {
            $("#tanker-dialog-51").data("kendoDialog").open();
          });
          console.log("âœ… #51 Dialog baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #51 Dialog hatasÄ±:", e); }
        
        try {
          // #52 - Tooltip
          $("#tanker-tooltip-52").kendoTooltip({
            content: "Bu bir Telerik Tooltip Ã¶rneÄŸidir!"
          });
          console.log("âœ… #52 Tooltip baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #52 Tooltip hatasÄ±:", e); }
        
        try {
          // #53 - Upload
          $("#tanker-upload-53").kendoUpload({
            async: {
              saveUrl: "/api/upload/",
              removeUrl: "/api/remove/"
            },
            multiple: true
          });
          console.log("âœ… #53 Upload baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #53 Upload hatasÄ±:", e); }
        
        try {
          // #54 - FileManager
          $("#tanker-filemanager-54").kendoFileManager({
            dataSource: {
              transport: {
                read: function(options) {
                  options.success([
                    { name: "Dosya1.xlsx", size: 1024, isDirectory: false },
                    { name: "Dosya2.pdf", size: 2048, isDirectory: false },
                    { name: "KlasÃ¶r1", size: 0, isDirectory: true }
                  ]);
                }
              },
              schema: {
                model: {
                  id: "name",
                  fields: {
                    name: { type: "string" },
                    size: { type: "number" },
                    isDirectory: { type: "boolean" }
                  }
                }
              }
            },
            height: 400
          });
          console.log("âœ… #54 FileManager baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #54 FileManager hatasÄ±:", e); }
        
        try {
          // #55 - PDFViewer
          $("#tanker-pdfviewer-55").kendoPDFViewer({
            pdfjsProcessing: {
              file: "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"
            },
            height: 400
          });
          console.log("âœ… #55 PDFViewer baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #55 PDFViewer hatasÄ±:", e); }
        
        // FORM BÄ°LEÅENLERÄ°
        try {
          // #56 - Button
          $("#tanker-button-56").kendoButton({
            content: "Telerik Buton",
            icon: "save"
          });
          console.log("âœ… #56 Button baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #56 Button hatasÄ±:", e); }
        
        try {
          // #57 - Switch
          $("#tanker-switch-57").kendoSwitch({
            checked: true
          });
          console.log("âœ… #57 Switch baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #57 Switch hatasÄ±:", e); }
        
        try {
          // #58 - CheckBox
          $("#tanker-checkbox-58").kendoCheckBox({
            checked: true,
            label: "Onay Kutusu"
          });
          console.log("âœ… #58 CheckBox baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #58 CheckBox hatasÄ±:", e); }
        
        // PLANLAMA BÄ°LEÅENLERÄ°
        try {
          // #60 - Scheduler
          $("#tanker-scheduler-60").kendoScheduler({
            date: new Date(),
            startTime: new Date(new Date().setHours(8, 0, 0, 0)),
            endTime: new Date(new Date().setHours(18, 0, 0, 0)),
            dataSource: [{
              id: 1,
              title: "ToplantÄ± - YAÄCILAR",
              start: new Date(new Date().setHours(10, 0, 0, 0)),
              end: new Date(new Date().setHours(11, 0, 0, 0)),
              description: "AylÄ±k satÄ±ÅŸ toplantÄ±sÄ±"
            }, {
              id: 2,
              title: "Tanker Teslimi",
              start: new Date(new Date().setHours(14, 0, 0, 0)),
              end: new Date(new Date().setHours(15, 30, 0, 0)),
              description: "TEPEKUM ÅŸubesi tanker teslimi"
            }],
            views: [
              { type: "day", selected: true },
              { type: "week" },
              { type: "month" }
            ],
            height: 500
          });
          console.log("âœ… #60 Scheduler baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #60 Scheduler hatasÄ±:", e); }
        
        try {
          // #61 - Gantt
          $("#tanker-gantt-61").kendoGantt({
            dataSource: [{
              id: 1,
              orderId: 0,
              parentId: null,
              title: "Proje BaÅŸlangÄ±cÄ±",
              start: new Date("2024-01-01"),
              end: new Date("2024-01-05"),
              percentComplete: 100
            }, {
              id: 2,
              orderId: 1,
              parentId: null,
              title: "SatÄ±ÅŸ Planlama",
              start: new Date("2024-01-06"),
              end: new Date("2024-01-15"),
              percentComplete: 75
            }, {
              id: 3,
              orderId: 2,
              parentId: 2,
              title: "YAÄCILAR Åubesi",
              start: new Date("2024-01-06"),
              end: new Date("2024-01-10"),
              percentComplete: 100
            }, {
              id: 4,
              orderId: 3,
              parentId: 2,
              title: "TEPEKUM Åubesi",
              start: new Date("2024-01-11"),
              end: new Date("2024-01-15"),
              percentComplete: 50
            }],
            dependencies: [{
              id: 1,
              predecessorId: 1,
              successorId: 2,
              type: 0
            }],
            height: 400
          });
          console.log("âœ… #61 Gantt baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #61 Gantt hatasÄ±:", e); }
        
        // FÄ°LTRE VE SIRALAMA
        try {
          // #64 - Sortable
          $("#tanker-sortable-64").kendoSortable({
            hint: function(element) { return element.clone().css("opacity", 0.5); }
          });
          console.log("âœ… #64 Sortable baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #64 Sortable hatasÄ±:", e); }
        
        try {
          // #65 - Draggable
          $("#tanker-draggable-65").kendoDraggable({
            hint: function(element) { return element.clone().css("opacity", 0.5); }
          });
          console.log("âœ… #65 Draggable baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #65 Draggable hatasÄ±:", e); }
        
        try {
          // #66 - DropTarget
          $("#tanker-drop-target-66").kendoDropTarget({
            drop: function(e) { $(this).text("BÄ±rakÄ±ldÄ±!"); }
          });
          $("#tanker-draggable-for-drop-66").kendoDraggable({
            hint: function(element) { return element.clone().css("opacity", 0.5); }
          });
          console.log("âœ… #66 DropTarget baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #66 DropTarget hatasÄ±:", e); }
        
        // DÄ°ÄER BÄ°LEÅENLER
        try {
          // #67 - Popup
          var popup = $("#tanker-popup-67").kendoPopup({
            anchor: "#tanker-popup-toggle-67",
            origin: "bottom left",
            collision: "fit"
          }).data("kendoPopup");
          $("#tanker-popup-toggle-67").click(function() {
            popup.toggle();
          });
          console.log("âœ… #67 Popup baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #67 Popup hatasÄ±:", e); }
        
        try {
          // #68 - Validator
          $("#tanker-validator-form-68").kendoValidator();
          console.log("âœ… #68 Validator baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #68 Validator hatasÄ±:", e); }
        
        try {
          // #85 - Pager
          $("#tanker-pager-85").kendoPager({
            dataSource: {
              data: new Array(100),
              pageSize: 10,
              total: 100
            }
          });
          console.log("âœ… #85 Pager baÅŸlatÄ±ldÄ±");
        } catch(e) { console.error("âŒ #85 Pager hatasÄ±:", e); }
        
        console.log("âœ… Tanker sayfasÄ± bileÅŸenleri baÅŸlatma tamamlandÄ±!");
      } catch(error) {
        console.error("âŒ Tanker sayfasÄ± bileÅŸenleri baÅŸlatÄ±lÄ±rken genel hata:", error);
      }
    }
    
    // TANKER OVERRIDE KALDIRILDI - Åu an kullanÄ±lmÄ±yor, operasyon override'Ä±nÄ± bozuyordu
    // var originalShowPageOnlyTanker = window.showPageOnly;
    // if (typeof originalShowPageOnlyTanker === 'function') {
    //   window.showPageOnly = function(pageId) {
    //     originalShowPageOnlyTanker(pageId);
    //     if (pageId === 'tanker') {
    //       setTimeout(function() {
    //         if ($("#main-content-tanker").is(":visible")) {
    //           console.log("ğŸš€ Tanker sayfasÄ± gÃ¶sterildi, bileÅŸenler baÅŸlatÄ±lÄ±yor...");
    //           initTankerBilesenleri();
    //         }
    //       }, 300);
    //     }
    //   };
    // }
    
    // TabStrip select event'inde de kontrol et
    if (typeof tabStrip !== 'undefined' && tabStrip) {
      tabStrip.bind("select", function(e) {
        var tabItem = $(e.item);
        var tabId = tabItem.attr("data-tab-id");
        var tabText = tabItem.text() || tabItem.html() || "";
        
        if (!tabId && tabText.indexOf("Tanker") >= 0) {
          tabId = "tanker";
        }
        
        if (tabId === "tanker") {
          // Tanker sayfasi artik bos; ek islem yok.
        }
      });
    }
    
    // Ribbon buton tÄ±klamasÄ±nda da kontrol et
    $(document).on("click", ".ribbon-button", function() {
      var buttonText = $(this).text().trim();
      if (buttonText === "Tanker" || buttonText.includes("Tanker")) {
        // Tanker sayfasi artik bos; ek islem yok.
      }
    });
    
    // Sayfa yÃ¼klendiÄŸinde eÄŸer Tanker sayfasÄ± aÃ§Ä±ksa baÅŸlat
    $(document).ready(function() {
      setTimeout(function() {
        // Tanker sayfasi artik bos; ek islem yok.
      }, 1000);
    });
    
    // ============================================
    // FÄ°YAT DEÄÄ°ÅÄ°MÄ° SAYFASI - TELERÄ°K BÄ°LEÅENLER REFERANS TABLOSU
    // ============================================
    function initFiyatDegisimiBilesenlerTablosu() {
      try {
        console.log("ğŸš€ Fiyat DeÄŸiÅŸimi referans tablosu baÅŸlatÄ±lÄ±yor...");
        
        // EÄŸer Grid zaten varsa destroy et
        var existingGrid = $("#telerik-bilesenler-tablo").data("kendoGrid");
        if (existingGrid) {
          existingGrid.destroy();
        }
        
        // TÃ¼m Telerik bileÅŸenleri listesi
        var bilesenler = [
          // VERÄ° YÃ–NETÄ°MÄ° (1-6)
          {numara: 1, ad: "Grid", kategori: "Veri YÃ¶netimi", aciklama: "Veri tablosu - SÄ±ralama, filtreleme, sayfalama, Excel/PDF export", ornek: "grid"},
          {numara: 2, ad: "PivotGrid", kategori: "Veri YÃ¶netimi", aciklama: "Ã–zet tablo - Excel PivotTable gibi Ã§ok boyutlu analiz", ornek: "pivotgrid"},
          {numara: 3, ad: "Spreadsheet", kategori: "Veri YÃ¶netimi", aciklama: "Excel benzeri tablo - FormÃ¼l yazma, hesaplama", ornek: "spreadsheet"},
          {numara: 4, ad: "TreeList", kategori: "Veri YÃ¶netimi", aciklama: "HiyerarÅŸik tablo - Kategori ve alt kategoriler", ornek: "treelist"},
          {numara: 5, ad: "ListView", kategori: "Veri YÃ¶netimi", aciklama: "Kart gÃ¶rÃ¼nÃ¼mÃ¼ - Instagram/Facebook gibi liste", ornek: "listview"},
          {numara: 6, ad: "DataSource", kategori: "Veri YÃ¶netimi", aciklama: "Veri kaynaÄŸÄ± yÃ¶netimi - JavaScript yardÄ±mcÄ±", ornek: "datasource"},
          
          // NAVÄ°GASYON (7-16)
          {numara: 7, ad: "Menu", kategori: "Navigasyon", aciklama: "AÃ§Ä±lÄ±r menÃ¼ - Ãœst menÃ¼, alt menÃ¼ler", ornek: "menu"},
          {numara: 8, ad: "TabStrip", kategori: "Navigasyon", aciklama: "Sekmeler - Tab sistemi, sayfa geÃ§iÅŸleri", ornek: "tabstrip"},
          {numara: 9, ad: "TreeView", kategori: "Navigasyon", aciklama: "AÄŸaÃ§ gÃ¶rÃ¼nÃ¼mÃ¼ - KlasÃ¶r yapÄ±sÄ±, hiyerarÅŸi", ornek: "treeview"},
          {numara: 10, ad: "PanelBar", kategori: "Navigasyon", aciklama: "AÃ§Ä±lÄ±r paneller - Detay panelleri, ayarlar", ornek: "panelbar"},
          {numara: 11, ad: "Breadcrumb", kategori: "Navigasyon", aciklama: "Sayfa yolu - Ana Sayfa > Åubeler > YAÄCILAR", ornek: "breadcrumb"},
          {numara: 12, ad: "Toolbar", kategori: "Navigasyon", aciklama: "AraÃ§ Ã§ubuÄŸu - Kaydet, Sil, YazdÄ±r butonlarÄ±", ornek: "toolbar"},
          {numara: 13, ad: "Splitter", kategori: "Navigasyon", aciklama: "Ekran bÃ¶lÃ¼cÃ¼ - Sol liste, saÄŸ detay", ornek: "splitter"},
          {numara: 14, ad: "ResponsivePanel", kategori: "Navigasyon", aciklama: "DuyarlÄ± panel - Mobil menÃ¼ paneli", ornek: "responsivepanel"},
          {numara: 15, ad: "Drawer", kategori: "Navigasyon", aciklama: "Yan Ã§ekmece - Mobil Ã§ekmece menÃ¼", ornek: "drawer"},
          {numara: 16, ad: "Stepper", kategori: "Navigasyon", aciklama: "AdÄ±m gÃ¶stergesi - Ã‡ok adÄ±mlÄ± formlar", ornek: "stepper"},
          
          // DÃœZENLEYÄ°CÄ°LER (17-35)
          {numara: 17, ad: "DatePicker", kategori: "DÃ¼zenleyici", aciklama: "Tarih seÃ§ici - Takvimden tarih seÃ§me", ornek: "datepicker"},
          {numara: 18, ad: "DateTimePicker", kategori: "DÃ¼zenleyici", aciklama: "Tarih + Saat seÃ§ici - Randevu tarihi + saati", ornek: "datetimepicker"},
          {numara: 19, ad: "TimePicker", kategori: "DÃ¼zenleyici", aciklama: "Saat seÃ§ici - Sadece saat seÃ§imi", ornek: "timepicker"},
          {numara: 20, ad: "Calendar", kategori: "DÃ¼zenleyici", aciklama: "Takvim - Tam takvim gÃ¶rÃ¼nÃ¼mÃ¼", ornek: "calendar"},
          {numara: 21, ad: "ComboBox", kategori: "DÃ¼zenleyici", aciklama: "Dropdown + Arama - Åube seÃ§imi, yazarken filtreleme", ornek: "combobox"},
          {numara: 22, ad: "DropDownList", kategori: "DÃ¼zenleyici", aciklama: "Dropdown liste - Durum seÃ§imi (Aktif/Pasif)", ornek: "dropdownlist"},
          {numara: 23, ad: "MultiSelect", kategori: "DÃ¼zenleyici", aciklama: "Ã‡oklu seÃ§im - Birden fazla ÅŸube seÃ§imi", ornek: "multiselect"},
          {numara: 24, ad: "AutoComplete", kategori: "DÃ¼zenleyici", aciklama: "Otomatik tamamlama - Firma adÄ± arama", ornek: "autocomplete"},
          {numara: 25, ad: "NumericTextBox", kategori: "DÃ¼zenleyici", aciklama: "SayÄ± giriÅŸi - Miktar, fiyat (sadece sayÄ±)", ornek: "numerictextbox"},
          {numara: 26, ad: "MaskedTextBox", kategori: "DÃ¼zenleyici", aciklama: "Maskeli metin - Telefon, TC kimlik formatÄ±", ornek: "maskedtextbox"},
          {numara: 27, ad: "Editor", kategori: "DÃ¼zenleyici", aciklama: "Metin editÃ¶rÃ¼ - Word benzeri zengin metin", ornek: "editor"},
          {numara: 28, ad: "ColorPicker", kategori: "DÃ¼zenleyici", aciklama: "Renk seÃ§ici - Renk paletinden seÃ§im", ornek: "colorpicker"},
          {numara: 29, ad: "FlatColorPicker", kategori: "DÃ¼zenleyici", aciklama: "DÃ¼z renk seÃ§ici - Basit renk seÃ§imi", ornek: "flatcolorpicker"},
          {numara: 30, ad: "ColorPalette", kategori: "DÃ¼zenleyici", aciklama: "Renk paleti - Ã–nceden tanÄ±mlÄ± renkler", ornek: "colorpalette"},
          {numara: 31, ad: "Slider", kategori: "DÃ¼zenleyici", aciklama: "KaydÄ±rÄ±cÄ± - DeÄŸer seÃ§imi kaydÄ±rarak", ornek: "slider"},
          {numara: 32, ad: "RangeSlider", kategori: "DÃ¼zenleyici", aciklama: "AralÄ±k kaydÄ±rÄ±cÄ± - Min-max deÄŸer seÃ§imi", ornek: "rangeslider"},
          {numara: 33, ad: "Rating", kategori: "DÃ¼zenleyici", aciklama: "YÄ±ldÄ±z puanlama - 1-5 yÄ±ldÄ±z deÄŸerlendirme", ornek: "rating"},
          {numara: 34, ad: "ListBox", kategori: "DÃ¼zenleyici", aciklama: "Liste kutusu - Ã‡oklu seÃ§im listesi", ornek: "listbox"},
          {numara: 35, ad: "SearchBox", kategori: "DÃ¼zenleyici", aciklama: "Arama kutusu - Metin arama", ornek: "searchbox"},
          
          // GRAFÄ°KLER (36-50)
          {numara: 36, ad: "Chart - Column", kategori: "Grafik", aciklama: "SÃ¼tun grafik - KarÅŸÄ±laÅŸtÄ±rma grafikleri", ornek: "chart-column"},
          {numara: 37, ad: "Chart - Line", kategori: "Grafik", aciklama: "Ã‡izgi grafik - Zaman serisi, trend", ornek: "chart-line"},
          {numara: 38, ad: "Chart - Pie", kategori: "Grafik", aciklama: "Pasta grafik - Oran gÃ¶sterimi", ornek: "chart-pie"},
          {numara: 39, ad: "Chart - Area", kategori: "Grafik", aciklama: "Alan grafik - DoldurulmuÅŸ Ã§izgi grafik", ornek: "chart-area"},
          {numara: 40, ad: "Chart - Bar", kategori: "Grafik", aciklama: "Ã‡ubuk grafik - Yatay sÃ¼tun grafik", ornek: "chart-bar"},
          {numara: 41, ad: "StockChart", kategori: "Grafik", aciklama: "Hisse senedi grafik - Finansal grafikler", ornek: "stockchart"},
          {numara: 42, ad: "Sparkline", kategori: "Grafik", aciklama: "Mini grafik - KÃ¼Ã§Ã¼k inline grafikler", ornek: "sparkline"},
          {numara: 43, ad: "CircularGauge", kategori: "Grafik", aciklama: "Dairesel gÃ¶sterge - HÄ±z gÃ¶stergesi gibi", ornek: "circulargauge"},
          {numara: 44, ad: "LinearGauge", kategori: "Grafik", aciklama: "DoÄŸrusal gÃ¶sterge - Yatay gÃ¶sterge", ornek: "lineargauge"},
          {numara: 45, ad: "ArcGauge", kategori: "Grafik", aciklama: "Yay gÃ¶sterge - YarÄ± dairesel gÃ¶sterge", ornek: "arcgauge"},
          {numara: 46, ad: "RadialGauge", kategori: "Grafik", aciklama: "Radyal gÃ¶sterge - Merkezden dÄ±ÅŸa gÃ¶sterge", ornek: "radialgauge"},
          {numara: 47, ad: "Chart - Donut", kategori: "Grafik", aciklama: "Halka grafik - Ä°Ã§i boÅŸ pasta grafik", ornek: "chart-donut"},
          {numara: 48, ad: "Chart - Bubble", kategori: "Grafik", aciklama: "Baloncuk grafik - 3 boyutlu veri", ornek: "chart-bubble"},
          {numara: 49, ad: "Chart - Scatter", kategori: "Grafik", aciklama: "DaÄŸÄ±lÄ±m grafik - Ä°liÅŸki analizi", ornek: "chart-scatter"},
          {numara: 50, ad: "Chart - Radar", kategori: "Grafik", aciklama: "Radar grafik - Ã‡oklu deÄŸiÅŸken analizi", ornek: "chart-radar"},
          
          // DÄ°ÄER BÄ°LEÅENLER (51-70)
          {numara: 51, ad: "Button", kategori: "DiÄŸer", aciklama: "Buton - TÄ±klanabilir butonlar", ornek: "button"},
          {numara: 52, ad: "Window", kategori: "DiÄŸer", aciklama: "Pencere - Popup, modal pencereler", ornek: "window"},
          {numara: 53, ad: "Notification", kategori: "DiÄŸer", aciklama: "Bildirim - BaÅŸarÄ±/hata mesajlarÄ±", ornek: "notification"},
          {numara: 54, ad: "Tooltip", kategori: "DiÄŸer", aciklama: "Ä°pucu - Hover'da aÃ§Ä±klama", ornek: "tooltip"},
          {numara: 55, ad: "Upload", kategori: "DiÄŸer", aciklama: "Dosya yÃ¼kleme - Excel, resim yÃ¼kleme", ornek: "upload"},
          {numara: 56, ad: "ProgressBar", kategori: "DiÄŸer", aciklama: "Ä°lerleme Ã§ubuÄŸu - YÃ¼kleme gÃ¶stergesi", ornek: "progressbar"},
          {numara: 57, ad: "Scheduler", kategori: "DiÄŸer", aciklama: "PlanlayÄ±cÄ± - Takvim, randevu sistemi", ornek: "scheduler"},
          {numara: 58, ad: "Gantt", kategori: "DiÄŸer", aciklama: "Proje yÃ¶netimi - GÃ¶rev zaman Ã§izelgesi", ornek: "gantt"},
          {numara: 59, ad: "Diagram", kategori: "DiÄŸer", aciklama: "Diyagram - AkÄ±ÅŸ ÅŸemasÄ±, ÅŸema Ã§izimi", ornek: "diagram"},
          {numara: 60, ad: "Map", kategori: "DiÄŸer", aciklama: "Harita - CoÄŸrafi veri gÃ¶sterimi", ornek: "map"},
          {numara: 61, ad: "Barcode", kategori: "DiÄŸer", aciklama: "Barkod - Barkod oluÅŸturma", ornek: "barcode"},
          {numara: 62, ad: "QRCode", kategori: "DiÄŸer", aciklama: "QR Kod - QR kod oluÅŸturma", ornek: "qrcode"},
          {numara: 63, ad: "Signature", kategori: "DiÄŸer", aciklama: "Ä°mza - Ä°mza Ã§izme", ornek: "signature"},
          {numara: 64, ad: "Badge", kategori: "DiÄŸer", aciklama: "Rozet - Bildirim sayÄ±sÄ±, etiket", ornek: "badge"},
          {numara: 65, ad: "Avatar", kategori: "DiÄŸer", aciklama: "Avatar - KullanÄ±cÄ± profil resmi", ornek: "avatar"},
          {numara: 66, ad: "Loader", kategori: "DiÄŸer", aciklama: "YÃ¼kleyici - YÃ¼kleme animasyonu", ornek: "loader"},
          {numara: 67, ad: "Skeleton", kategori: "DiÄŸer", aciklama: "Ä°skelet - YÃ¼kleme placeholder", ornek: "skeleton"},
          {numara: 68, ad: "Pager", kategori: "DiÄŸer", aciklama: "Sayfalama - Sayfa numaralarÄ±", ornek: "pager"},
          {numara: 69, ad: "Validator", kategori: "DiÄŸer", aciklama: "DoÄŸrulayÄ±cÄ± - Form validasyonu", ornek: "validator"},
          {numara: 70, ad: "Popup", kategori: "DiÄŸer", aciklama: "AÃ§Ä±lÄ±r pencere - KÃ¼Ã§Ã¼k popup", ornek: "popup"},
          {numara: 71, ad: "Sortable", kategori: "DiÄŸer", aciklama: "SÄ±ralanabilir - SÃ¼rÃ¼kle-bÄ±rak sÄ±ralama", ornek: "sortable"},
          {numara: 72, ad: "Draggable", kategori: "DiÄŸer", aciklama: "SÃ¼rÃ¼klenebilir Ã¶ÄŸe - Bir Ã¶ÄŸeyi fare ile tutup sÃ¼rÃ¼kleyebilirsiniz (72 ve 73 birlikte kullanÄ±lÄ±r)", ornek: "draggable"},
          {numara: 73, ad: "DropTarget", kategori: "DiÄŸer", aciklama: "BÄ±rakma alanÄ± - SÃ¼rÃ¼klenen Ã¶ÄŸelerin bÄ±rakÄ±labileceÄŸi alanÄ± tanÄ±mlar (72 ve 73 birlikte kullanÄ±lÄ±r)", ornek: "droptarget"}
        ];
        
        // Grid tablosu oluÅŸtur
        $("#telerik-bilesenler-tablo").kendoGrid({
          dataSource: {
            data: bilesenler,
            pageSize: 20
          },
          columns: [
            { field: "numara", title: "#", width: 60, attributes: { style: "text-align:center;font-weight:bold;" } },
            { field: "ad", title: "BileÅŸen AdÄ±", width: 200, attributes: { style: "font-weight:bold;color:#206d7d;" } },
            { field: "kategori", title: "Kategori", width: 150 },
            { field: "aciklama", title: "AÃ§Ä±klama", width: 400 },
            { 
              title: "Ä°ÅŸlem", 
              width: 120,
              template: function(dataItem) {
                // 8, 9, 10 numaralÄ± satÄ±rlar iÃ§in buton gÃ¶sterme (Ã¶rnekler sayfada)
                if (dataItem.numara === 8 || dataItem.numara === 9 || dataItem.numara === 10) {
                  return '<span style="color:#999;font-size:12px;">Sayfada gÃ¶steriliyor</span>';
                }
                return '<button class="k-button k-button-md k-button-solid k-button-solid-primary" onclick="gosterBilesenOrnegi(' + dataItem.numara + ', \'' + dataItem.ad + '\', \'' + dataItem.ornek + '\')">Ã–rnek GÃ¶ster</button>';
              }
            }
          ],
          height: 600,
          scrollable: true,
          sortable: true,
          filterable: true,
          pageable: {
            pageSizes: [10, 20, 50, 100],
            buttonCount: 5
          },
          resizable: true,
          selectable: "row",
          change: function(e) {
            var selectedRow = this.dataItem(this.select());
            if (selectedRow) {
              console.log("SeÃ§ilen bileÅŸen:", selectedRow.ad);
              // SatÄ±ra tÄ±klayÄ±nca otomatik Ã¶rnek gÃ¶ster
              gosterBilesenOrnegi(selectedRow.numara, selectedRow.ad, selectedRow.ornek);
            }
          }
        });
        
        // Grid satÄ±rlarÄ±na direkt click event'i ekle - CALISAN VERSIYON
        var grid = $("#telerik-bilesenler-tablo").data("kendoGrid");
        $("#telerik-bilesenler-tablo").on("click", "tbody tr", function(e) {
          // Butona tÄ±klama deÄŸilse (buton dÄ±ÅŸÄ±nda bir yere tÄ±klanmÄ±ÅŸsa)
          if (!$(e.target).is("button") && !$(e.target).closest("button").length) {
            var row = $(this);
            var dataItem = grid.dataItem(row);
            if (dataItem) {
              console.log("SatÄ±ra tÄ±klandÄ±:", dataItem.ad);
              // Ã–rnek gÃ¶ster
              gosterBilesenOrnegi(dataItem.numara, dataItem.ad, dataItem.ornek);
            }
          }
        });
        
        console.log("âœ… Fiyat DeÄŸiÅŸimi referans tablosu baÅŸlatÄ±ldÄ± - " + bilesenler.length + " bileÅŸen");
      } catch(error) {
        console.error("âŒ Fiyat DeÄŸiÅŸimi referans tablosu hatasÄ±:", error);
      }
    }
    
    // BileÅŸen Ã¶rneÄŸi gÃ¶sterme fonksiyonu
    function gosterBilesenOrnegi(numara, ad, ornekTip) {
      try {
        console.log("BileÅŸen Ã¶rneÄŸi gÃ¶steriliyor:", numara, ad, ornekTip);
        $("#bilesen-ornek-baslik").text("#" + numara + " - " + ad + " Ã–rneÄŸi");
        $("#bilesen-ornek-container").empty();
        
        var containerId = "ornek-" + ornekTip + "-" + numara;
        $("#bilesen-ornek-container").html('<div id="' + containerId + '" style="min-height:300px;width:100%;"></div>');
        
        // Ã–rnek oluÅŸtur (tÃ¼m bileÅŸenler iÃ§in)
        switch(ornekTip) {
          case "grid":
            $("#" + containerId).kendoGrid({
              dataSource: {
                data: [
                  {id: 1, sube: "YAÄCILAR", urun: "Motorin", miktar: 125000, fiyat: 25.50, tutar: 3187500},
                  {id: 2, sube: "TEPEKUM", urun: "Benzin", miktar: 85000, fiyat: 28.75, tutar: 2443750}
                ]
              },
              columns: [
                {field: "id", title: "ID", width: 60},
                {field: "sube", title: "Åube", width: 120},
                {field: "urun", title: "ÃœrÃ¼n", width: 100},
                {field: "miktar", title: "Miktar", width: 100, format: "{0:n0}"},
                {field: "fiyat", title: "Fiyat", width: 100, format: "{0:n2} TL"},
                {field: "tutar", title: "Tutar", width: 120, format: "{0:n2} TL"}
              ],
              height: 300,
              sortable: true,
              filterable: true,
              pageable: {pageSize: 5}
            });
            break;
          case "pivotgrid":
            $("#" + containerId).kendoPivotGrid({
              dataSource: {
                data: [
                  {sube: "YAÄCILAR", urun: "Motorin", ay: "Ocak", miktar: 125000, tutar: 3187500},
                  {sube: "TEPEKUM", urun: "Benzin", ay: "Ocak", miktar: 85000, tutar: 2443750}
                ],
                columns: [{name: "urun", expand: true}],
                rows: [{name: "sube", expand: true}],
                measures: [{values: [{field: "miktar", aggregate: "sum"}], format: "{0:n0} L"}]
              },
              height: 300
            });
            break;
          case "spreadsheet":
            $("#" + containerId).kendoSpreadsheet({
              sheets: [{
                name: "Ã–rnek",
                rows: [{
                  cells: [
                    {value: "Åube"}, {value: "Miktar"}, {value: "Fiyat"}, {formula: "B1*C1"}
                  ]
                }, {
                  cells: [
                    {value: "YAÄCILAR"}, {value: 100000}, {value: 25.50}, {formula: "B2*C2"}
                  ]
                }]
              }],
              height: 300
            });
            break;
          case "treelist":
            $("#" + containerId).kendoTreeList({
              dataSource: {
                data: [
                  {id: 1, sube: "YAÄCILAR", miktar: 210000, parentId: null},
                  {id: 2, sube: "Motorin", miktar: 125000, parentId: 1}
                ],
                schema: {model: {id: "id", parentId: "parentId"}}
              },
              columns: [
                {field: "sube", title: "Åube/ÃœrÃ¼n", width: 200, expandable: true},
                {field: "miktar", title: "Miktar", width: 120, format: "{0:n0}"}
              ],
              height: 300
            });
            break;
          case "listview":
            $("#" + containerId).kendoListView({
              dataSource: {
                data: [
                  {id: 1, ad: "YAÄCILAR", miktar: 125000},
                  {id: 2, ad: "TEPEKUM", miktar: 85000}
                ]
              },
              template: "<div class=\"k-card\" style=\"padding:10px;margin:5px;border:1px solid #ddd;\">#:ad# - #:miktar# L</div>",
              height: 300
            });
            break;
          case "menu":
            // Menu Ã¶rneÄŸi - RESIMDEKI GIBI BASIT TABLO
            var menuData = [
              {id: 1, menuText: "Åubeler"},
              {id: 2, menuText: "ÃœrÃ¼nler"},
              {id: 3, menuText: "Firmalar"},
              {id: 4, menuText: "SatÄ±ÅŸ Raporu"},
              {id: 5, menuText: "Stok Raporu"},
              {id: 6, menuText: "Gelir Raporu"},
              {id: 7, menuText: "SatÄ±ÅŸ"},
              {id: 8, menuText: "AlÄ±ÅŸ"}
            ];
            
            // Ã–nce eski Grid'i destroy et
            var oldGrid = $("#menu-grid-" + numara).data("kendoGrid");
            if (oldGrid) {
              oldGrid.destroy();
            }
            // Eski click event'lerini temizle
            $("#menu-grid-" + numara).off("click", "tbody tr");
            
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ“‹ Menu Ã–rneÄŸi</h3><p style="margin:0 0 20px 0;color:#666;">MenÃ¼ Ã¶ÄŸelerine tÄ±klayÄ±n, her tÄ±klamada bildirim gÃ¶receksiniz. MantÄ±ÄŸÄ± anlamak iÃ§in tÄ±klayÄ±n!</p><div id="menu-grid-' + numara + '" style="width:100%;"></div><div id="menu-aciklama-' + numara + '" style="margin-top:20px;padding:15px;background:#f5f5f5;border-radius:5px;display:none;"></div></div>');
            
            setTimeout(function() {
              if (typeof kendo !== 'undefined' && typeof $.fn.kendoGrid !== 'undefined') {
                var grid = $("#menu-grid-" + numara).kendoGrid({
                  dataSource: {
                    data: menuData,
                    schema: {
                      model: {
                        fields: {
                          id: { type: "number" },
                          menuText: { type: "string" }
                        }
                      }
                    }
                  },
                  columns: [
                    { field: "id", title: "#", width: 60 },
                    { field: "menuText", title: "MENÃœ Ã–ÄESÄ°", width: 200 }
                  ],
                  height: 400,
                  sortable: true,
                  selectable: "row"
                }).data("kendoGrid");
                
                // Grid satÄ±rlarÄ±na direkt click event'i ekle - RESIMDEKI GIBI
                $("#menu-grid-" + numara).on("click", "tbody tr", function(e) {
                  var row = $(this);
                  var dataItem = grid.dataItem(row);
                  
                  if (dataItem) {
                    var menuText = dataItem.menuText;
                    console.log("MenÃ¼ tÄ±klandÄ±:", menuText);
                    
                    // TÄ±klanan menÃ¼ Ã¶ÄŸesine gÃ¶re aÃ§Ä±klama metni gÃ¶ster
                    var aciklama = "";
                    
                    if (menuText === "Åubeler") {
                      aciklama = "<strong>Åubeler</strong> menÃ¼sÃ¼ne tÄ±klandÄ±!<br><br>Projede 'Åubeler' alanÄ± yapÄ±nca:<br><code>showPageOnly('subeler');</code>";
                    } else if (menuText === "ÃœrÃ¼nler") {
                      aciklama = "<strong>ÃœrÃ¼nler</strong> menÃ¼sÃ¼ne tÄ±klandÄ±!<br><br>Projede 'ÃœrÃ¼nler' alanÄ± yapÄ±nca:<br><code>showPageOnly('urunler');</code>";
                    } else if (menuText === "Firmalar") {
                      aciklama = "<strong>Firmalar</strong> menÃ¼sÃ¼ne tÄ±klandÄ±!<br><br>Projede 'Firmalar' alanÄ± yapÄ±nca:<br><code>showPageOnly('firmalar');</code>";
                    } else if (menuText === "SatÄ±ÅŸ Raporu") {
                      aciklama = "<strong>SatÄ±ÅŸ Raporu</strong> menÃ¼sÃ¼ne tÄ±klandÄ±!<br><br>Projede 'SatÄ±ÅŸ Raporu' alanÄ± yapÄ±nca:<br><code>showPageOnly('satis-raporu');</code>";
                    } else if (menuText === "Stok Raporu") {
                      aciklama = "<strong>Stok Raporu</strong> menÃ¼sÃ¼ne tÄ±klandÄ±!<br><br>Projede 'Stok Raporu' alanÄ± yapÄ±nca:<br><code>showPageOnly('stok-raporu');</code>";
                    } else if (menuText === "Gelir Raporu") {
                      aciklama = "<strong>Gelir Raporu</strong> menÃ¼sÃ¼ne tÄ±klandÄ±!<br><br>Projede 'Gelir Raporu' alanÄ± yapÄ±nca:<br><code>showPageOnly('gelir-raporu');</code>";
                    } else if (menuText === "SatÄ±ÅŸ") {
                      aciklama = "<strong>SatÄ±ÅŸ</strong> menÃ¼sÃ¼ne tÄ±klandÄ±!<br><br>Projede 'SatÄ±ÅŸ' alanÄ± yapÄ±nca:<br><code>showPageOnly('satis');</code>";
                    } else if (menuText === "AlÄ±ÅŸ") {
                      aciklama = "<strong>AlÄ±ÅŸ</strong> menÃ¼sÃ¼ne tÄ±klandÄ±!<br><br>Projede 'AlÄ±ÅŸ' alanÄ± yapÄ±nca:<br><code>showPageOnly('alis');</code>";
                    } else {
                      aciklama = "<strong>" + menuText + "</strong> menÃ¼sÃ¼ne tÄ±klandÄ±!";
                    }
                    
                    // AÃ§Ä±klama metnini gÃ¶ster (bildirim yerine tablonun altÄ±nda)
                    var aciklamaDiv = $("#menu-aciklama-" + numara);
                    aciklamaDiv.html(aciklama);
                    if (aciklamaDiv.is(":hidden")) {
                      aciklamaDiv.slideDown(200);
                    } else {
                      aciklamaDiv.fadeOut(100, function() {
                        $(this).fadeIn(200);
                      });
                    }
                  }
                });
                
                console.log("âœ… Menu Grid baÅŸarÄ±yla oluÅŸturuldu");
              }
            }, 200);
            break;
          case "tabstrip":
            // TabStrip Ã¶rneÄŸi - CALISAN VERSIYON (HEMEN OLUSTUR)
            var containerElement = $("#" + containerId);
            if (containerElement.length === 0) {
              console.error("âŒ Container elementi bulunamadÄ±:", containerId);
              break;
            }
            
            containerElement.html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ“‘ TabStrip Ã–rneÄŸi</h3><p style="margin:0 0 20px 0;color:#666;">Sekmelere tÄ±klayarak iÃ§erikleri deÄŸiÅŸtirebilirsiniz.</p><div id="tabstrip-' + numara + '" style="width:100%;min-height:300px;"></div></div>');
            
            // TabStrip'i hemen oluÅŸtur (setTimeout yok)
            if (typeof kendo !== 'undefined' && typeof $.fn.kendoTabStrip !== 'undefined') {
              try {
                var tabstripElement = $("#tabstrip-" + numara);
                if (tabstripElement.length === 0) {
                  console.error("âŒ TabStrip elementi bulunamadÄ±:", "tabstrip-" + numara);
                  break;
                }
                
                // EÄŸer daha Ã¶nce oluÅŸturulmuÅŸsa destroy et
                if (tabstripElement.data("kendoTabStrip")) {
                  tabstripElement.data("kendoTabStrip").destroy();
                }
                
                tabstripElement.kendoTabStrip({
                  animation: {
                    open: { effects: "fadeIn", duration: 200 }
                  },
                  select: function(e) {
                    var tabText = $(e.item).text();
                    console.log("TabStrip tab tÄ±klandÄ±:", tabText);
                  },
                  items: [
                    {
                      text: "Åubeler",
                      content: '<div style="padding:20px;"><h4 style="margin:0 0 15px 0;color:#206d7d;">ğŸ“‹ Åubeler</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">YAÄCILAR</li><li style="margin:8px 0;">TEPEKUM</li><li style="margin:8px 0;">NAMDAR</li><li style="margin:8px 0;">ÅEKER</li></ul><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-radius:4px;"><strong>ğŸ’¡ Projede kullanÄ±m:</strong><br><code>showPageOnly(\'subeler\');</code></p></div>'
                    },
                    {
                      text: "ÃœrÃ¼nler",
                      content: '<div style="padding:20px;"><h4 style="margin:0 0 15px 0;color:#206d7d;">ğŸ“¦ ÃœrÃ¼nler</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">Motorin</li><li style="margin:8px 0;">Benzin</li><li style="margin:8px 0;">Mazot</li></ul><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-radius:4px;"><strong>ğŸ’¡ Projede kullanÄ±m:</strong><br><code>showPageOnly(\'urunler\');</code></p></div>'
                    },
                    {
                      text: "Firmalar",
                      content: '<div style="padding:20px;"><h4 style="margin:0 0 15px 0;color:#206d7d;">ğŸ¢ Firmalar</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">Firma 1</li><li style="margin:8px 0;">Firma 2</li><li style="margin:8px 0;">Firma 3</li></ul><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-radius:4px;"><strong>ğŸ’¡ Projede kullanÄ±m:</strong><br><code>showPageOnly(\'firmalar\');</code></p></div>'
                    }
                  ]
                });
                console.log("âœ… TabStrip baÅŸarÄ±yla oluÅŸturuldu:", numara);
              } catch(error) {
                console.error("âŒ TabStrip oluÅŸturulurken hata:", error);
              }
            } else {
              console.error("âŒ Telerik TabStrip yÃ¼klenmedi");
            }
            break;
          case "treeview":
            $("#" + containerId).kendoTreeView({
              dataSource: [
                {text: "YAÄCILAR", items: [{text: "Motorin"}, {text: "Benzin"}]},
                {text: "TEPEKUM"}
              ]
            });
            break;
          case "panelbar":
            // PanelBar Ã¶rneÄŸi - CALISAN VERSIYON (HEMEN OLUSTUR)
            var containerElement = $("#" + containerId);
            if (containerElement.length === 0) {
              console.error("âŒ Container elementi bulunamadÄ±:", containerId);
              break;
            }
            
            containerElement.html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ“‹ PanelBar Ã–rneÄŸi</h3><p style="margin:0 0 20px 0;color:#666;">Panellere tÄ±klayarak aÃ§Ä±p kapatabilirsiniz.</p><div id="panelbar-' + numara + '" style="width:100%;"></div></div>');
            
            // PanelBar'i hemen oluÅŸtur (setTimeout yok)
            if (typeof kendo !== 'undefined' && typeof $.fn.kendoPanelBar !== 'undefined') {
              try {
                var panelbarElement = $("#panelbar-" + numara);
                if (panelbarElement.length === 0) {
                  console.error("âŒ PanelBar elementi bulunamadÄ±:", "panelbar-" + numara);
                  break;
                }
                
                // EÄŸer daha Ã¶nce oluÅŸturulmuÅŸsa destroy et
                if (panelbarElement.data("kendoPanelBar")) {
                  panelbarElement.data("kendoPanelBar").destroy();
                }
                
                panelbarElement.kendoPanelBar({
                  expandMode: "multiple",
                  items: [
                    {
                      text: "ğŸ“‹ Åubeler",
                      content: '<div style="padding:20px;"><h4 style="margin:0 0 15px 0;color:#206d7d;">Åube Listesi</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">YAÄCILAR</li><li style="margin:8px 0;">TEPEKUM</li><li style="margin:8px 0;">NAMDAR</li><li style="margin:8px 0;">ÅEKER</li></ul><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-radius:4px;"><strong>ğŸ’¡ Projede kullanÄ±m:</strong><br><code>showPageOnly(\'subeler\');</code></p></div>'
                    },
                    {
                      text: "ğŸ“¦ ÃœrÃ¼nler",
                      content: '<div style="padding:20px;"><h4 style="margin:0 0 15px 0;color:#206d7d;">ÃœrÃ¼n Listesi</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">Motorin</li><li style="margin:8px 0;">Benzin</li><li style="margin:8px 0;">Mazot</li></ul><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-radius:4px;"><strong>ğŸ’¡ Projede kullanÄ±m:</strong><br><code>showPageOnly(\'urunler\');</code></p></div>'
                    },
                    {
                      text: "ğŸ¢ Firmalar",
                      content: '<div style="padding:20px;"><h4 style="margin:0 0 15px 0;color:#206d7d;">Firma Listesi</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">Firma 1</li><li style="margin:8px 0;">Firma 2</li><li style="margin:8px 0;">Firma 3</li></ul><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-radius:4px;"><strong>ğŸ’¡ Projede kullanÄ±m:</strong><br><code>showPageOnly(\'firmalar\');</code></p></div>'
                    }
                  ]
                });
                console.log("âœ… PanelBar baÅŸarÄ±yla oluÅŸturuldu:", numara);
              } catch(error) {
                console.error("âŒ PanelBar oluÅŸturulurken hata:", error);
              }
            } else {
              console.error("âŒ Telerik PanelBar yÃ¼klenmedi");
            }
            break;
          case "breadcrumb":
            $("#" + containerId).kendoBreadcrumb({
              items: [
                {text: "Ana Sayfa", type: "rootItem"},
                {text: "Åubeler", type: "item"},
                {text: "YAÄCILAR", type: "item"}
              ]
            });
            break;
          case "toolbar":
            try {
              $("#" + containerId).kendoToolBar({
                items: [
                  {type: "button", text: "Kaydet"},
                  {type: "button", text: "Sil"},
                  {type: "button", text: "YazdÄ±r"}
                ]
              });
            } catch(e) {
              // ToolBar yoksa alternatif gÃ¶ster
              $("#" + containerId).html('<div style="padding:10px;"><button class="k-button">Kaydet</button> <button class="k-button">Sil</button> <button class="k-button">YazdÄ±r</button></div>');
            }
            break;
          case "splitter":
            // Ã–nce basit HTML gÃ¶ster, sonra Splitter baÅŸlat
            $("#" + containerId).html('<div id="splitter-wrapper-' + numara + '" style="width:100%;height:500px;border:1px solid #ddd;background:#f9f9f9;"><div style="display:flex;height:100%;"><div id="splitter-left-' + numara + '" style="width:250px;background:#e3f2fd;padding:15px;border-right:3px solid #1976d2;overflow:auto;"><h3 style="margin:0 0 15px 0;color:#1976d2;">ğŸ“‹ SOL PANEL</h3><p style="margin:0 0 10px 0;font-weight:bold;">Åube Listesi:</p><ul style="margin:0;padding-left:20px;"><li style="margin:5px 0;">YAÄCILAR</li><li style="margin:5px 0;">TEPEKUM</li><li style="margin:5px 0;">NAMDAR</li><li style="margin:5px 0;">ÅEKER</li></ul><p style="margin-top:20px;padding:10px;background:#fff;border-radius:4px;font-size:12px;"><strong>ğŸ’¡ Ä°pucu:</strong> SaÄŸdaki gri Ã§izgiyi sÃ¼rÃ¼kleyerek panel geniÅŸliÄŸini deÄŸiÅŸtirebilirsiniz.</p></div><div id="splitter-divider-' + numara + '" style="width:5px;background:#ccc;cursor:col-resize;position:relative;" title="SÃ¼rÃ¼kleyerek geniÅŸlik deÄŸiÅŸtirin"></div><div id="splitter-right-' + numara + '" style="flex:1;background:#fff;padding:15px;overflow:auto;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ“Š SAÄ PANEL</h3><p style="margin:0 0 10px 0;">SeÃ§ilen ÅŸubenin detaylarÄ± burada gÃ¶sterilir.</p><div style="padding:15px;background:#f5f5f5;border-radius:4px;margin-top:20px;"><p style="margin:5px 0;"><strong>Åube:</strong> YAÄCILAR</p><p style="margin:5px 0;"><strong>Motorin SatÄ±ÅŸÄ±:</strong> 125,000 L</p><p style="margin:5px 0;"><strong>Benzin SatÄ±ÅŸÄ±:</strong> 85,000 L</p><p style="margin:5px 0;"><strong>Toplam:</strong> 210,000 L</p></div><p style="margin-top:20px;padding:10px;background:#fff3cd;border-left:4px solid #ffc107;font-size:12px;"><strong>âœ¨ NasÄ±l KullanÄ±lÄ±r:</strong> Splitter ekranÄ± ikiye bÃ¶ler. Sol panelde liste, saÄŸ panelde detay gÃ¶sterilir. KullanÄ±cÄ± paneller arasÄ±ndaki Ã§izgiyi sÃ¼rÃ¼kleyerek istediÄŸi geniÅŸliÄŸi ayarlayabilir.</p></div></div></div>');
            
            // Basit sÃ¼rÃ¼kle-bÄ±rak iÅŸlevselliÄŸi ekle
            setTimeout(function() {
              var $divider = $("#splitter-divider-" + numara);
              var $left = $("#splitter-left-" + numara);
              var $right = $("#splitter-right-" + numara);
              var isDragging = false;
              
              $divider.on("mousedown", function(e) {
                isDragging = true;
                $("body").css("cursor", "col-resize");
                e.preventDefault();
              });
              
              $(document).on("mousemove", function(e) {
                if (isDragging) {
                  var containerWidth = $("#splitter-wrapper-" + numara).width();
                  var newLeftWidth = e.pageX - $("#splitter-wrapper-" + numara).offset().left;
                  if (newLeftWidth > 150 && newLeftWidth < containerWidth - 150) {
                    $left.css("width", newLeftWidth + "px");
                  }
                }
              });
              
              $(document).on("mouseup", function() {
                if (isDragging) {
                  isDragging = false;
                  $("body").css("cursor", "");
                }
              });
              
              // Telerik Splitter'Ä± da dene
              try {
                $("#splitter-wrapper-" + numara).kendoSplitter({
                  panes: [
                    {size: "250px", collapsible: true, resizable: true},
                    {collapsible: true, resizable: true}
                  ],
                  orientation: "horizontal"
                });
              } catch(e) {
                console.log("Telerik Splitter yÃ¼klenemedi, basit versiyon kullanÄ±lÄ±yor");
              }
            }, 200);
            break;
          case "responsivepanel":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ“± ResponsivePanel Ã–rneÄŸi</h3><p style="margin:0 0 20px 0;">Mobil cihazlarda otomatik aÃ§Ä±lÄ±p kapanan panel. Butona tÄ±klayarak paneli aÃ§Ä±p kapatabilirsiniz.</p><button id="ornek-rp-toggle-' + numara + '" class="k-button k-button-md k-button-solid k-button-solid-primary" style="margin-bottom:15px;">ğŸ“± Panel AÃ§/Kapat</button><div id="ornek-rp-' + numara + '" style="min-height:300px;background:#e3f2fd;padding:20px;border:2px solid #1976d2;border-radius:4px;display:none;"><h4 style="margin:0 0 15px 0;color:#1976d2;">ğŸ“‹ Panel Ä°Ã§eriÄŸi</h4><ul style="margin:0;padding-left:20px;"><li style="margin:8px 0;">MenÃ¼ Ã–ÄŸesi 1</li><li style="margin:8px 0;">MenÃ¼ Ã–ÄŸesi 2</li><li style="margin:8px 0;">MenÃ¼ Ã–ÄŸesi 3</li><li style="margin:8px 0;">MenÃ¼ Ã–ÄŸesi 4</li></ul><p style="margin-top:20px;padding:10px;background:#fff;border-radius:4px;font-size:12px;"><strong>ğŸ’¡ NasÄ±l KullanÄ±lÄ±r:</strong> ResponsivePanel mobil cihazlarda yan taraftan aÃ§Ä±lan menÃ¼ paneli olarak kullanÄ±lÄ±r. KÃ¼Ã§Ã¼k ekranlarda otomatik olarak gÃ¶rÃ¼nÃ¼r.</p></div></div>');
            
            // Basit aÃ§/kapat iÅŸlevselliÄŸi
            $("#ornek-rp-toggle-" + numara).click(function() {
              var $panel = $("#ornek-rp-" + numara);
              if ($panel.is(":visible")) {
                $panel.slideUp(300);
                $(this).text("ğŸ“± Panel AÃ§");
              } else {
                $panel.slideDown(300);
                $(this).text("ğŸ“± Panel Kapat");
              }
            });
            
            // Telerik ResponsivePanel'i de dene
            setTimeout(function() {
              try {
                $("#ornek-rp-" + numara).kendoResponsivePanel({
                  orientation: "left",
                  toggleButton: "#ornek-rp-toggle-" + numara,
                  breakpoint: 640
                });
              } catch(e) {
                console.log("Telerik ResponsivePanel yÃ¼klenemedi, basit versiyon kullanÄ±lÄ±yor");
              }
            }, 100);
            break;
          case "drawer":
            $("#" + containerId).html('<button id="ornek-drawer-toggle-' + numara + '" class="k-button">Drawer AÃ§/Kapat</button><div id="ornek-drawer-' + numara + '"></div>');
            $("#ornek-drawer-" + numara).kendoDrawer({
              template: "<ul><li>MenÃ¼ 1</li><li>MenÃ¼ 2</li></ul>",
              mode: "overlay",
              mini: true
            });
            $("#ornek-drawer-toggle-" + numara).click(function() {
              $("#ornek-drawer-" + numara).data("kendoDrawer").show();
            });
            break;
          case "stepper":
            $("#" + containerId).kendoStepper({
              steps: [
                {label: "AdÄ±m 1", selected: true},
                {label: "AdÄ±m 2"},
                {label: "AdÄ±m 3"}
              ],
              orientation: "horizontal"
            });
            break;
          case "datepicker":
            $("#" + containerId).html('<input id="ornek-datepicker-' + numara + '" style="width:300px;" />');
            $("#ornek-datepicker-" + numara).kendoDatePicker({
              value: new Date(),
              format: "dd.MM.yyyy"
            });
            break;
          case "datetimepicker":
            $("#" + containerId).html('<input id="ornek-datetimepicker-' + numara + '" style="width:300px;" />');
            $("#ornek-datetimepicker-" + numara).kendoDateTimePicker({
              value: new Date(),
              format: "dd.MM.yyyy HH:mm"
            });
            break;
          case "timepicker":
            $("#" + containerId).html('<input id="ornek-timepicker-' + numara + '" style="width:300px;" />');
            $("#ornek-timepicker-" + numara).kendoTimePicker({
              value: new Date()
            });
            break;
          case "calendar":
            $("#" + containerId).kendoCalendar({
              value: new Date()
            });
            break;
          case "combobox":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ“‹ ComboBox Ã–rneÄŸi</h3><p style="margin:0 0 10px 0;color:#666;font-weight:bold;">ğŸ“Œ ComboBox = Dropdown + Arama Kutusu</p><p style="margin:0 0 20px 0;color:#666;line-height:1.6;"><strong>MantÄ±k:</strong> Hem listeden seÃ§ebilirsiniz, hem de yazarken otomatik filtreleme yapar. Ã–rnek: Åube seÃ§imi yaparken "YAÄ" yazarsanÄ±z sadece "YAÄCILAR" gÃ¶sterir.</p><div style="margin-bottom:20px;"><label style="display:block;margin-bottom:8px;font-weight:bold;color:#333;">Åube SeÃ§in (Yazarken filtreleme yapar):</label><input id="ornek-combobox-' + numara + '" style="width:300px;" /></div><div style="padding:15px;background:#e3f2fd;border-radius:5px;font-size:12px;"><strong>ğŸ’¡ KullanÄ±m SenaryolarÄ±:</strong><ul style="margin:10px 0 0 20px;padding:0;"><li style="margin:5px 0;">Åube seÃ§imi (Ã§ok ÅŸube varsa yazarken filtreleme)</li><li style="margin:5px 0;">Firma seÃ§imi (firma adÄ± yazarken arama)</li><li style="margin:5px 0;">ÃœrÃ¼n seÃ§imi (Ã¼rÃ¼n adÄ± yazarken filtreleme)</li></ul><strong>Kod:</strong> <code>$("#combobox").kendoComboBox({ dataSource: ["SeÃ§enek1", "SeÃ§enek2"], placeholder: "SeÃ§in..." });</code></div></div>');
            setTimeout(function() {
              $("#ornek-combobox-" + numara).kendoComboBox({
                dataSource: ["YAÄCILAR", "TEPEKUM", "NAMDAR", "ÅEKER"],
                placeholder: "Åube seÃ§in veya yazÄ±n...",
                filter: "contains", // Yazarken iÃ§inde geÃ§enleri bul
                suggest: true // Yazarken Ã¶neri gÃ¶ster
              });
            }, 100);
            break;
          case "dropdownlist":
            $("#" + containerId).html('<input id="ornek-dropdownlist-' + numara + '" style="width:300px;" />');
            $("#ornek-dropdownlist-" + numara).kendoDropDownList({
              dataSource: ["Aktif", "Pasif"],
              value: "Aktif"
            });
            break;
          case "multiselect":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ“‹ MultiSelect Ã–rneÄŸi</h3><p style="margin:0 0 10px 0;color:#666;font-weight:bold;">ğŸ“Œ MultiSelect = Ã‡oklu SeÃ§im Dropdown</p><p style="margin:0 0 20px 0;color:#666;line-height:1.6;"><strong>MantÄ±k:</strong> Birden fazla seÃ§enek seÃ§ebilirsiniz. Ã–rnek: Birden fazla ÅŸube seÃ§mek iÃ§in kullanÄ±lÄ±r. SeÃ§ilenler Ã¼stte etiket olarak gÃ¶sterilir.</p><div style="margin-bottom:20px;"><label style="display:block;margin-bottom:8px;font-weight:bold;color:#333;">Åubeler SeÃ§in (Birden fazla seÃ§ebilirsiniz):</label><input id="ornek-multiselect-' + numara + '" style="width:300px;" /></div><div style="padding:15px;background:#e3f2fd;border-radius:5px;font-size:12px;"><strong>ğŸ’¡ KullanÄ±m SenaryolarÄ±:</strong><ul style="margin:10px 0 0 20px;padding:0;"><li style="margin:5px 0;">Birden fazla ÅŸube seÃ§imi</li><li style="margin:5px 0;">Birden fazla Ã¼rÃ¼n seÃ§imi</li><li style="margin:5px 0;">Birden fazla firma seÃ§imi</li></ul><strong>Kod:</strong> <code>$("#multiselect").kendoMultiSelect({ dataSource: ["SeÃ§enek1", "SeÃ§enek2"], placeholder: "SeÃ§in..." });</code></div></div>');
            setTimeout(function() {
              if (typeof kendo !== 'undefined' && typeof $.fn.kendoMultiSelect !== 'undefined') {
                var multiselectEl = $("#ornek-multiselect-" + numara);
                if (multiselectEl.length > 0) {
                  // EÄŸer daha Ã¶nce oluÅŸturulmuÅŸsa destroy et
                  if (multiselectEl.data("kendoMultiSelect")) {
                    multiselectEl.data("kendoMultiSelect").destroy();
                  }
                  multiselectEl.kendoMultiSelect({
                    dataSource: ["YAÄCILAR", "TEPEKUM", "NAMDAR", "ÅEKER"],
                    placeholder: "Åube seÃ§in (Ã§oklu seÃ§im)...",
                    filter: "contains",
                    autoClose: false // SeÃ§im yapÄ±nca kapanmasÄ±n
                  });
                  console.log("âœ… MultiSelect oluÅŸturuldu:", numara);
                }
              } else {
                console.error("âŒ Telerik MultiSelect yÃ¼klenmedi");
              }
            }, 100);
            break;
          case "autocomplete":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ“‹ AutoComplete Ã–rneÄŸi</h3><p style="margin:0 0 10px 0;color:#666;font-weight:bold;">ğŸ“Œ AutoComplete = Otomatik Tamamlama</p><p style="margin:0 0 20px 0;color:#666;line-height:1.6;"><strong>MantÄ±k:</strong> Yazmaya baÅŸladÄ±ÄŸÄ±nÄ±zda otomatik Ã¶neriler gÃ¶sterir. Ã–rnek: "YAÄ" yazarsanÄ±z "YAÄCILAR" Ã¶nerisi Ã§Ä±kar. Google arama gibi Ã§alÄ±ÅŸÄ±r.</p><div style="margin-bottom:20px;"><label style="display:block;margin-bottom:8px;font-weight:bold;color:#333;">Firma Ara (Yazarken otomatik Ã¶neriler gÃ¶sterir):</label><input id="ornek-autocomplete-' + numara + '" style="width:300px;" /></div><div style="padding:15px;background:#fff3cd;border-left:4px solid #ffc107;margin-bottom:20px;border-radius:4px;"><strong>ğŸ’¡ Deneyin:</strong><ul style="margin:10px 0 0 20px;padding:0;"><li style="margin:5px 0;">"YAÄ" yazÄ±n â†’ "YAÄCILAR" Ã¶nerisi Ã§Ä±kar</li><li style="margin:5px 0;">"TEPE" yazÄ±n â†’ "TEPEKUM" Ã¶nerisi Ã§Ä±kar</li><li style="margin:5px 0;">"NAM" yazÄ±n â†’ "NAMDAR" Ã¶nerisi Ã§Ä±kar</li></ul></div><div style="padding:15px;background:#e3f2fd;border-radius:5px;font-size:12px;"><strong>ğŸ’¡ KullanÄ±m SenaryolarÄ±:</strong><ul style="margin:10px 0 0 20px;padding:0;"><li style="margin:5px 0;">Firma adÄ± arama (yazarken Ã¶neriler)</li><li style="margin:5px 0;">ÃœrÃ¼n adÄ± arama</li><li style="margin:5px 0;">Åube adÄ± arama</li></ul><strong>Kod:</strong> <code>$("#autocomplete").kendoAutoComplete({ dataSource: ["SeÃ§enek1", "SeÃ§enek2"], placeholder: "Ara..." });</code></div></div>');
            setTimeout(function() {
              if (typeof kendo !== 'undefined' && typeof $.fn.kendoAutoComplete !== 'undefined') {
                var autocompleteEl = $("#ornek-autocomplete-" + numara);
                if (autocompleteEl.length > 0) {
                  // EÄŸer daha Ã¶nce oluÅŸturulmuÅŸsa destroy et
                  if (autocompleteEl.data("kendoAutoComplete")) {
                    autocompleteEl.data("kendoAutoComplete").destroy();
                  }
                  autocompleteEl.kendoAutoComplete({
                    dataSource: ["YAÄCILAR", "TEPEKUM", "NAMDAR", "ÅEKER"],
                    placeholder: "Firma ara (Ã¶rnek: YAÄ yazÄ±n)...",
                    filter: "contains",
                    minLength: 1 // 1 karakter yazÄ±nca Ã¶neri gÃ¶ster
                  });
                  console.log("âœ… AutoComplete oluÅŸturuldu:", numara);
                }
              } else {
                console.error("âŒ Telerik AutoComplete yÃ¼klenmedi");
              }
            }, 100);
            break;
          case "numerictextbox":
            $("#" + containerId).html('<input id="ornek-numerictextbox-' + numara + '" style="width:300px;" />');
            setTimeout(function() {
              try {
                if (typeof kendo !== 'undefined' && typeof $.fn.kendoNumericTextBox !== 'undefined') {
                  var numericEl = $("#ornek-numerictextbox-" + numara);
                  if (numericEl.length > 0) {
                    // EÄŸer daha Ã¶nce oluÅŸturulmuÅŸsa destroy et
                    if (numericEl.data("kendoNumericTextBox")) {
                      numericEl.data("kendoNumericTextBox").destroy();
                    }
                    // Culture kontrolÃ¼ yap, yoksa varsayÄ±lan kullan
                    var config = {
                      value: 1000,
                      format: "n0",
                      min: 0
                    };
                    // Culture varsa ekle, yoksa ekleme
                    if (typeof kendo.culture !== 'undefined' && kendo.culture("tr-TR")) {
                      config.culture = "tr-TR";
                    }
                    numericEl.kendoNumericTextBox(config);
                    console.log("âœ… NumericTextBox oluÅŸturuldu:", numara);
                  }
                }
              } catch(e) {
                console.error("NumericTextBox hatasÄ±:", e);
                $("#ornek-numerictextbox-" + numara).attr("type", "number").val(1000);
              }
            }, 100);
            break;
          case "maskedtextbox":
            $("#" + containerId).html('<input id="ornek-maskedtextbox-' + numara + '" style="width:300px;" />');
            setTimeout(function() {
              try {
                if (typeof kendo !== 'undefined' && typeof $.fn.kendoMaskedTextBox !== 'undefined') {
                  var maskedEl = $("#ornek-maskedtextbox-" + numara);
                  if (maskedEl.length > 0) {
                    // EÄŸer daha Ã¶nce oluÅŸturulmuÅŸsa destroy et
                    if (maskedEl.data("kendoMaskedTextBox")) {
                      maskedEl.data("kendoMaskedTextBox").destroy();
                    }
                    // Culture kontrolÃ¼ yap, yoksa varsayÄ±lan kullan
                    var config = {
                      mask: "000-000-0000",
                      value: "5551234567"
                    };
                    // Culture varsa ekle, yoksa ekleme
                    if (typeof kendo.culture !== 'undefined' && kendo.culture("tr-TR")) {
                      config.culture = "tr-TR";
                    }
                    maskedEl.kendoMaskedTextBox(config);
                    console.log("âœ… MaskedTextBox oluÅŸturuldu:", numara);
                  }
                }
              } catch(e) {
                console.error("MaskedTextBox hatasÄ±:", e);
                $("#ornek-maskedtextbox-" + numara).val("555-123-4567").attr("placeholder", "000-000-0000");
              }
            }, 100);
            break;
          case "editor":
            $("#" + containerId).html('<textarea id="ornek-editor-' + numara + '" style="width:100%;height:300px;"></textarea>');
            $("#ornek-editor-" + numara).kendoEditor({
              value: "<p>Zengin metin editÃ¶rÃ¼ Ã¶rneÄŸi</p>"
            });
            break;
          case "colorpicker":
            $("#" + containerId).html('<input id="ornek-colorpicker-' + numara + '" style="width:200px;" />');
            $("#ornek-colorpicker-" + numara).kendoColorPicker({
              value: "#ff0000"
            });
            break;
          case "flatcolorpicker":
            $("#" + containerId).html('<input id="ornek-flatcolorpicker-' + numara + '" style="width:200px;" />');
            $("#ornek-flatcolorpicker-" + numara).kendoFlatColorPicker({
              value: "#ff0000"
            });
            break;
          case "colorpalette":
            $("#" + containerId).kendoColorPalette({
              palette: "basic"
            });
            break;
          case "slider":
            $("#" + containerId).html('<input id="ornek-slider-' + numara + '" style="width:400px;" />');
            $("#ornek-slider-" + numara).kendoSlider({
              min: 0,
              max: 100,
              value: 50
            });
            break;
          case "rangeslider":
            // RangeSlider iÃ§in gÃ¶rsel Ã¶rnek gÃ¶ster (Telerik RangeSlider sorunlu)
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ“Š RangeSlider Ã–rneÄŸi</h3><p style="margin:0 0 20px 0;color:#666;">AralÄ±k kaydÄ±rÄ±cÄ± - Min ve max deÄŸer seÃ§imi iÃ§in kullanÄ±lÄ±r.</p><div style="position:relative;width:400px;height:50px;background:#f5f5f5;border-radius:4px;padding:10px;"><div style="position:relative;width:100%;height:30px;background:#e0e0e0;border-radius:15px;margin-top:10px;"><div style="position:absolute;left:20%;width:60%;height:100%;background:linear-gradient(to right, #1976d2, #42a5f5);border-radius:15px;box-shadow:inset 0 1px 3px rgba(0,0,0,0.2);"></div><div style="position:absolute;left:20%;top:-5px;width:40px;height:40px;background:#fff;border:2px solid #1976d2;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,0.3);cursor:ew-resize;"></div><div style="position:absolute;left:80%;top:-5px;width:40px;height:40px;background:#fff;border:2px solid #1976d2;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,0.3);cursor:ew-resize;"></div></div><div style="margin-top:15px;display:flex;justify-content:space-between;font-size:12px;color:#666;"><span>Min: 0</span><span>SeÃ§im: 20 - 80</span><span>Max: 100</span></div><p style="margin-top:20px;padding:10px;background:#fff3cd;border-left:4px solid #ffc107;font-size:12px;"><strong>âœ¨ NasÄ±l KullanÄ±lÄ±r:</strong> RangeSlider iki kaydÄ±rÄ±cÄ± ile min ve max deÄŸer seÃ§imi yapmanÄ±zÄ± saÄŸlar. KaydÄ±rÄ±cÄ±larÄ± sÃ¼rÃ¼kleyerek aralÄ±ÄŸÄ± ayarlayabilirsiniz.</p></div>');
            break;
          case "rating":
            $("#" + containerId).kendoRating({
              value: 3,
              min: 1,
              max: 5
            });
            break;
          case "listbox":
            $("#" + containerId).html('<select id="ornek-listbox-' + numara + '" multiple style="width:300px;height:150px;"></select>');
            $("#ornek-listbox-" + numara).kendoListBox({
              dataSource: ["YAÄCILAR", "TEPEKUM", "NAMDAR", "ÅEKER"],
              selectable: "multiple"
            });
            break;
          case "searchbox":
            $("#" + containerId).html('<input id="ornek-searchbox-' + numara + '" style="width:300px;" />');
            $("#ornek-searchbox-" + numara).kendoSearchBox({
              placeholder: "Ara..."
            });
            break;
          case "chart-column":
            $("#" + containerId).kendoChart({
              series: [{
                type: "column",
                data: [125000, 85000, 98000, 72000]
              }],
              categoryAxis: {
                categories: ["YAÄCILAR", "TEPEKUM", "NAMDAR", "ÅEKER"]
              },
              height: 300
            });
            break;
          case "chart-line":
            $("#" + containerId).kendoChart({
              series: [{
                type: "line",
                data: [125000, 132000, 98000, 105000]
              }],
              categoryAxis: {
                categories: ["Ocak", "Åubat", "Mart", "Nisan"]
              },
              height: 300
            });
            break;
          case "chart-pie":
            $("#" + containerId).kendoChart({
              series: [{
                type: "pie",
                data: [
                  {category: "YAÄCILAR", value: 125000},
                  {category: "TEPEKUM", value: 85000},
                  {category: "NAMDAR", value: 45000}
                ]
              }],
              height: 300
            });
            break;
          case "chart-area":
            $("#" + containerId).kendoChart({
              series: [{
                type: "area",
                data: [125000, 132000, 98000, 105000]
              }],
              categoryAxis: {
                categories: ["Ocak", "Åubat", "Mart", "Nisan"]
              },
              height: 300
            });
            break;
          case "chart-bar":
            $("#" + containerId).kendoChart({
              series: [{
                type: "bar",
                data: [125000, 85000, 98000, 72000]
              }],
              categoryAxis: {
                categories: ["YAÄCILAR", "TEPEKUM", "NAMDAR", "ÅEKER"]
              },
              height: 300
            });
            break;
          case "stockchart":
            $("#" + containerId).kendoStockChart({
              dataSource: {
                data: [
                  {date: new Date("2024-01-01"), open: 100, high: 110, low: 95, close: 105},
                  {date: new Date("2024-01-02"), open: 105, high: 115, low: 100, close: 110}
                ]
              },
              height: 300
            });
            break;
          case "sparkline":
            $("#" + containerId).html('<span id="ornek-sparkline-' + numara + '"></span>');
            $("#ornek-sparkline-" + numara).kendoSparkline({
              data: [125000, 132000, 98000, 105000, 110000],
              type: "line"
            });
            break;
          case "circulargauge":
            $("#" + containerId).kendoCircularGauge({
              value: 75,
              scale: {
                min: 0,
                max: 100
              },
              height: 250
            });
            break;
          case "lineargauge":
            $("#" + containerId).kendoLinearGauge({
              value: 75,
              scale: {
                min: 0,
                max: 100
              },
              height: 150
            });
            break;
          case "arcgauge":
            $("#" + containerId).kendoArcGauge({
              value: 75,
              scale: {
                min: 0,
                max: 100
              },
              height: 200
            });
            break;
          case "radialgauge":
            $("#" + containerId).kendoRadialGauge({
              value: 75,
              scale: {
                min: 0,
                max: 100
              },
              height: 200
            });
            break;
          case "chart-donut":
            $("#" + containerId).kendoChart({
              series: [{
                type: "donut",
                data: [
                  {category: "YAÄCILAR", value: 125000},
                  {category: "TEPEKUM", value: 85000},
                  {category: "NAMDAR", value: 45000}
                ]
              }],
              height: 300
            });
            break;
          case "chart-bubble":
            $("#" + containerId).kendoChart({
              series: [{
                type: "bubble",
                data: [
                  {x: 10, y: 20, size: 30},
                  {x: 15, y: 25, size: 40}
                ]
              }],
              height: 300
            });
            break;
          case "chart-scatter":
            $("#" + containerId).kendoChart({
              series: [{
                type: "scatter",
                data: [
                  {x: 10, y: 20},
                  {x: 15, y: 25},
                  {x: 20, y: 30}
                ]
              }],
              height: 300
            });
            break;
          case "chart-radar":
            $("#" + containerId).kendoChart({
              series: [{
                type: "radar",
                data: [125000, 85000, 98000, 72000]
              }],
              categoryAxis: {
                categories: ["YAÄCILAR", "TEPEKUM", "NAMDAR", "ÅEKER"]
              },
              height: 300
            });
            break;
          case "button":
            $("#" + containerId).html('<button id="ornek-button-' + numara + '" class="k-button k-button-md k-button-solid k-button-solid-primary">Ã–rnek Buton</button>');
            $("#ornek-button-" + numara).kendoButton({
              click: function() {
                alert("Buton tÄ±klandÄ±!");
              }
            });
            break;
          case "window":
            $("#" + containerId).html('<button id="ornek-window-btn-' + numara + '" class="k-button">Pencere AÃ§</button>');
            $("#ornek-window-btn-" + numara).click(function() {
              $("<div id='ornek-window-" + numara + "'>Pencere iÃ§eriÄŸi</div>").kendoWindow({
                title: "Ã–rnek Pencere",
                width: 400,
                height: 300,
                modal: true
              }).data("kendoWindow").center().open();
            });
            break;
          case "notification":
            $("#" + containerId).html('<button id="ornek-notification-btn-' + numara + '" class="k-button">Bildirim GÃ¶ster</button>');
            var notification = $("#" + containerId).kendoNotification({
              position: {top: 20, right: 20}
            }).data("kendoNotification");
            $("#ornek-notification-btn-" + numara).click(function() {
              notification.show("BaÅŸarÄ±lÄ± iÅŸlem!", "success");
            });
            break;
          case "tooltip":
            $("#" + containerId).html('<span id="ornek-tooltip-' + numara + '" style="padding:10px;background:#f0f0f0;cursor:pointer;">Hover yapÄ±n</span>');
            $("#ornek-tooltip-" + numara).kendoTooltip({
              content: "Bu bir tooltip Ã¶rneÄŸidir"
            });
            break;
          case "upload":
            $("#" + containerId).html('<input id="ornek-upload-' + numara + '" name="files" type="file" />');
            setTimeout(function() {
              if ($("#ornek-upload-" + numara).length > 0) {
                try {
                  $("#ornek-upload-" + numara).kendoUpload({
                    async: {
                      saveUrl: "/api/upload-excel/",
                      removeUrl: "/api/upload-excel/"
                    }
                  });
                } catch(e) {
                  $("#" + containerId).html('<p style="color:#666;padding:20px;">Upload bileÅŸeni yÃ¼klenemedi. SayfayÄ± yenileyin.</p>');
                }
              }
            }, 100);
            break;
          case "progressbar":
            $("#" + containerId).kendoProgressBar({
              value: 50,
              type: "percent"
            });
            break;
          case "scheduler":
            $("#" + containerId).kendoScheduler({
              date: new Date(),
              startTime: new Date("2024-01-15T08:00"),
              height: 400,
              views: ["day", "week"],
              dataSource: []
            });
            break;
          case "gantt":
            $("#" + containerId).kendoGantt({
              dataSource: [{
                id: 1,
                orderId: 0,
                parentId: null,
                title: "Proje",
                start: new Date("2024-01-15"),
                end: new Date("2024-01-20"),
                percentComplete: 50
              }],
              dependencies: [],
              height: 300
            });
            break;
          case "diagram":
            $("#" + containerId).kendoDiagram({
              dataSource: {
                data: [
                  {id: 1, text: "BaÅŸlangÄ±Ã§"},
                  {id: 2, text: "BitiÅŸ"}
                ],
                schema: {
                  model: {
                    children: "items"
                  }
                }
              },
              layout: {
                type: "tree",
                subtype: "right"
              },
              height: 300
            });
            break;
          case "map":
            $("#" + containerId).kendoMap({
              center: [41.0082, 28.9784],
              zoom: 10,
              layers: [{
                type: "tile",
                urlTemplate: "https://#= subdomain #.tile.openstreetmap.org/#= zoom #/#= x #/#= y #.png",
                subdomains: ["a", "b", "c"]
              }],
              height: 300
            });
            break;
          case "barcode":
            $("#" + containerId).kendoBarcode({
              value: "123456789",
              type: "code128",
              height: 100
            });
            break;
          case "qrcode":
            $("#" + containerId).kendoQRCode({
              value: "https://www.telerik.com",
              size: 200
            });
            break;
          case "signature":
            $("#" + containerId).kendoSignature({
              width: 400,
              height: 200
            });
            break;
          case "badge":
            $("#" + containerId).html('<span class="k-badge k-badge-solid k-badge-solid-primary" style="font-size:20px;">5</span>');
            break;
          case "avatar":
            $("#" + containerId).html('<div class="k-avatar k-avatar-circle k-avatar-md" style="background:#206d7d;color:white;display:inline-flex;align-items:center;justify-content:center;width:60px;height:60px;">AB</div>');
            break;
          case "loader":
            $("#" + containerId).html('<div style="padding:40px;text-align:center;"><h3 style="margin:0 0 20px 0;color:#206d7d;">â³ Loader Ã–rneÄŸi</h3><p style="margin:0 0 30px 0;color:#666;">YÃ¼kleme animasyonu gÃ¶steriliyor...</p><div class="k-loader k-loader-md k-loader-primary" style="margin:0 auto;"></div><div style="margin-top:30px;padding:15px;background:#e3f2fd;border-radius:4px;"><p style="margin:0;font-size:12px;"><strong>ğŸ’¡ NasÄ±l KullanÄ±lÄ±r:</strong> Loader, veri yÃ¼klenirken veya iÅŸlem yapÄ±lÄ±rken kullanÄ±cÄ±ya bekleme gÃ¶stergesi sunar. Sayfa yÃ¼klenirken, API Ã§aÄŸrÄ±sÄ± yapÄ±lÄ±rken kullanÄ±labilir.</p></div></div>');
            break;
          case "skeleton":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ’€ Skeleton Ã–rneÄŸi</h3><p style="margin:0 0 20px 0;color:#666;">YÃ¼kleme sÄ±rasÄ±nda placeholder gÃ¶sterimi. Ä°Ã§erik yÃ¼klenene kadar gÃ¶sterilir.</p><div style="border:1px solid #ddd;border-radius:4px;padding:20px;background:#fafafa;"><div class="k-skeleton" style="width:100%;height:20px;margin-bottom:15px;border-radius:4px;"></div><div class="k-skeleton" style="width:80%;height:20px;margin-bottom:15px;border-radius:4px;"></div><div class="k-skeleton" style="width:100%;height:100px;margin-bottom:15px;border-radius:4px;"></div><div class="k-skeleton" style="width:60%;height:20px;border-radius:4px;"></div></div><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-left:4px solid #1976d2;font-size:12px;"><strong>ğŸ’¡ NasÄ±l KullanÄ±lÄ±r:</strong> Skeleton, veri yÃ¼klenirken iÃ§eriÄŸin yerini tutan placeholder gÃ¶sterir. KullanÄ±cÄ±ya iÃ§eriÄŸin yÃ¼klendiÄŸini gÃ¶sterir ve daha iyi bir kullanÄ±cÄ± deneyimi sunar.</p></div>');
            break;
          case "pager":
            $("#" + containerId).kendoPager({
              dataSource: new kendo.data.DataSource({
                data: new Array(100),
                pageSize: 10
              }),
              total: 100
            });
            break;
          case "validator":
            $("#" + containerId).html('<form id="ornek-validator-form-' + numara + '"><input name="email" required style="width:300px;" placeholder="E-posta" /><br><br><button type="submit" class="k-button">GÃ¶nder</button></form>');
            $("#ornek-validator-form-" + numara).kendoValidator();
            break;
          case "popup":
            // Tamamen basit ve garantili Ã§Ã¶zÃ¼m - jQuery event kullan
            var popupHtml = '<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ”” Popup Ã–rneÄŸi</h3><p style="margin:0 0 20px 0;color:#666;">KÃ¼Ã§Ã¼k aÃ§Ä±lÄ±r pencere. Butona tÄ±klayarak aÃ§Ä±p kapatabilirsiniz.</p><button id="popup-btn-' + numara + '" class="k-button k-button-md k-button-solid k-button-solid-primary" style="margin-bottom:15px;">ğŸ”” Popup AÃ§</button><div id="popup-content-' + numara + '" style="display:none;padding:20px;background:white;border:2px solid #1976d2;border-radius:4px;box-shadow:0 4px 8px rgba(0,0,0,0.2);min-width:250px;margin-top:10px;"><h4 style="margin:0 0 10px 0;color:#1976d2;">ğŸ“‹ Popup BaÅŸlÄ±k</h4><p style="margin:0 0 10px 0;color:#666;">Bu bir popup penceresidir. Ä°Ã§erik burada gÃ¶sterilir.</p><ul style="margin:10px 0 0 0;padding-left:20px;"><li style="margin:5px 0;">Ã–ÄŸe 1</li><li style="margin:5px 0;">Ã–ÄŸe 2</li><li style="margin:5px 0;">Ã–ÄŸe 3</li></ul><p style="margin-top:15px;padding:10px;background:#e3f2fd;border-radius:4px;font-size:12px;"><strong>ğŸ’¡ NasÄ±l KullanÄ±lÄ±r:</strong> Popup kÃ¼Ã§Ã¼k aÃ§Ä±lÄ±r pencereler iÃ§in kullanÄ±lÄ±r.</p></div><p style="margin-top:20px;padding:10px;background:#fff3cd;border-left:4px solid #ffc107;font-size:12px;"><strong>âœ¨ Test:</strong> YukarÄ±daki butona tÄ±klayÄ±n.</p></div>';
            $("#" + containerId).html(popupHtml);
            
            // jQuery event ile aÃ§/kapat
            setTimeout(function() {
              $("#popup-btn-" + numara).on("click", function() {
                var $popup = $("#popup-content-" + numara);
                var $btn = $(this);
                if ($popup.is(":visible")) {
                  $popup.slideUp(300);
                  $btn.text("ğŸ”” Popup AÃ§");
                } else {
                  $popup.slideDown(300);
                  $btn.text("ğŸ”” Popup Kapat");
                }
              });
            }, 100);
            break;
          case "sortable":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ”„ Sortable Ã–rneÄŸi</h3><p style="margin:0 0 20px 0;color:#666;">Ã–ÄŸeleri sÃ¼rÃ¼kleyerek sÄ±ralayabilirsiniz. AÅŸaÄŸÄ±daki Ã¶ÄŸeleri sÃ¼rÃ¼kle-bÄ±rak ile yeniden sÄ±ralayÄ±n.</p><ul id="sortable-list-' + numara + '" style="list-style:none;padding:0;margin:0;min-height:200px;"><li data-id="1" style="padding:15px;margin:8px 0;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;"><strong>1. YAÄCILAR</strong> - Motorin: 125,000 L</li><li data-id="2" style="padding:15px;margin:8px 0;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;"><strong>2. TEPEKUM</strong> - Benzin: 85,000 L</li><li data-id="3" style="padding:15px;margin:8px 0;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;"><strong>3. NAMDAR</strong> - Motorin: 45,000 L</li><li data-id="4" style="padding:15px;margin:8px 0;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;"><strong>4. ÅEKER</strong> - Benzin: 67,000 L</li></ul><p style="margin-top:20px;padding:10px;background:#fff3cd;border-left:4px solid #ffc107;font-size:12px;"><strong>âœ¨ NasÄ±l KullanÄ±lÄ±r:</strong> Ã–ÄŸeleri fare ile tutup sÃ¼rÃ¼kleyerek sÄ±ralayabilirsiniz.</p></div>');
            
            setTimeout(function() {
              var $list = $("#sortable-list-" + numara);
              var $items = $list.children("li");
              var draggedItem = null;
              
              // HTML5 drag-drop (garantili Ã§alÄ±ÅŸÄ±r)
              $items.each(function() {
                this.draggable = true;
              });
              
              $items.on("dragstart", function(e) {
                draggedItem = this;
                $(this).css({"opacity": "0.5", "background": "#fff3cd"});
                e.originalEvent.dataTransfer.effectAllowed = "move";
                e.originalEvent.dataTransfer.setData("text/html", this.innerHTML);
              });
              
              $items.on("dragover", function(e) {
                e.preventDefault();
                if (this !== draggedItem) {
                  $(this).css("border-top", "4px solid #1976d2");
                }
              });
              
              $items.on("dragleave", function() {
                $(this).css("border-top", "");
              });
              
              $items.on("drop", function(e) {
                e.preventDefault();
                $(this).css("border-top", "");
                if (draggedItem && this !== draggedItem) {
                  if ($(this).index() < $(draggedItem).index()) {
                    $(this).before(draggedItem);
                  } else {
                    $(this).after(draggedItem);
                  }
                  // Numara gÃ¼ncelle
                  $list.children("li").each(function(index) {
                    var text = $(this).html();
                    text = text.replace(/^\d+\./, (index + 1) + ".");
                    $(this).html(text);
                  });
                }
              });
              
              $items.on("dragend", function() {
                $(this).css({"opacity": "", "background": "#e3f2fd"});
                $items.css("border-top", "");
                draggedItem = null;
              });
              
              // Telerik Sortable'Ä± da dene
              try {
                $list.kendoSortable({
                  filter: "li",
                  hint: function(element) {
                    return element.clone().css({"opacity": 0.7, "background": "#fff3cd"});
                  }
                });
              } catch(e) {
                console.log("Telerik Sortable yÃ¼klenemedi, HTML5 drag-drop kullanÄ±lÄ±yor");
              }
            }, 200);
            break;
          case "draggable":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ–±ï¸ Draggable Ã–rneÄŸi (72)</h3><p style="margin:0 0 10px 0;color:#666;font-weight:bold;">ğŸ“Œ Draggable = SÃ¼rÃ¼klenebilir Ã–ÄŸe</p><p style="margin:0 0 20px 0;color:#666;">Bir Ã¶ÄŸeyi fare ile tutup sÃ¼rÃ¼kleyebilir hale getirir. DropTarget (73) ile birlikte kullanÄ±lÄ±r.</p><div style="display:flex;gap:20px;align-items:flex-start;"><div style="flex:1;"><h4 style="margin:0 0 10px 0;color:#333;font-size:14px;">ğŸ–±ï¸ Draggable Ã–ÄŸe:</h4><div id="ornek-draggable-' + numara + '" style="padding:20px;background:#206d7d;color:white;width:150px;cursor:move;border-radius:4px;box-shadow:0 2px 4px rgba(0,0,0,0.2);user-select:none;text-align:center;"><strong>ğŸ“¦ YAÄCILAR</strong><br><small style="font-size:11px;">Motorin: 125,000 L</small><br><small style="font-size:10px;opacity:0.8;">SÃ¼rÃ¼kle â†’</small></div></div><div style="flex:1;"><h4 style="margin:0 0 10px 0;color:#333;font-size:14px;">ğŸ“¥ DropTarget AlanÄ±:</h4><div id="ornek-drop-area-' + numara + '" style="min-height:150px;padding:30px;background:#e3f2fd;border:3px dashed #1976d2;border-radius:4px;text-align:center;"><p style="margin:0;color:#1976d2;font-size:16px;font-weight:bold;">ğŸ“¥ BIRAKMA ALANI</p><p style="margin:10px 0 0 0;color:#666;font-size:12px;">Kutuyu buraya sÃ¼rÃ¼kleyin</p><div id="dropped-items-' + numara + '" style="margin-top:20px;"></div></div></div></div><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-left:4px solid #1976d2;font-size:12px;"><strong>ğŸ’¡ Fark:</strong> Draggable (72) = SÃ¼rÃ¼klenebilir Ã¶ÄŸe yapar. DropTarget (73) = BÄ±rakma alanÄ± tanÄ±mlar. Ä°kisi birlikte kullanÄ±lÄ±r.</p></div>');
            setTimeout(function() {
              var $draggable = $("#ornek-draggable-" + numara);
              var $dropArea = $("#ornek-drop-area-" + numara);
              var $droppedItems = $("#dropped-items-" + numara);
              
              // HTML5 drag-drop
              $draggable.attr("draggable", "true");
              
              $draggable.on("dragstart", function(e) {
                $(this).css("opacity", "0.5");
                e.originalEvent.dataTransfer.effectAllowed = "move";
                e.originalEvent.dataTransfer.setData("text/html", this.outerHTML);
              });
              
              $draggable.on("dragend", function() {
                $(this).css("opacity", "");
              });
              
              $dropArea.on("dragover", function(e) {
                e.preventDefault();
                $(this).css({"background": "#bbdefb", "border-color": "#0d47a1"});
              });
              
              $dropArea.on("dragleave", function() {
                $(this).css({"background": "#e3f2fd", "border-color": "#1976d2"});
              });
              
              $dropArea.on("drop", function(e) {
                e.preventDefault();
                $(this).css({"background": "#c8e6c9", "border-color": "#2e7d32"});
                setTimeout(function() {
                  $dropArea.css({"background": "#e3f2fd", "border-color": "#1976d2"});
                }, 500);
                
                var data = e.originalEvent.dataTransfer.getData("text/html");
                if (data) {
                  var $newItem = $(data).css({
                    "margin": "10px auto",
                    "opacity": "1",
                    "background": "#4caf50",
                    "cursor": "default"
                  });
                  $droppedItems.append($newItem);
                  $droppedItems.find("p").remove();
                  if ($droppedItems.children().length > 0) {
                    $dropArea.find("p:first").text("âœ… BÄ±rakÄ±ldÄ±! (" + $droppedItems.children().length + " Ã¶ÄŸe)");
                  }
                }
              });
              
              // Telerik Draggable/DropTarget'Ä± da dene
              try {
                $dropArea.kendoDropTarget({
                  drop: function() {
                    var $newItem = $draggable.clone().css({
                      "margin": "10px auto",
                      "opacity": "1",
                      "background": "#4caf50",
                      "cursor": "default"
                    });
                    $droppedItems.append($newItem);
                    if ($droppedItems.children().length > 0) {
                      $dropArea.find("p:first").text("âœ… BÄ±rakÄ±ldÄ±! (" + $droppedItems.children().length + " Ã¶ÄŸe)");
                    }
                  }
                });
                $draggable.kendoDraggable({
                  hint: function(element) {
                    return element.clone().css("opacity", 0.7);
                  }
                });
              } catch(e) {
                console.log("Telerik Draggable/DropTarget yÃ¼klenemedi, HTML5 kullanÄ±lÄ±yor");
              }
            }, 100);
            break;
          case "droptarget":
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ¯ DropTarget Ã–rneÄŸi (73)</h3><p style="margin:0 0 10px 0;color:#666;font-weight:bold;">ğŸ“Œ DropTarget = BÄ±rakma AlanÄ±</p><p style="margin:0 0 20px 0;color:#666;">SÃ¼rÃ¼klenen Ã¶ÄŸelerin bÄ±rakÄ±labileceÄŸi alanÄ± tanÄ±mlar. Draggable (72) ile birlikte kullanÄ±lÄ±r.</p><div style="display:flex;gap:20px;align-items:flex-start;"><div style="flex:1;"><h4 style="margin:0 0 15px 0;color:#333;">ğŸ–±ï¸ Draggable Ã–ÄŸeler (72):</h4><div id="draggable-items-' + numara + '" style="display:flex;flex-direction:column;gap:10px;"><div id="draggable-item-1-' + numara + '" class="draggable-item" style="padding:15px;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;text-align:center;"><strong>ğŸ“¦ YAÄCILAR</strong><br><small>Motorin: 125,000 L</small></div><div id="draggable-item-2-' + numara + '" class="draggable-item" style="padding:15px;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;text-align:center;"><strong>ğŸ“¦ TEPEKUM</strong><br><small>Benzin: 85,000 L</small></div><div id="draggable-item-3-' + numara + '" class="draggable-item" style="padding:15px;background:#e3f2fd;border:2px solid #1976d2;border-radius:4px;cursor:move;user-select:none;text-align:center;"><strong>ğŸ“¦ NAMDAR</strong><br><small>Motorin: 45,000 L</small></div></div></div><div style="flex:1;"><h4 style="margin:0 0 15px 0;color:#333;">ğŸ¯ DropTarget AlanÄ± (73):</h4><div id="ornek-drop-target-' + numara + '" style="min-height:200px;padding:30px;background:#e3f2fd;border:3px dashed #1976d2;border-radius:4px;text-align:center;"><p style="margin:0;color:#1976d2;font-size:16px;font-weight:bold;">ğŸ¯ BIRAKMA ALANI</p><p style="margin:10px 0 0 0;color:#666;font-size:12px;">KutularÄ± buraya sÃ¼rÃ¼kleyin</p><div id="dropped-content-' + numara + '" style="margin-top:20px;min-height:50px;"></div></div></div></div><p style="margin-top:20px;padding:10px;background:#e3f2fd;border-left:4px solid #1976d2;font-size:12px;"><strong>ğŸ’¡ Fark:</strong> Draggable (72) = Ã–ÄŸeyi sÃ¼rÃ¼klenebilir yapar. DropTarget (73) = BÄ±rakma alanÄ±nÄ± tanÄ±mlar. Ä°kisi birlikte kullanÄ±lÄ±r - Draggable Ã¶ÄŸeleri DropTarget alanÄ±na bÄ±rakÄ±lÄ±r.</p></div>');
            
            setTimeout(function() {
              var $dropTarget = $("#ornek-drop-target-" + numara);
              var $droppedContent = $("#dropped-content-" + numara);
              var $draggableItems = $(".draggable-item");
              
              // HTML5 drag-drop
              $draggableItems.attr("draggable", "true");
              
              $draggableItems.on("dragstart", function(e) {
                $(this).css("opacity", "0.5");
                e.originalEvent.dataTransfer.effectAllowed = "move";
                e.originalEvent.dataTransfer.setData("text/html", this.outerHTML);
                e.originalEvent.dataTransfer.setData("text/plain", this.id);
              });
              
              $draggableItems.on("dragend", function() {
                $(this).css("opacity", "");
              });
              
              $dropTarget.on("dragover", function(e) {
                e.preventDefault();
                $(this).css({"background": "#bbdefb", "border-color": "#0d47a1"});
              });
              
              $dropTarget.on("dragleave", function() {
                $(this).css({"background": "#e3f2fd", "border-color": "#1976d2"});
              });
              
              $dropTarget.on("drop", function(e) {
                e.preventDefault();
                $(this).css({"background": "#c8e6c9", "border-color": "#2e7d32"});
                setTimeout(function() {
                  $dropTarget.css({"background": "#e3f2fd", "border-color": "#1976d2"});
                }, 500);
                
                var itemId = e.originalEvent.dataTransfer.getData("text/plain");
                var data = e.originalEvent.dataTransfer.getData("text/html");
                
                if (data && !$droppedContent.find("[data-original-id=\"" + itemId + "\"]").length) {
                  var $newItem = $(data).css({
                    "margin": "10px auto",
                    "opacity": "1",
                    "background": "#4caf50",
                    "color": "white",
                    "cursor": "default",
                    "max-width": "200px"
                  }).attr("data-original-id", itemId);
                  $droppedContent.append($newItem);
                  
                  var count = $droppedContent.children().length;
                  $dropTarget.find("p:first").text("âœ… " + count + " Ã¶ÄŸe bÄ±rakÄ±ldÄ±!");
                }
              });
              
              // Telerik DropTarget ve Draggable'Ä± da dene
              try {
                $dropTarget.kendoDropTarget({
                  drop: function(e) {
                    var itemId = $(e.draggable.currentTarget).attr("id");
                    if (!$droppedContent.find("[data-original-id=\"" + itemId + "\"]").length) {
                      var $newItem = $(e.draggable.currentTarget).clone().css({
                        "margin": "10px auto",
                        "opacity": "1",
                        "background": "#4caf50",
                        "color": "white",
                        "cursor": "default",
                        "max-width": "200px"
                      }).attr("data-original-id", itemId);
                      $droppedContent.append($newItem);
                      var count = $droppedContent.children().length;
                      $dropTarget.find("p:first").text("âœ… " + count + " Ã¶ÄŸe bÄ±rakÄ±ldÄ±!");
                    }
                  }
                });
                
                $draggableItems.each(function() {
                  $(this).kendoDraggable({
                    hint: function(element) {
                      return element.clone().css("opacity", 0.7);
                    }
                  });
                });
              } catch(e) {
                console.log("Telerik DropTarget/Draggable yÃ¼klenemedi, HTML5 kullanÄ±lÄ±yor");
              }
            }, 100);
            break;
          case "datasource":
            // DataSource Ã¶rneÄŸi - Grid ile veri yÃ¼kleme
            $("#" + containerId).html('<div style="padding:20px;"><h3 style="margin:0 0 15px 0;color:#206d7d;">ğŸ“Š DataSource Ã–rneÄŸi</h3><p style="margin:0 0 20px 0;color:#666;">DataSource ile veri yÃ¼klenen Grid Ã¶rneÄŸi. DataSource verileri yÃ¶netir, Grid gÃ¶sterir.</p><div id="datasource-grid-' + numara + '" style="height:300px;"></div></div>');
            
            // DataSource oluÅŸtur
            var dataSource = new kendo.data.DataSource({
              data: [
                {id: 1, sube: "YAÄCILAR", urun: "Motorin", miktar: 125000, fiyat: 25.50, tutar: 3187500},
                {id: 2, sube: "TEPEKUM", urun: "Benzin", miktar: 85000, fiyat: 28.75, tutar: 2443750},
                {id: 3, sube: "NAMDAR", urun: "Motorin", miktar: 45000, fiyat: 25.50, tutar: 1147500},
                {id: 4, sube: "ÅEKER", urun: "Benzin", miktar: 60000, fiyat: 28.75, tutar: 1725000}
              ],
              schema: {
                model: {
                  fields: {
                    id: { type: "number" },
                    sube: { type: "string" },
                    urun: { type: "string" },
                    miktar: { type: "number" },
                    fiyat: { type: "number" },
                    tutar: { type: "number" }
                  }
                }
              }
            });
            
            // Grid'i DataSource ile oluÅŸtur
            $("#datasource-grid-" + numara).kendoGrid({
              dataSource: dataSource,
              columns: [
                {field: "id", title: "ID", width: 60},
                {field: "sube", title: "Åube", width: 120},
                {field: "urun", title: "ÃœrÃ¼n", width: 100},
                {field: "miktar", title: "Miktar", width: 100, format: "{0:n0} L"},
                {field: "fiyat", title: "Fiyat", width: 100, format: "{0:n2} TL"},
                {field: "tutar", title: "Tutar", width: 120, format: "{0:n2} TL"}
              ],
              height: 300,
              sortable: true,
              filterable: true,
              pageable: {pageSize: 5}
            });
            break;
          default:
            $("#" + containerId).html('<p style="color:#666;padding:20px;">Bu bileÅŸen iÃ§in Ã¶rnek hazÄ±rlanÄ±yor...<br>BileÅŸen: ' + ad + '</p>');
        }
        
        // Window'u gÃ¶ster - BILEÅENLER OLUÅTURULDUKTAN SONRA
        // setTimeout kullanan bileÅŸenler iÃ§in bekle (TabStrip, PanelBar, vb.)
        var needsDelay = (ornekTip === "tabstrip" || ornekTip === "panelbar" || ornekTip === "treeview" || ornekTip === "menu");
        var delayTime = needsDelay ? 500 : 100;
        
        setTimeout(function() {
          var windowWidth = 900;
          var windowHeight = 700;
          
          // Splitter iÃ§in daha bÃ¼yÃ¼k pencere
          if (ornekTip === "splitter") {
            windowWidth = 1000;
            windowHeight = 600;
          }
          
          // Modal element kontrolÃ¼
          var windowElement = $("#bilesen-ornek-window");
          if (windowElement.length === 0) {
            console.error("âŒ Modal elementi bulunamadÄ±: #bilesen-ornek-window");
            return;
          }
          
          // EÄŸer daha Ã¶nce oluÅŸturulmuÅŸsa destroy et
          var existingWindow = windowElement.data("kendoWindow");
          if (existingWindow) {
            try {
              existingWindow.destroy();
            } catch(e) {
              console.warn("âš ï¸ Mevcut window destroy edilirken hata:", e);
            }
          }
          
          // kendoWindow oluÅŸtur
          if (typeof kendo !== 'undefined' && typeof $.fn.kendoWindow !== 'undefined') {
            try {
              var window = windowElement.kendoWindow({
                title: "#" + numara + " - " + ad + " Ã–rneÄŸi",
                width: windowWidth,
                height: windowHeight,
                modal: true,
                resizable: true,
                draggable: true,
                visible: false
              }).data("kendoWindow");
              
              if (window) {
                window.center().open();
                console.log("âœ… Modal aÃ§Ä±ldÄ±:", numara, ad);
              } else {
                console.error("âŒ Modal oluÅŸturulamadÄ± - window undefined");
                // Alternatif: Basit alert gÃ¶ster
                alert("#" + numara + " - " + ad + " Ã¶rneÄŸi hazÄ±rlanÄ±yor...");
              }
            } catch(e) {
              console.error("âŒ Modal oluÅŸturma hatasÄ±:", e);
              alert("Modal aÃ§Ä±lÄ±rken hata: " + e.message);
            }
          } else {
            console.error("âŒ Telerik Window yÃ¼klenmedi");
            alert("Telerik Window kÃ¼tÃ¼phanesi yÃ¼klenmedi!");
          }
        }, delayTime);
      } catch(error) {
        console.error("BileÅŸen Ã¶rneÄŸi gÃ¶sterilirken hata:", error);
        alert("Ã–rnek gÃ¶sterilirken hata oluÅŸtu: " + error.message);
      }
    }
    
    // FÄ°YAT DEÄÄ°ÅÄ°MÄ° OVERRIDE KALDIRILDI - Åu an kullanÄ±lmÄ±yor, operasyon override'Ä±nÄ± bozuyordu
    // var originalShowPageOnlyFiyat = window.showPageOnly;
    // if (typeof originalShowPageOnlyFiyat === 'function') {
    //   window.showPageOnly = function(pageId) {
    //     originalShowPageOnlyFiyat(pageId);
    //     if (pageId === 'fiyat-degisimi') {
    //       setTimeout(function() {
    //         if ($("#main-content-fiyat-degisimi").is(":visible")) {
    //           console.log("ğŸš€ Fiyat DeÄŸiÅŸimi sayfasÄ± gÃ¶sterildi, referans tablosu baÅŸlatÄ±lÄ±yor...");
    //           initFiyatDegisimiBilesenlerTablosu();
    //         }
    //       }, 300);
    //     }
    //   };
    // }
    
    // TabStrip select event'inde de kontrol et
    if (typeof tabStrip !== 'undefined' && tabStrip) {
      tabStrip.bind("select", function(e) {
        var tabItem = $(e.item);
        var tabId = tabItem.attr("data-tab-id");
        var tabText = tabItem.text() || tabItem.html() || "";
        
        if (!tabId && tabText.indexOf("Fiyat") >= 0) {
          tabId = "fiyat-degisimi";
        }
        
        if (tabId === "fiyat-degisimi") {
          // Fiyat Degisimi sayfasi artik bos; ek islem yok.
        }
      });
    }
    
    // Ribbon buton tÄ±klamasÄ±nda da kontrol et
    $(document).on("click", ".ribbon-button", function() {
      var buttonText = $(this).text().trim();
      if (buttonText === "Fiyat DeÄŸiÅŸimi" || buttonText.includes("Fiyat")) {
        // Fiyat Degisimi sayfasi artik bos; ek islem yok.
      }
    });
    
    // Sayfa yÃ¼klendiÄŸinde kontrol et
    $(document).ready(function() {
      setTimeout(function() {
        // Fiyat Degisimi sayfasi artik bos; ek islem yok.
      }, 1000);
    });
    
    // 8, 9, 10 NUMARALI Ã–RNEKLERÄ° OLUÅTUR - TELERÄ°K SÄ°TESÄ°NDEKÄ° FORMAT
    function initFiyatDegisimiOrnekleri() {
      console.log("ğŸš€ Fiyat DeÄŸiÅŸimi Ã¶rnekleri oluÅŸturuluyor (Telerik formatÄ±)...");
      
      setTimeout(function() {
        // 8 - TabStrip (Telerik HTML formatÄ±)
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoTabStrip !== 'undefined') {
          var tabstrip8 = $("#fiyat-degisimi-tabstrip-8");
          if (tabstrip8.length > 0) {
            try {
              if (tabstrip8.data("kendoTabStrip")) {
                tabstrip8.data("kendoTabStrip").destroy();
              }
              tabstrip8.kendoTabStrip();
              console.log("âœ… #8 TabStrip oluÅŸturuldu (Telerik HTML formatÄ±)");
            } catch(e) {
              console.error("âŒ #8 TabStrip hatasÄ±:", e);
            }
          }
        }
        
        // 9 - TreeView
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoTreeView !== 'undefined') {
          var treeview9 = $("#fiyat-degisimi-treeview-9");
          if (treeview9.length > 0) {
            try {
              if (treeview9.data("kendoTreeView")) {
                treeview9.data("kendoTreeView").destroy();
              }
              treeview9.kendoTreeView({
                dataSource: [
                  {text: "YAÄCILAR", items: [{text: "Motorin"}, {text: "Benzin"}]},
                  {text: "TEPEKUM", items: [{text: "Motorin"}, {text: "Benzin"}]},
                  {text: "NAMDAR"}
                ]
              });
              console.log("âœ… #9 TreeView oluÅŸturuldu");
            } catch(e) {
              console.error("âŒ #9 TreeView hatasÄ±:", e);
            }
          }
        }
        
        // 10 - PanelBar (Telerik HTML formatÄ±) - Ä°Ã§inde tablolar var
        if (typeof kendo !== 'undefined' && typeof $.fn.kendoPanelBar !== 'undefined') {
          var panelbar10 = $("#fiyat-degisimi-panelbar-10");
          if (panelbar10.length > 0) {
            try {
              if (panelbar10.data("kendoPanelBar")) {
                panelbar10.data("kendoPanelBar").destroy();
              }
              // Ã–nce PanelBar'Ä± oluÅŸtur
              panelbar10.kendoPanelBar({
                expandMode: "multiple" // Birden fazla panel aynÄ± anda aÃ§Ä±k olabilsin
              });
              console.log("âœ… #10 PanelBar oluÅŸturuldu (Telerik HTML formatÄ±)");
              
              // PanelBar oluÅŸturulduktan sonra tablolarÄ± oluÅŸtur
              setTimeout(function() {
                initPanelBarSubelerTablo();
                initPanelBarUrunlerTablo();
                initPanelBarFirmalarTablo();
              }, 300);
            } catch(e) {
              console.error("âŒ #10 PanelBar hatasÄ±:", e);
            }
          }
        }
      }, 500);
    }
    
    // PanelBar iÃ§indeki tablolarÄ± oluÅŸtur
    function initPanelBarSubelerTablo() {
      var grid = $("#panelbar-subeler-tablo");
      if (grid.length > 0 && !grid.data("kendoGrid")) {
        grid.kendoGrid({
          dataSource: {
            data: [
              {id: 1, ad: "YAÄCILAR", kod: "YGC", durum: "Aktif"},
              {id: 2, ad: "TEPEKUM", kod: "TPK", durum: "Aktif"},
              {id: 3, ad: "NAMDAR", kod: "NMD", durum: "Aktif"},
              {id: 4, ad: "ÅEKER", kod: "SKR", durum: "Pasif"}
            ],
            pageSize: 10
          },
          columns: [
            {field: "id", title: "#", width: 60},
            {field: "ad", title: "Åube AdÄ±", width: 150},
            {field: "kod", title: "Kod", width: 100},
            {field: "durum", title: "Durum", width: 100}
          ],
          height: 250,
          scrollable: true,
          pageable: true
        });
      }
    }
    
    function initPanelBarUrunlerTablo() {
      var grid = $("#panelbar-urunler-tablo");
      if (grid.length > 0 && !grid.data("kendoGrid")) {
        grid.kendoGrid({
          dataSource: {
            data: [
              {id: 1, ad: "Motorin", birim: "Litre", fiyat: 45.50},
              {id: 2, ad: "Benzin", birim: "Litre", fiyat: 52.30},
              {id: 3, ad: "Mazot", birim: "Litre", fiyat: 48.75}
            ],
            pageSize: 10
          },
          columns: [
            {field: "id", title: "#", width: 60},
            {field: "ad", title: "ÃœrÃ¼n AdÄ±", width: 150},
            {field: "birim", title: "Birim", width: 100},
            {field: "fiyat", title: "Fiyat (TL)", width: 120, format: "{0:n2}"}
          ],
          height: 250,
          scrollable: true,
          pageable: true
        });
      }
    }
    
    function initPanelBarFirmalarTablo() {
      var grid = $("#panelbar-firmalar-tablo");
      if (grid.length > 0 && !grid.data("kendoGrid")) {
        grid.kendoGrid({
          dataSource: {
            data: [
              {id: 1, ad: "ABC Petrol", telefon: "0212 555 0001", sehir: "Ä°stanbul"},
              {id: 2, ad: "XYZ Enerji", telefon: "0216 555 0002", sehir: "Ankara"},
              {id: 3, ad: "DEF YakÄ±t", telefon: "0232 555 0003", sehir: "Ä°zmir"}
            ],
            pageSize: 10
          },
          columns: [
            {field: "id", title: "#", width: 60},
            {field: "ad", title: "Firma AdÄ±", width: 200},
            {field: "telefon", title: "Telefon", width: 150},
            {field: "sehir", title: "Åehir", width: 120}
          ],
          height: 250,
          scrollable: true,
          pageable: true
        });
      }
    }
  </script>
{% endblock %}

